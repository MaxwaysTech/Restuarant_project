((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[75],{1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return A})),n.d(t,"b",(function(){return L})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return S}));var r,a=n(616),c=n(183),o=n(607),i=n.n(o),s=n(608),u=n(612),d=n(621),l=n(611),p=n(917),f=n.n(p),b=n(670),O=n(136),v=n.n(O),h=n(63),j=n(780),g=n(609),m=n(275),x=n.n(m),y=n(773),I=n(958),w=n(610),C=n(651),E=n(801);var k=Object(h.a)({},"PULSE",(function(e){var t=Object(w.f)("trigger.borderColor")({theme:e}),n=Object(s.keyframes)(r||(r=Object(j.a)(["0%{box-shadow:0 0 0 0 ","}100%{box-shadow:0 0 0 10px ","}"])),Object(C.j)(t,.6),Object(C.j)(t,0));return Object(s.css)("animation:",n," 2s ease infinite;")})),T=function(e){var t=e.triggerAnimationInfo,n=e.theme,r=x()(t,"effect"),a=k[r];return a?a(n):""},_=function(e){return Object(w.f)("trigger.yPadding",20)({theme:e})},S=function(e){return Object(w.f)("trigger.xPadding",20)({theme:e})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.leftOffset,n=void 0===t?0:t,r=e.rightOffset,a=void 0===r?0:r;return function(e){var t=e.theme,r=Object(w.f)("trigger.align","right")({theme:t}),c=S(t),o=r===E.f.LEFT?n:a;return"".concat(r,": ").concat(c+o,"px")}},R=function(e){var t=Object(w.f)("trigger.size")(e);return Math.min(Object(w.f)("trigger.borderRadius",t/2)(e),t/2)*(1-Math.pow(2,-.5))},N=function(e){return.13*Object(w.f)("trigger.overlayIconButton.button.height")(e)},L=function(e){return _(e.theme)+Object(w.f)("trigger.size")(e)-.5*Object(w.f)("trigger.overlayIconButton.button.height")(e)-(R(e)-N(e))},D=function(e){return-.5*Object(w.f)("trigger.overlayIconButton.button.height")(e)+(R(e)-N(e))},M=Object(g.a)("div",{target:"e1hh16yv0"})("width:",(function(e){return Object(w.f)("trigger.overlayIconButton.button.width")(e)}),"px;height:",(function(e){return Object(w.f)("trigger.overlayIconButton.button.height")(e)}),"px;border-radius:",(function(e){return Object(w.a)("trigger.overlayIconButton.borderRadius","".concat(Object(w.f)("trigger.overlayIconButton.button.height")(e)/2,"px"))(e)}),";background-color:",Object(w.f)("trigger.removeIcon.backgroundColor"),";bottom:",(function(e){return L(e)}),"px;",(function(e){return A({leftOffset:D(e),rightOffset:D(e)})(e)}),";position:fixed;z-index:",(function(e){return Object(w.f)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(w.f)("frame.translateZ")(e)}),"px);cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;"),P=Object(g.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),U=Object(g.a)(I.a,{target:"e1hh16yv2"})("width:",(function(e){return Object(w.f)("trigger.overlayIconButton.icon.width")(e)}),"px;height:",(function(e){return Object(w.f)("trigger.overlayIconButton.icon.height")(e)}),"px;fill:",Object(w.f)("trigger.removeIcon.fill"),";"),B="\n  ".concat(M," {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n"),F=Object(g.a)("div",{target:"e1hh16yv3"})((function(e){return e.enableTriggerHideIcon&&"\n    &:hover {\n      ".concat(e.applyRemoveIconStyles&&B,";\n    }\n  ")}),";"),G=Object(g.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(w.f)("trigger.boxShadow"),";border-radius:",(function(e){return Object(w.a)("trigger.borderRadius","".concat(Object(w.f)("trigger.size")(e)/2,"px}"))(e)}),";bottom:",(function(e){return _(e.theme)}),"px;height:",Object(w.f)("trigger.size"),"px;position:fixed;",A(),";transition:",(function(e){return e.enableTriggerWidthTransition?"width 0.08s":"none"}),";visibility:",(function(e){return e.showTrigger?"visible":"hidden"}),";width:",(function(e){var t=e.showLabel,n=e.labelWidth,r=e.showTrigger,a=e.theme;return t?r?"".concat(n+26+8+48,"px"):"100%":"".concat(Object(w.f)("trigger.size")({theme:a}),"px")}),";z-index:",(function(e){return Object(w.f)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(w.f)("frame.translateZ")(e)}),"px);"),W=Object(g.a)(y.a,{target:"e1hh16yv5"})("border-radius:",(function(e){return Object(w.a)("trigger.borderRadius","".concat(Object(w.f)("trigger.size")(e)/2,"px}"))(e)}),";border:0 none;height:100%;width:100%;"),z=function(e,t){var n=!((Object(w.f)("trigger.backgroundUrls")({theme:e})||Object(w.f)("trigger.icon.url")({theme:e}))&&t.isMinimized);return Object(s.css)("body{",n&&"background-color: ".concat(Object(w.f)("trigger.backgroundColor")({theme:e})),";}")},V=n(1196),H=n(1197),Y=n(623),q=n(984),K=n(624),X=n(639),Z=n(647),J=n(617),Q=n(643),$=n(896),ee=n(657),te=n(637),ne=n(135),re=n(185),ae=n(630),ce=n(189),oe=n(622),ie=n(676),se=function(e){return Object(ie.g)(Object(oe.b)(e))},ue=n(735),de=n(629),le=n(650),pe=n(690),fe=n(711),be=function(e){return Object(oe.b)(e).meta.isTriggerManuallyHidden},Oe=function(){!function(){var e=Object(K.a)(ae.h),t=Object(Q.a)(),n=ee.a.getNoDisplayConfigFilter(t),r=Object($.a)(n,{defaultValue:!1,logOnSuccess:!0}).hasPassed,a=Object(u.d)(se);Object(o.useEffect)((function(){!v()(n)&&a&&(r&&Object(ce.a)("Sprinklr Chat hidden by display criteria"),e({value:r}))}),[n,a,r])}();var e=Object(K.a)(ae.c),t=Object(Y.a)().trigger.hideTimeout,n=Object(u.c)(),r=Object(o.useRef)(null),a=Object(o.useRef)(!t),c=Object(u.d)(be),i=Object(u.d)(de.h),s=Object(le.d)(i),d=Object(Z.a)();a.current||(a.current=!0,Object(ue.c)(s).then((function(e){e&&Date.now()<=e?r.current=window.setTimeout((function(){n({type:pe.m,payload:{}})}),e-Date.now()):n({type:pe.m,payload:{}})})));var l=Object(o.useCallback)(Object(re.a)(Object(ne.a)().mark((function a(){return Object(ne.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=4;break}return a.next=3,Object(ue.l)(s,Date.now()+t);case 3:r.current=window.setTimeout((function(){n({type:pe.m,payload:{}})}),t);case 4:d({action:fe.a.CHAT_TRIGGER_REMOVED}),e();case 6:case"end":return a.stop()}}),a)}))),[t,e,n,s]);return Object(o.useEffect)((function(){c||(Object(ue.i)(s),r.current&&(window.clearTimeout(r.current),r.current=null))}),[c]),l},ve=n(648),he=n(680),je=n(619),ge=function(e){return Object(ie.g)(Object(oe.b)(e))},me=function(e){return Object(ie.f)(Object(oe.b)(e))},xe=function(e){return Object(oe.d)(e)},ye=function(e){return e?Math.ceil(e.clientWidth):0},Ie=i.a.memo(Object(l.h)((function(e){var t=Object(o.useRef)(null),n=Object(Y.a)(),r=Object(d.b)(),i=Object(J.a)(),l=Object(o.useRef)(),p=Object(o.useRef)(),O=Object(X.a)()(te.a.getTriggerConfig(n),"label"),h=Oe(),j=Object(o.useState)(!0),g=Object(c.a)(j,2),m=g[0],y=g[1],I=Object(o.useState)(O),C=Object(c.a)(I,2),E=C[0],k=C[1],_=Object(o.useState)(!1),S=Object(c.a)(_,2),A=S[0],R=S[1],N=Object(o.useState)(!1),L=Object(c.a)(N,2),D=L[0],B=L[1],ne=Object(o.useState)(!1),re=Object(c.a)(ne,2),ce=re[0],ie=re[1],se=Object(o.useState)(0),ue=Object(c.a)(se,2),de=ue[0],le=ue[1],pe=Object(u.d)(oe.b),be=Object(u.d)(ge),Ie=Object(u.d)(me),we=Object(u.d)(xe),Ce=Object(K.a)(ae.g),Ee=Object(Z.a)(),ke=te.a.getAnimationInfoOfTrigger(n),Te=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(Q.a)(),i=ee.a.getTriggerAnimationConfigFilter(a),s=Object($.a)(i,{defaultValue:!1,logOnSuccess:!0}).hasPassed,u=te.a.getAnimationInfoOfTrigger(ee.a.getCustomizationConfig(a)),d=x()(u,"effect");return Object(o.useEffect)((function(){!v()(i)&&d&&r(s)}),[i,d,s]),{showChatTriggerAnimation:n}}(),_e=Te.showChatTriggerAnimation,Se=f()(Ie),Ae=f()(ce),Re=f()(E);Object(o.useEffect)((function(){(Se||!Ae)&&!(Ie||!ce)&&Ee({action:fe.a.TRIGGER_VISIBLE})}),[ce,Ae,Ie,Se,Ee]),Object(o.useEffect)((function(){return ce&&!i&&(l.current=window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){B(!0)}))}))),function(){l.current&&window.cancelAnimationFrame(l.current)}}),[ce,i]),Object(o.useEffect)((function(){var e=i?"":O;Re!==e&&k(e)}),[i,O,Re]);var Ne=e.intl.formatMessage,Le=te.a.canTriggerBeManuallyRemoved(n)&&be&&v()(we),De=Object(o.useMemo)((function(){return Object(w.f)("trigger.icon.type")({theme:r})}),[r]),Me=Object(o.useMemo)((function(){return Object(w.f)("trigger.closeIcon.type")({theme:r})}),[r]),Pe=Object(q.a)(),Ue=Object(o.useCallback)((function(){Ce(!be)}),[be,Ce]),Be=Object(o.useCallback)((function(){A&&(ie(!0),le(ye(p.current))),Pe(t)}),[A,Pe]),Fe=Object(o.useCallback)((function(){le(ye(p.current))}),[]),Ge=Object(o.useCallback)((function(e){R(e),ie(e),le(ye(p.current))}),[]),We=Object(o.useCallback)((function(e){y(e)}),[]);return Ie||i&&!be?null:Object(s.jsx)(F,{enableTriggerHideIcon:Le,applyRemoveIconStyles:m,"data-testid":"triggerContainer"},Object(s.jsx)(G,{showTrigger:ce,showLabel:be&&!!E,css:_e?T({triggerAnimationInfo:ke,theme:r}):"",labelWidth:de,enableTriggerWidthTransition:D,theme:r,className:"spr-chat__trigger-box spr-live-chat-frame"},Object(s.jsx)(V.a,null,(function(e){var n=e.ChatTriggerPage;return Object(s.jsx)(W,{"aria-label":Ne(ve.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:Be,shouldHideLocaleLoader:!0,title:Ne(ve.a.liveChat)},Object(s.jsx)(s.Global,{styles:z(r,{isMinimized:be})}),Object(s.jsx)("div",{className:"full-height full-width",ref:t},Object(s.jsx)(b.FrameContextConsumer,null,(function(e){var t=e.window;return Object(s.jsx)(H.a,{window:t,onResize:Fe,resizeRefs:p},(function(e){return Object(s.jsx)(n,Object(a.a)({},pe,{triggerIconName:De,closeIconName:Me,label:E,innerLabelRef:e,onClick:Ue,onLoad:Ge,toggleRemoveIconVisibility:We}))}))}))))}))),Le&&Object(s.jsx)(M,{onClick:h,"data-testid":"triggerCloseIconContainer"},Object(s.jsx)(P,null,Object(s.jsx)(U,{alt:he.a,name:je.a.CLOSE}))))})))},1040:function(e,t,n){"use strict";var r=n(609),a=(n(607),n(610)),c=n(648),o=n(616),i=n(611),s=n(608),u=function(e){return Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(i.b,Object(o.a)({},e.message,{values:{count:"".concat(e.unreadCount)}})))},d=Object(r.a)("div",{target:"e1bo82op0"})("background:",Object(a.f)("notification.backgroundColor"),";color:",Object(a.f)("notification.color"),";font-size:",Object(a.e)("xs"),";font-weight:600;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.2);border-radius:50%;");t.a=function(e){return Object(s.jsx)(d,{"aria-live":"polite",className:"center-x-y ".concat(e.className)},Object(s.jsx)(u,{message:1===e.count?c.a.newNotification:c.a.newNotifications}),(t=e.count)>=10?"9+":t);var t}},1055:function(e,t,n){var r=n(35).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},1056:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r="@conversation/NEW_CONVERSATION_OPEN",a="@conversation/EXISTING_CONVERSATION_OPEN",c="@conversation/MEDIA_SEND"},1068:function(e,t,n){var r=n(204),a=n(197),c=n(56),o=n(654),i=n(830);e.exports=function(e){if(null==e)return 0;if(c(e))return o(e)?i(e):e.length;var t=a(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},1069:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(607),a=function(e){var t=Object(r.useRef)(e);return t.current=e,t}},1070:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(20);function a(){return Object(r.w)()}},1073:function(e,t,n){"use strict";var r=n(183),a=n(607),c=n(612),o=n(652),i=n(724),s=n(629),u=n(650),d=n(661),l=n(1074),p=(new o.a).setUrl("/video-chat/conversation/log/event").setType(d.a.POST).build(),f="AUDIO_CALL",b="VIDEO_CALL";t.a=function(e){var t=e.videoConversationId,n=e.conversationId,o=e.isAudioCall,d=Object(i.a)(p,{ignoreResults:!0},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),O=Object(r.a)(d,1)[0],v=Object(a.useCallback)((function(e){var t=Date.now();return e.forEach((function(e){e.offsetTime=t-e.logTime})),O(e)}),[O]),h=Object(c.d)(s.h),j=Object(u.d)(h),g=o?f:b,m=Object(a.useCallback)((function(e){var r=e.message;return{videoConversationId:t,logMessage:"USER: ".concat(r),loggerSnUserId:j,category:g,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,j,g]),x=Object(a.useMemo)((function(){return new l.a(v,{batch:!0,adapter:m,skip:!t})}),[v,m,t]);return Object(a.useEffect)((function(){return function(){x.cleanup()}}),[]),x}},1074:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(34),a=n(615),c=n(614),o=n(189),i=n(184),s="debug",u="info",d="warning",l="error",p=Object(a.a)((function e(t,n){var a=this,p=n.batch,f=n.skip,b=n.adapter;Object(c.a)(this,e),this.batch=void 0,this.logFn=void 0,this.logQueue=void 0,this.batchTimeoutId=void 0,this.skip=void 0,this.adapter=void 0,this.batchLogs=function(){a.batchTimeoutId&&clearTimeout(a.batchTimeoutId),a.batchTimeoutId=window.setTimeout((function(){a.logQueue.length&&(a.logFn(a.logQueue),a.logQueue=[]),a.batchLogs()}),5e3)},this.log=function(e){if(!a.skip){!function(e){var t=e.level,n=e.message,r=e.category,a="timeStamp: ".concat(Date.now()," category: ").concat(r," message: ").concat(n);switch(t){case s:Object(o.a)(a);break;case l:Object(i.b)(a);break;case u:console.info(a);break;case d:console.warn(a)}}(e);var t=a.adapter(e);return a.batch?(a.batchTimeoutId||a.batchLogs(),a.logQueue.push(t)):a.logFn(t)}},this.debug=function(e){a.log(Object(r.a)(Object(r.a)({},e),{},{level:s}))},this.info=function(e){a.log(Object(r.a)(Object(r.a)({},e),{},{level:u}))},this.warning=function(e){a.log(Object(r.a)(Object(r.a)({},e),{},{level:d}))},this.error=function(e){a.log(Object(r.a)(Object(r.a)({},e),{},{level:l}))},this.cleanup=function(){a.batchTimeoutId&&(clearTimeout(a.batchTimeoutId),a.logQueue.length&&a.logFn(a.logQueue))},this.logFn=t,this.logQueue=[],this.batch=!!p,this.skip=f,this.adapter=b,this.batchTimeoutId=null}))},1075:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(626),a=Object(r.a)((function(){return n.e(16).then(n.bind(null,2047))}))},1076:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(607),a=n.n(r),c=n(642),o=n.n(c),i=n(1278),s=n(608),u={debug:o.a,info:o.a,error:o.a,warning:o.a},d=a.a.createContext(u),l=function(e){var t=e.videoConversationId,n=e.conversationId,r=e.children,a=Object(i.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(d.Provider,{value:a},r)}},1077:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},1078:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,a=n(607),c=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n=e.title,s=e.titleId,u=i(e,c);return a.createElement("svg",o({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 12 14",enableBackground:"new 0 0 12 14",xmlSpace:"preserve",ref:t,"aria-labelledby":s},u),n?a.createElement("title",{id:s},n):null,r||(r=a.createElement("g",{id:"engagement-score"},a.createElement("g",{id:"Smart-asset-recommendation_01-Copy-34",transform:"translate(-411.000000, -423.000000)"},a.createElement("g",{id:"sid-attachment",transform:"translate(411.000000, 423.000000)"},a.createElement("path",{id:"Path",d:"M4.198631,14c-0.795512,0-1.522396-0.264849-1.975732-0.533564 c-0.935669-0.604609-1.488565-1.349375-1.661586-2.226082c-0.269682-1.364355,0.514231-2.51606,0.548062-2.56439 L6.67506,0.873082c1.065194-1.312643,2.615621-0.865591,3.290308-0.449953 c1.521429,1.023147,1.054561,2.670234,0.598326,3.400017L6.271988,10.15873 c-0.629257,1.008649-1.688651,0.968534-2.244446,0.690638c-0.036731-0.018849-0.072495-0.04108-0.105359-0.067179 c-0.939536-0.751049-0.665021-1.85394-0.25035-2.41167l3.49426-5.083352C7.351682,3.016519,7.721889,2.94789,7.99157,3.133961 c0.270648,0.186071,0.339277,0.555795,0.152723,0.82596L4.637467,9.060672 C4.509876,9.241426,4.356186,9.554121,4.612336,9.807854C4.772792,9.864884,5.048273,9.876,5.27639,9.511591l4.291706-6.33655 c0.103426-0.170605,0.640856-1.156538-0.245517-1.753897c-0.086994-0.050747-1.072927-0.605092-1.70315,0.171571 l-5.53862,7.766636l0,0c0,0-0.52873,0.794545-0.352809,1.660136c0.111159,0.545162,0.488133,1.028462,1.12029,1.437335 c0.171088,0.09956,1.90517,1.040545,3.079589-0.574644l4.485993-6.424994c0.18752-0.269198,0.557729-0.335411,0.827411-0.14644 c0.268715,0.187521,0.334443,0.557728,0.146922,0.826927l-4.492759,6.433692C6.1096,13.653474,5.108202,14,4.198631,14z"}))))))}var u=a.forwardRef(s);n.p},1079:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},a={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},1080:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(607),a=n.n(r),c=n(608),o=a.a.createContext("MOBILE");t.b=function(e){return Object(c.jsx)(o.Provider,{value:e.device},e.children)}},1081:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(655),a=function(e,t){var n={conversationId:t};return e?{type:r.bb,payload:n}:{type:r.cb,payload:n}}},1084:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return h}));var r=n(63),a=n(136),c=n.n(a),o=n(275),i=n.n(o),s=n(914),u=n(700),d=n(1288),l=n(660),p=function(e){var t;return t={},Object(r.a)(t,s.a.MIC,!1),Object(r.a)(t,s.a.CAMERA,!1),Object(r.a)(t,s.a.DRAG,!e),Object(r.a)(t,s.a.FULL_SCREEN,e),t},f=function(e){return e===u.d.WAITING},b=function(e){return e===u.f.WAITING?u.f.WAITING:u.f.SETUP},O=function(e,t){return function(e,t){switch(e.state){case d.a.CALL_INITIATED:case d.a.CALL_STARTING:return t.WAITING;case d.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}}(e,t?u.d:u.f)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?l.a.AUDIO_CALL_JOIN_CTA_CLICKED:l.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?l.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:l.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},h=function(e){var t,n=e.callDetails,r=e.rejoiningVideoConversationId,a=i()(n,"state"),o=a===u.d.FAILED||a===u.f.FAILED;return!c()(n)&&(n.videoConversationId!==r||!o||!((t=n.reason)===u.c.REJOINING_FAILED_DUE_TO_OTHER_REASONS||t===u.e.REJOINING_FAILED_DUE_TO_OTHER_REASONS))}},1195:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(607),a=n(778);function c(e){return e.width<=430||e.width<=930&&e.height<=430}t.a=function(){var e=Object(a.a)();return Object(r.useMemo)((function(){return c(e)}),[e])}},1196:function(e,t,n){"use strict";var r=n(183),a=n(607),c=n(609);var o=Object(c.a)("div",{target:"e1ippspd0"})({name:"1enwibq",styles:"position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;"}),i=n(638),s=n(1070),u=n(20),d=n(608);t.a=function(e){var t=Object(s.a)(),c=Object(a.useState)(),l=Object(r.a)(c,2),p=l[0],f=l[1];Object(a.useEffect)((function(){var e=!0;n(1270)("./".concat(t.toLowerCase(),"/pages")).then((function(t){return e&&f(t),function(){e=!1}}))}),[]);var b=null;return Object(u.K)()&&!p&&(b=Object(d.jsx)(i.c,{className:"flex-row-container center-x-y full-height"})),p&&(b=e.children(p)),Object(d.jsx)(o,{className:e.className},b)}},1197:function(e,t,n){"use strict";var r=n(627),a=n(607),c=n.n(a),o=n(708),i=n.n(o),s=n(987),u=n(695),d=n(608),l=function(e){var t=Object(s.a)(e.window,e.onResize),n=Object(a.useMemo)((function(){return[].concat(Object(r.a)(i()(e.resizeRefs||[])),[t])}),[t,e.resizeRefs]),o=u.a.apply(void 0,Object(r.a)(n));return Object(d.jsx)(c.a.Fragment,null,e.children(o))};t.a=l},1198:function(e,t,n){"use strict";n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return I}));var r=n(34),a=n(135),c=n(185),o=n(188),i=n.n(o),s=n(1693),u=n.n(s),d=n(39),l=n.n(d),p=n(136),f=n.n(p),b=n(762),O=n.n(b);function v(e){var t=function(e){var t=e.url,n=e.data,r=e.method,a=void 0===r?"GET":r,c=e.contentType,o=O()(),s=document.createElement("form"),d=document.body;if(s.setAttribute("id","spr-chat-download-form-".concat(o)),s.setAttribute("target","_top"),s.setAttribute("action",t),s.setAttribute("method",a),s.style.display="none",c&&(s.enctype=c),!f()(n)){var p="";i()(n,(function(e,t){p+='<input type="hidden" id="'.concat(t,'" name="').concat(t,'" value=').concat(l()(e)?"'".concat(u()(JSON.stringify(e)),"'"):'"'.concat(u()(e),'"')," />")})),s.innerHTML=p}return d.appendChild(s),s}(e);t.submit(),setTimeout((function(){var e;(e=t)&&e.parentNode&&e.parentNode.removeChild(e)}),3e4)}var h=n(25),j=n(735),g=n(674),m=n(685);function x(e){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://prod2-live-chat.sprinklr.com","/api/livechat/conversation/downloadChatTranscript"),e.next=3,Object(j.a)(g.a.getAppId(Object(h.a)()));case 3:r=e.sent,c=Object(m.f)(),v({url:n,data:{timeZone:c,"x-chat-token":r,conversationId:t}});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(Object(a.a)().mark((function e(t){var n,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://prod2-live-chat.sprinklr.com","/api/livechat/conversation/downloadAttachment"),e.next=3,Object(j.a)(g.a.getAppId(Object(h.a)()));case 3:c=e.sent,o=Object(m.f)(),v({url:n,data:Object(r.a)({timeZone:o,"x-chat-token":c},t)});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1228:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},1229:function(e,t,n){var r=n(907);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},1231:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(616);var r=n(34),a=n(183),c=n(607),o=n.n(c),i=n(617),s=n(685),u=n(74),d=n(859),l=n(608),p=o.a.createContext({});t.b=function(e){var t=Object(c.useState)(0),n=Object(a.a)(t,2),o=n[0],f=n[1],b=Object(i.a)(),O=Object(d.a)().subscribe;Object(c.useEffect)((function(){var e=O("page-context-change-subscriber",(function(){f((function(e){return e+1}))}));return function(){e()}}),[]);var v=Object(c.useMemo)((function(){return Object(r.a)(Object(r.a)({},Object(s.a)()),{},{device:b?u.b:u.a})}),[o,b]);return Object(l.jsx)(p.Provider,{value:v},e.children)}},1259:function(e,t,n){"use strict";var r=n(183),a=n(607),c=n(978),o=n.n(c),i=n(21),s=n.n(i),u=n(136),d=n.n(u),l=n(186),p=n.n(l),f=n(708),b=n.n(f),O=n(1666),v=n.n(O),h=n(1068),j=n.n(h),g=n(294),m=n.n(g),x=n(98),y=n.n(x),I=n(633),w=n(1517),C=n(189);t.a=function(e,t){var n=Object(a.useRef)(!1);n.current=s()(e);var c=t.getValue,i=t.defaultValue,u=void 0===i||i,l=t.logOnFailure,f=void 0!==l&&l,O=t.logOnSuccess,h=void 0!==O&&O,g=t.subscribe,x=Object(a.useState)(0),E=Object(r.a)(x,2),k=E[0],T=E[1],_=Object(a.useRef)([void 0]),S=Object(a.useRef)(null);Object(a.useEffect)((function(){return function(){S.current&&p()(S.current,(function(e){return e&&e.clear()}))}}),[]),S.current=Object(a.useMemo)((function(){return d()(e)?null:(S.current&&p()(S.current,(function(e){return e&&e.clear()})),_.current=n.current?v()(j()(e),m()(void 0)):[],p()(b()(e),(function(e,t){if(y()(e))return null;var n=function(e){_.current[t]=I.a.getField(e),T((function(e){return e+1}))};return w.a.createFilterAction(e,{subscribe:function(e,t){return g(e,o()(n,e),t)},getFilterBuilder:w.a.createFilterAction})})))}),[e,c,g,T]);var A=Object(a.useMemo)((function(){return S.current?p()(S.current,(function(e,t){return e?(Object(C.a)("--- Filter ".concat(t," match start ---"),Date.now()),e.matches(c(),{logOnFailure:f,logOnSuccess:h})):!!u})):[!!u]}),[e,c,u,k]);return Object(a.useMemo)((function(){return n.current?p()(A,(function(e,t){return{hasPassed:e,changeSource:_.current[t]}})):{hasPassed:!!A[0],changeSource:_.current[0]}}),[A,_.current])}},1260:function(e,t,n){"use strict";var r=n(98),a=n.n(r),c=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};t.a=function(e,t){if(a()(t))return!1;try{return new RegExp("^".concat(e.split(/\*+/).map(c).join(".*"),"$")).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1261:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(183),a=n(63),c=n(627),o=n(607),i=n.n(o),s=n(709),u=n.n(s),d=n(693),l=n.n(d),p=n(1068),f=n.n(p),b=n(859),O=n(608),v=i.a.createContext({}),h=Object(o.memo)((function(e){var t=Object(b.a)(),n=t.getValue,i=t.subscribe,s=n(),d=Object(o.useState)((function(){return{pagesMetaData:Object(a.a)({},s,[{startTime:Date.now(),endTime:void 0}]),currentPageUrl:s}})),p=Object(r.a)(d,2),h=p[0],j=p[1];return Object(o.useEffect)((function(){var e=i("page-context-subscriber",(function(e){var t=e.currentUrl,n=e.previousUrl;j((function(e){return function(e){var t,n=e.prevPageContextValue,r=e.previousUrl,o=e.currentUrl,i=Date.now(),s=n.pagesMetaData,d=l()(u()(s[r]),{endTime:{$set:i}});return l()(n,{pagesMetaData:(t={},Object(a.a)(t,r,{$splice:[[f()(s[r])-1,1,d]]}),Object(a.a)(t,o,{$set:[].concat(Object(c.a)(s[o]||[]),[{startTime:i,endTime:void 0}])}),t),currentPageUrl:{$set:o}})}({prevPageContextValue:e,previousUrl:n,currentUrl:t})}))}));return function(){e()}}),[]),Object(O.jsx)(v.Provider,{value:h},e.children)}));t.b=v},1262:function(e,t,n){"use strict";var r=n(607),a=n.n(r),c=n(642),o=n.n(c),i=a.a.createContext([null,o.a]);t.a=i},1264:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(135),a=n(185),c=n(287),o=n.n(c),i=n(673),s=o()(function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(t);case 2:return n=e.sent,a=n.data,e.abrupt("return",(new DOMParser).parseFromString(a,"image/svg+xml"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},1265:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(607),a=n.n(r),c=n(608),o=a.a.createContext("ltr");t.b=function(e){return Object(c.jsx)(o.Provider,{value:e.direction},e.children)}},1266:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(678)),a=i(n(607)),c=i(n(721)),o=n(1267);n(1268);function i(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var u="exited";t.EXITED=u;var d="entering";t.ENTERING=d;var l="entered";t.ENTERED=l;var p="exiting";t.EXITING=p;var f=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var a,c=n.transitionGroup,o=c&&!c.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(a=u,r.appearStatus=d):a=l:a=t.unmountOnExit||t.mountOnEnter?s:u,r.state={status:a},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:u}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==l&&(t=d):n!==d&&n!==l||(t=p)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=c.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:s})},o.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,c=this.getTimeouts(),o=a?c.appear:c.enter;t||r?(this.props.onEnter(e,a),this.safeSetState({status:d},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,(function(){n.safeSetState({status:l},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:l},(function(){n.props.onEntered(e)}))},o.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var c=a.default.Children.only(n);return a.default.cloneElement(c,r)},r}(a.default.Component);function b(){}f.contextTypes={transitionGroup:r.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var O=(0,o.polyfill)(f);t.default=O},1267:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function c(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==i){var s=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=c;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return o})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,c.__suppressDeprecationWarning=!0},1268:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(678))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1269:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(678)),a=i(n(607)),c=n(1267),o=n(1679);function i(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},l=function(e){var t,n;function r(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:a,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},c.componentDidMount=function(){this.appeared=!0,this.mounted=!0},c.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,o.getInitialChildMapping)(e,r):(0,o.getNextChildMapping)(e,n,r),firstRender:!1}},c.handleExited=function(e,t){var n=(0,o.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},c.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),c=d(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?c:a.default.createElement(t,r,c)},r}(a.default.Component);l.childContextTypes={transitionGroup:r.default.object.isRequired},l.propTypes={},l.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,c.polyfill)(l);t.default=p,e.exports=t.default},1270:function(e,t,n){var r={"./classic/pages":[2046,12,86],"./modern/pages":[2045,0,12,87]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=1270,e.exports=a},1271:function(e,t,n){"use strict";var r=n(1272),a=n.n(r),c={},o=0,i=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=c[n]||(c[n]={});if(r[e])return r[e];var i=[],s={re:a()(e,i,t),keys:i};return o<1e4&&(r[e]=s,o++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var r=t,a=r.path,c=r.exact,o=void 0!==c&&c,s=r.strict,u=void 0!==s&&s,d=r.sensitive,l=void 0!==d&&d;if(null==a)return n;var p=i(a,{end:o,strict:u,sensitive:l}),f=p.re,b=p.keys,O=f.exec(e);if(!O)return null;var v=O[0],h=O.slice(1),j=e===v;return o&&!j?null:{path:a,url:"/"===a&&""===v?"/":v,isExact:j,params:b.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}},1272:function(e,t,n){var r=n(1681);e.exports=f,e.exports.parse=c,e.exports.compile=function(e,t){return i(c(e,t),t)},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function c(e,t){for(var n,r=[],c=0,o=0,i="",d=t&&t.delimiter||"/";null!=(n=a.exec(e));){var l=n[0],p=n[1],f=n.index;if(i+=e.slice(o,f),o=f+l.length,p)i+=p[1];else{var b=e[o],O=n[2],v=n[3],h=n[4],j=n[5],g=n[6],m=n[7];i&&(r.push(i),i="");var x=null!=O&&null!=b&&b!==O,y="+"===g||"*"===g,I="?"===g||"*"===g,w=n[2]||d,C=h||j;r.push({name:v||c++,prefix:O||"",delimiter:w,optional:I,repeat:y,partial:x,asterisk:!!m,pattern:C?u(C):m?".*":"[^"+s(w)+"]+?"})}}return o<e.length&&(i+=e.substr(o)),i&&r.push(i),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function i(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",l(t)));return function(t,a){for(var c="",i=t||{},s=(a||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var d=e[u];if("string"!==typeof d){var l,p=i[d.name];if(null==p){if(d.optional){d.partial&&(c+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(l=s(p[f]),!n[u].test(l))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(l)+"`");c+=(0===f?d.prefix:d.delimiter)+l}}else{if(l=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[u].test(l))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+l+'"');c+=d.prefix+l}}else c+=d}return c}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function l(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,c=!1!==n.end,o="",i=0;i<e.length;i++){var u=e[i];if("string"===typeof u)o+=s(u);else{var p=s(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+p+f+")*"),o+=f=u.optional?u.partial?p+"("+f+")?":"(?:"+p+"("+f+"))?":p+"("+f+")"}}var b=s(n.delimiter||"/"),O=o.slice(-b.length)===b;return a||(o=(O?o.slice(0,-b.length):o)+"(?:"+b+"(?=$))?"),o+=c?"$":a&&O?"":"(?="+b+"|$)",d(new RegExp("^"+o,l(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(f(e[a],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",l(n)),t)}(e,t,n):function(e,t,n){return p(c(e,n),t,n)}(e,t,n)}},1273:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(777),a=n(1218),c=n(1219);n(1221);function o(e,t,n,c){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var c=t.indexOf("?");return-1!==c&&(n=t.substr(c),t=t.substr(0,c)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return n&&(o.key=n),c?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=Object(a.default)(o.pathname,c.pathname)):o.pathname=c.pathname:o.pathname||(o.pathname="/"),o}function i(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(c.default)(e.state,t.state)}"undefined"===typeof window||!window.document||window.document.createElement},1274:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(626),a=Object(r.a)((function(){return Promise.all([n.e(0),n.e(26)]).then(n.bind(null,2048))}))},1276:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(609),a=n(760),c=n(613),o=Object(r.a)(a.a,{target:"e11sod7u0"})("position:absolute;top:40px;height:20px;width:20px;",(function(e){return e.isPhone&&"\n    height: 14px;\n    width: 14px;\n    top: 20px;\n   "})," padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);&:focus{",c.h,"}&:active{",c.f,"}",c.k,"{&:focus{",c.f,"}&:active{",c.h,"}}")},1277:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(607),a=n.n(r),c=n(642),o=n.n(c),i=n(1073),s=n(608),u={debug:o.a,info:o.a,error:o.a,warning:o.a,cleanup:o.a},d=a.a.createContext(u),l=function(e){var t=e.videoConversationId,n=e.conversationId,r=e.isAudioCall,a=e.children,c=Object(i.a)({videoConversationId:t,conversationId:n,isAudioCall:r});return Object(s.jsx)(d.Provider,{value:c},a)}},1278:function(e,t,n){"use strict";var r=n(183),a=n(607),c=n(612),o=n(652),i=n(724),s=n(629),u=n(650),d=n(661),l=n(1074),p=(new o.a).setUrl("/video-chat/conversation/log/event").setType(d.a.POST).build();t.a=function(e){var t=e.videoConversationId,n=e.conversationId,o=Object(i.a)(p,{ignoreResults:!0},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),d=Object(r.a)(o,1)[0],f=Object(c.d)(s.h),b=Object(u.d)(f),O=Object(a.useCallback)((function(e){var n=e.eventType,r=e.activityAdditionalDetails;return{videoConversationId:t,loggerSnUserId:b,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:r}}),[n,t,b]);return Object(a.useMemo)((function(){return new l.a(d,{adapter:O,skip:!t})}),[d,O,t])}},1279:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(607),a=n.n(r),c=n(642),o=n.n(c),i=n(751),s=n.n(i),u=n(188),d=n.n(u),l=n(686),p=n(608),f=a.a.createContext({addPublisher:o.a,removePublisher:o.a}),b=!1,O=function(e){var t=e.onClick,n=e.children,a=Object(r.useRef)([]),c=Object(r.useCallback)((function(){b=!0,t(),a.current&&(d()(a.current,(function(e){e.removeEventListener("click",c,{capture:!0})})),a.current=[])}),[t]),o=Object(r.useMemo)((function(){return{addPublisher:function(e){b||(a.current.push(e),e.addEventListener("click",c,{capture:!0}))},removePublisher:function(e){b||(e.removeEventListener("click",c,{capture:!0}),a.current=s()(a.current,(function(t){return t!==e})))}}}),[c]);return Object(r.useEffect)((function(){var e=Object(l.b)();if(Object(l.c)(e))return o.addPublisher(e.document),function(){o.removePublisher(e.document)}}),[]),Object(p.jsx)(f.Provider,{value:o},n)};t.b=a.a.memo(O)},1280:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(607),a=n.n(r).a.createContext(void 0)},1282:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(34),a=n(610),c=n(801),o=n(1035),i=200,s=function(e){var t=e.theme,n=e.triggerWidth,r=e.triggerHeight,o=e.triggerXpadding,i=e.triggerYpadding,s=e.isTriggerHiddenWhenMaximised,u=Object(a.f)("frame.align")({theme:t}),d=Object(a.f)("frame.sXMargin")({theme:t}),l=Object(a.f)("frame.sYMargin")({theme:t}),p="L"===u.slice(-1)?c.f.LEFT:c.f.RIGHT,f=function(e){var t=e.alignType,n=e.frameSXMargin,r=e.triggerWidth,a=e.triggerXpadding;switch(t){case c.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case c.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:case c.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case c.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return r+a+n;case c.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:case c.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return a+n}}({alignType:u,frameSXMargin:d,triggerWidth:n,triggerXpadding:o}),b=function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.alignType,r=e.frameSYMargin,a=e.triggerHeight,o=e.triggerYpadding;return t?o:n===c.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||n===c.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT?o+r:a+o+r}({isTriggerHiddenWhenMaximised:s,alignType:u,frameSYMargin:l,triggerHeight:r,triggerYpadding:i});return{xEdgeToAlign:p,xOffset:f,bottomOffset:b}},u=function(e){var t=e.bottomOffset,n=e.xEdgeToAlign,r=e.xOffset,c=e.theme,o=e.isMaximized,i="calc(100% - ".concat(t,"px - ").concat(20,"px)");return"\n    bottom: ".concat(t,"px;\n    height: ").concat(i,";\n    max-height: ").concat(o?i:Object(a.f)("frame.height")({theme:c}),";\n    ").concat(n,": ").concat(r,"px;\n    max-width: ","calc(100% - ".concat(r,"px - ").concat(20,"px)"),";\n    min-width: 200px;\n    width: ").concat("".concat(o?Object(a.f)("frame.maximizedWidth")({theme:c}):Object(a.f)("frame.width")({theme:c}),"px"),";\n    ")},d=function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,c=e.isMaximized;if(e.isPhone)return"\n    height: 100%;\n    width: 100vw;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  ";var i=Object(a.f)("trigger.size")({theme:n}),d=s({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:i,triggerWidth:i,triggerXpadding:Object(o.e)(n),triggerYpadding:Object(o.c)(n)});return u(Object(r.a)(Object(r.a)({},d),{},{theme:n,isMaximized:c}))},l=function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,r=e.isMaximized,o=e.isPhone,i=e.customTriggerPosition,d="L"===Object(a.f)("frame.align")({theme:n}).slice(-1)?c.f.LEFT:c.f.RIGHT,l=s({theme:n,isTriggerHiddenWhenMaximised:t,triggerHeight:i.height,triggerWidth:i.width,triggerXpadding:"left"===d?i.left:i.right,triggerYpadding:i.bottom}),p=l.xOffset,f=l.bottomOffset;if(o){var b="left"===d?"right":"left";return"\n      top: 0;\n      bottom: ".concat(f,"px;\n      ").concat(d,": ").concat(p,"px;\n      ").concat(b,": 0;\n      width: calc(100vw - ").concat(p,"px);\n      height: calc(100% - ").concat(f,"px);\n      min-width: calc(100vw - ").concat(p,"px);\n      max-width:  100vh;\n      max-height: 100vh;\n    ")}return u({xEdgeToAlign:d,xOffset:p,bottomOffset:f,theme:n,isMaximized:r})}},1283:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(607),a=Object(r.createContext)({setIsFrameMaximized:function(){return null},isFrameMaximized:!1})},1284:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(183),a=n(607),c=n(734),o=n.n(c),i=n(642),s=n.n(i),u=n(724),d=n(1074),l=n(661),p=n(652),f=n(674),b=n(25),O=n(685),v=(new p.a).setUrl("/livechat/logging/log").setType(l.a.POST).build(),h=function(e){var t=e.message,n=e.userId,r=f.a.getAppId(Object(b.a)()),a="UI_".concat(r,"_").concat(n,"_").concat(o.a.v4());return{message:t,timeStamp:Date.now(),clientId:a,url:Object(O.b)()}},j={debug:s.a,info:s.a,error:s.a,warning:s.a,cleanup:s.a},g=function(e){var t=e.category,n=e.batch,c=e.log,o=e.skip,i=e.adapter,s=e.userId,l=Object(u.a)(v,{ignoreResults:!0},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),p=Object(r.a)(l,1)[0],f=Object(a.useRef)(j);return f.current=Object(a.useMemo)((function(){return new d.a(c||p,{batch:n,skip:o,adapter:i||h})}),[p,h]),Object(a.useEffect)((function(){return function(){f.current.cleanup()}}),[]),Object(a.useMemo)((function(){return{debug:function(e){return f.current.debug({message:e,category:t,userId:s})},error:function(e){return f.current.error({message:e,category:t,userId:s})},info:function(e){return f.current.info({message:e,category:t,userId:s})},warning:function(e){return f.current.warning({message:e,category:t,userId:s})}}}),[t,s])}},1285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(754).__importDefault(n(1690)).default("audio");t.default=r},1287:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(63),a=n(870),c=n(1082),o=n(1083),i=n(817),s=n(644),u=Object(r.a)({},s.c.CONTACT_DETAILS_FORM,{NAME:function(e){var t=e.user;return Object(i.a)(t)},FIRST_NAME:function(e){return e.user.firstName},LAST_NAME:function(e){return e.user.lastName},EMAIL:function(e){return e.user.email},PHONE_NO:function(e){return e.user.phoneNo}}),d=Object(r.a)({},s.c.CONTACT_DETAILS_FORM,(function(e,t){var n=c.a.getFields(o.a.getForm(e)),r=u[s.c.CONTACT_DETAILS_FORM];return n.reduce((function(e,n){var a=n.id,c=r[a];return c&&(e[a]=c(t)),e}),{})})),l=function(e,t){var n=d[a.a.getType(e)];return n?n(e,t):{}}},1288:function(e,t,n){"use strict";t.a={CALL_INITIATED:"VIDEO_CALL_INITIATED",CALL_STARTING:"VIDEO_CALL_STARTING",CALL_OFFER_ACCEPTED:"VIDEO_CALL_OFFER_ACCEPTED",CALL_CONNECTED:"VIDEO_CALL_CONNECTED",CALL_DECLINED:"VIDEO_CALL_DECLINED",CALL_ENDED:"VIDEO_CALL_ENDED",CALL_MISSED:"VIDEO_CALL_MISSED"}},1289:function(e,t,n){var r=n(138);e.exports=function(){var e=arguments,t=r(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},1290:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1291:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="@chatPrompt/PROMPT_ACTION_TRIGGER"},1292:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(135),a=n(185),c=n(673),o=function(){var e=Object(a.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.post("/livechat/conversation/refresh-token",void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},1517:function(e,t,n){"use strict";var r=n(615),a=n(614),c=n(98),o=n.n(c),i=n(654),s=n.n(i),u=n(979),d=n.n(u),l=function(e,t){return d()(e)&&d()(t)?e-t:s()(e)&&s()(t)?e.localeCompare(t):s()(e)&&d()(t)?parseInt(e,10)-t:d()(e)&&s()(t)?e-parseInt(t,10):-1},p=function(e,t){return!o()(t)&&l(t,e)<=-1},f=function(e,t){return!o()(t)&&l(t,e)>=1},b=function(e,t){return!o()(t)&&0===l(t,e)},O=n(658),v=n.n(O),h=n(136),j=n.n(h),g=n(765),m=n(189),x=n(633),y=n(815),I=Object(r.a)((function e(t){var n=this;Object(a.a)(this,e),this.matches=function(e,t){var r,a=t.logOnSuccess,c=t.logOnFailure,o=x.a.getField(n._filter),i=v()(x.a.getValues(n._filter)),s=Object(g.b)({currentValueMap:e,filter:n._filter});switch(x.a.getFilterType(n._filter)){case y.a.LT:r=p(i,s);break;case y.a.LTE:r=p(i,s)||b(i,s);break;case y.a.GT:r=f(i,s);break;case y.a.GTE:r=f(i,s)||b(i,s);break;case y.a.EQUALS:r=b(i,s);break;case y.a.NOT_EQUALS:r=!b(i,s);break;case y.a.EXISTS:r=!j()(s);break;case y.a.MISSING:r=j()(s);break;default:r=!1}return r&&a&&Object(m.a)("Range Filter succeed for ".concat(o," with value ").concat(s)),!r&&c&&Object(m.a)("Range Filter failed for ".concat(o," with value ").concat(s)),r},this.clear=function(){},this._filter=t})),w=function(e,t){if(o()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(m.a)("Wrong regex in filter"),!1}},C=n(1260),E=n(275),k=n.n(E),T=n(814),_=n.n(T),S=Object(r.a)((function e(t){var n=this;Object(a.a)(this,e),this.matches=function(e,t){var r=t.logOnSuccess,a=t.logOnFailure,c=x.a.getField(n._filter),o=x.a.getValues(n._filter),i=Object(g.b)({currentValueMap:e,filter:n._filter}),s=k()(x.a.getDetails(n._filter),"valueAdditional.isJsRegex"),u=_()(o,(function(e){return s?w(e,i):Object(C.a)(e,i)}));return u&&r&&Object(m.a)("Regex Filter succeed for ".concat(c," with value ").concat(i)),!u&&a&&Object(m.a)("Regex Filter failed for ".concat(c," with value ").concat(i)),u},this.clear=function(){},this._filter=t})),A=function(e,t){return!o()(t)&&!!e.includes(t)},R=Object(r.a)((function e(t){var n=this;Object(a.a)(this,e),this.matches=function(e,t){var r=t.logOnSuccess,a=t.logOnFailure,c=x.a.getField(n._filter),o=x.a.getValues(n._filter),i=Object(g.b)({currentValueMap:e,filter:n._filter}),s=A(o,i);return s&&r&&Object(m.a)("In Filter succeed for ".concat(c," with value ").concat(i)),!s&&a&&Object(m.a)("In Filter failed for ".concat(c," with value ").concat(i)),s},this.clear=function(){},this._filter=t})),N=function(e,t){return!o()(t)&&!e.includes(t)},L=Object(r.a)((function e(t){var n=this;Object(a.a)(this,e),this.matches=function(e,t){var r=t.logOnSuccess,a=t.logOnFailure,c=x.a.getField(n._filter),o=x.a.getValues(n._filter),i=Object(g.b)({currentValueMap:e,filter:n._filter}),s=N(o,i);return s&&r&&Object(m.a)("NotIn Filter succeed for ".concat(c," with value ").concat(i)),!s&&a&&Object(m.a)("NotIn Filter failed for ".concat(c," with value ").concat(i)),s},this.clear=function(){},this._filter=t})),D=Object(r.a)((function e(){Object(a.a)(this,e)}));D.createFilterAction=function(e){switch(x.a.getFilterType(e)){case y.a.LTE:case y.a.LT:case y.a.GT:case y.a.GTE:case y.a.NOT_EQUALS:case y.a.EXISTS:case y.a.MISSING:return new I(e);case y.a.REGEX:return new S(e);case y.a.CONTAINS:case y.a.IN:return new R(e);case y.a.NIN:return new L(e);default:return new I(e)}};var M=D,P=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){return r._filterAction.matches(e,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=c?c(t):null,this._filterAction=M.createFilterAction(this._filter)})),U=n(63),B=n(677),F=n.n(B),G=n(713),W=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){var n=x.a.getDetails(r._filter),a=e;return n&&!F()(n.noOfAgentsAvailable)&&(a=Object(U.a)({},G.a.AVAILABLE_AGENTS,n.noOfAgentsAvailable)),r._filterAction.matches(a,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=c?c(t):null,this._filterAction=M.createFilterAction(t)})),z=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){var n=x.a.getDetails(r._filter),a=e;return n&&!F()(n.numberOfPendingCases)&&(a=Object(U.a)({},G.a.AGENT_OUT_OF_CAPACITY,n.numberOfPendingCases)),r._filterAction.matches(a,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=c?c(t):null,this._filterAction=M.createFilterAction(t)})),V=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){var n=x.a.getDetails(r._filter),a=Object(g.b)({currentValueMap:e,filter:r._filter}),c=Object(U.a)({},G.a.BUSINESS_HOURS,a);return!n||j()(n)||F()(n.timeToBusinessHours)||(c=Object(U.a)({},G.a.BUSINESS_HOURS,n.timeToBusinessHours)),r._filterAction.matches(c,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null};var o=function(e){return x.a.getFilterType(e)===y.a.IN?v()(x.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:y.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:y.a.GT,values:[0]}):e}(t);this._filter=o,this._unSubscribeFn=c?c(o):null,this._filterAction=M.createFilterAction(o)})),H=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){return r._filterAction.matches(e,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null};var o=function(e){return x.a.getFilterType(e)===y.a.IN?v()(x.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:y.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:y.a.LTE,values:[0]}):e}(t);this._filter=o,this._unSubscribeFn=c?c(o):null,this._filterAction=M.createFilterAction(o)})),Y=Object(r.a)((function e(t,n){var r=this,c=n.subscribe,o=n.parentFilter;Object(a.a)(this,e),this.matches=function(e,t){var n=e;switch(r._parentFilter&&x.a.getField(r._parentFilter)){case G.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:var a=v()(x.a.getValues(r._parentFilter)),c=e[G.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],o=Date.now()-(c[a].actionTime||0);n=Object.assign(Object.assign({},n),Object(U.a)({},G.a.DEPENDENT_DURATION_KEY,o));break;case G.a.INTERCEPT_CLOSED_IN_SESSION_KEY:var i=v()(x.a.getValues(r._parentFilter)),s=e[G.a.INTERCEPT_CLOSED_IN_SESSION_KEY],u=Date.now()-(s[i].actionTime||0);n=Object.assign(Object.assign({},n),Object(U.a)({},G.a.DEPENDENT_DURATION_KEY,u))}return r._filterAction.matches(n,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._parentFilter=o,this._unSubscribeFn=c?c(t,o):null,this._filterAction=M.createFilterAction(t)})),q=Object(r.a)((function e(t,n){var r=this;Object(a.a)(this,e),this.matches=function(e,t){var n=v()(x.a.getValues(r._filter)),a=e[G.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],c=r._filterAction.matches(Object(U.a)({},G.a.INTERCEPT_ENGAGED_IN_SESSION_KEY,a[n]?n:""),t);if(c){var o=x.a.getDetails(r._filter);if(o&&!j()(o.dependentFilter))return null===r._dependentFilterAction&&(r._dependentFilterAction=r._filterOptions.getFilterBuilder(o.dependentFilter,Object.assign(Object.assign({},r._filterOptions),{parentFilter:r._filter}))),r._dependentFilterAction.matches(e,t)}return c},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._dependentFilterAction&&r._dependentFilterAction.clear(),r._unSubscribeFn=null};var c=n.subscribe;this._filter=t,this._filterOptions=n,this._unSubscribeFn=c?c(t):null,this._filterAction=M.createFilterAction(t),this._dependentFilterAction=null})),K=Object(r.a)((function e(t,n){var r=this;Object(a.a)(this,e),this.matches=function(e,t){var n=v()(x.a.getValues(r._filter)),a=e[G.a.INTERCEPT_CLOSED_IN_SESSION_KEY],c=r._filterAction.matches(Object(U.a)({},G.a.INTERCEPT_CLOSED_IN_SESSION_KEY,a[n]?n:""),t);if(c){var o=x.a.getDetails(r._filter);if(o&&!j()(o.dependentFilter))return null===r._dependentFilterAction&&(r._dependentFilterAction=r._filterOptions.getFilterBuilder(o.dependentFilter,Object.assign(Object.assign({},r._filterOptions),{parentFilter:r._filter}))),r._dependentFilterAction.matches(e,t)}return c},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._dependentFilterAction&&r._dependentFilterAction.clear(),r._unSubscribeFn=null};var c=n.subscribe;this._filter=t,this._filterOptions=n,this._unSubscribeFn=c?c(t):null,this._filterAction=M.createFilterAction(t),this._dependentFilterAction=null})),X=n(634),Z="PIXEL",J=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){var n=k()(x.a.getDetails(r._filter),"valueAdditional.valueType"),a=x.a.getField(r._filter),c=e[a]||X.a,o=c.scrollDepth,i=c.scrollPercent,s=Object(U.a)({},a,n===Z?o:i);return r._filterAction.matches(s,t)},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._filterAction.clear(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=c?c(t):null,this._filterAction=M.createFilterAction(t)})),Q=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){return 0===Object(g.b)({currentValueMap:e,filter:r._filter})},this.clear=function(){r._unSubscribeFn&&r._unSubscribeFn(),r._unSubscribeFn=null},this._filter=t,this._unSubscribeFn=c?c(t):null})),$=Object(r.a)((function e(t,n){var r=this,c=n.subscribe;Object(a.a)(this,e),this.matches=function(e,t){return 0===Object(g.b)({currentValueMap:e,filter:r._filter})},this.clear=function(){r._unsubscribeFn&&r._unsubscribeFn(),r._unsubscribeFn=null},this._filter=t,this._unsubscribeFn=c?c(t):null})),ee=Object(r.a)((function e(){Object(a.a)(this,e)}));ee.createFilterAction=function(e,t){switch(x.a.getField(e)){case G.a.AVAILABLE_AGENTS:return new W(e,t);case G.a.AGENT_OUT_OF_CAPACITY:return new z(e,t);case G.a.BUSINESS_HOURS:return new V(e,t);case G.a.IS_CONVERSATION_OPEN:return new H(e,t);case G.a.DEPENDENT_DURATION_KEY:return new Y(e,t);case G.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new K(e,t);case G.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new q(e,t);case G.a.CURRENT_URL:case G.a.TOTAL_TIME_SPENT:case G.a.ACTIVE_TIME_SPENT:case G.a.INACTIVE_TIME_SPENT:case G.a.DEVICE_TYPE:case G.a.USER_IP_DETAILS_COUNTRY:case G.a.USER_IP_DETAILS_CITY:case G.a.USER_IP_DETAILS_REGION:return new P(e,t);case G.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case G.a.VERTICAL_PAGE_SCROLL_DEPTH:return new J(e,t);case G.a.TIME_SPENT_ON_SESSION:return new Q(e,t);case G.a.NUM_SNOOZE_ALLOWED:return new $(e,t);default:return Object(g.d)(x.a.getField(e))?new P(e,t):void 0}};var te=ee,ne=n(186),re=n.n(ne),ae=n(188),ce=n.n(ae),oe=Object(r.a)((function e(t,n){var r=this;Object(a.a)(this,e),this.matches=function(e,t){var n=!0;return ce()(r._filterActions,(function(r){return!!r.matches(e,t)||(n=!1,!1)})),n},this.clear=function(){ce()(r._filterActions,(function(e){return e.clear()})),r._filterActions=[]},this._filterActions=re()(x.a.getFilters(t),(function(e){return n.getFilterBuilder(e,n)}))})),ie=Object(r.a)((function e(t,n){var r=this;Object(a.a)(this,e),this.matches=function(e,t){var n=!1;return ce()(r._filterActions,(function(r){return!r.matches(e,t)||(n=!0,!1)})),n},this.clear=function(){ce()(r._filterActions,(function(e){return e.clear()})),r._filterActions=[]},this._filterActions=re()(x.a.getFilters(t),(function(e){return n.getFilterBuilder(e,n)}))})),se=0,ue=Object(r.a)((function e(){Object(a.a)(this,e)}));ue.createFilterAction=function(e,t){var n=function(e){return se+=1,Object.assign(Object.assign({},e),{id:se})}(e),r=te.createFilterAction(n,t);if(r)return r;switch(x.a.getFilterType(n)){case y.a.AND:return new oe(e,t);case y.a.OR:return new ie(e,t);default:return M.createFilterAction(n)}};t.a=ue},1527:function(e,t,n){"use strict";var r,a=n(607),c=n.n(a),o=(n(665),n(611)),i=n(639),s=n(609),u=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e,t){var n=e.title,c=e.titleId,o=l(e,u);return a.createElement("svg",d({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":c},o),n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}var f=a.forwardRef(p);n.p;var b=Object(s.a)(f,{target:"e1s9shjt0"})({name:"1utgq19",styles:"width:48px;height:48px;margin-bottom:18px;"}),O=n(1534),v=n(919),h=n(817),j=n(608);var g={name:"19cy8uy",styles:"max-width:218px;"},m=c.a.memo(Object(o.h)((function(e){var t=e.onStopSession,n=e.brandUser,r=e.intl,c=Object(i.a)(),o=Object(a.useMemo)((function(){return{agentName:Object(h.a)(n,c)}}),[n,c]),s=Object(a.useMemo)((function(){return r.formatMessage(v.a.settingUpCobrowsing,o)}),[o,r]),u=Object(a.useMemo)((function(){return g}),[]);return Object(j.jsx)(O.a,{onClose:t,Icon:b,description:s,descriptionStyles:u})}))),x=n(813);t.a=function(e){var t=e.sessionState;return t!==x.c.INITIATED&&t!==x.c.SETUP&&t!==x.c.RESUMED?null:Object(j.jsx)(m,e)}},1530:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n(34),a=n(183),c=n(607),o=n.n(c),i=n(136),s=n.n(i),u=n(188),d=n.n(u),l=n(738),p=n.n(l),f=n(642),b=n.n(f),O=n(612),v=n(691),h=n(669),j=function(){return function(e){var t={eventId:e.label,eventType:e.action.id,additional:Object(r.a)(Object(r.a)({},e.additional),{},{conversationId:e.conversationId,page:e.page,appId:e.appId})};Object(v.a)({topic:h.e,payload:{data:t}})}},g=n(135),m=n(185),x=n(673),y=n(711),I=n(184),w=new Set([y.a.AGENT_ASSIGNED.id,y.a.VIDEO_CALL_OUTGOING_STARTING.id,y.a.AUDIO_CALL_OUTGOING_STARTING.id]),C=function(){return function(){var e=Object(m.a)(Object(g.a)().mark((function e(t){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w.has(t.action.id)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,x.a.post("/livechat/prompt/browse/event",{p:{page:t.page,userAgent:t.userAgent,device:t.device,timeZone:t.timeZone,eventType:t.action.label,eventId:t.label,conversationId:t.conversationId,sourceType:"LIVE_CHAT"}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),Object(I.b)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},E=n(829),k=n(623),T=n(624),_=n(710),S=n(629),A=n(739),R=n(25),N=n(637),L=n(20),D=n(1044),M=n(608),P=o.a.createContext(b.a),U=[],B=function(e){return Object(A.c)(Object(S.e)(e))},F=function(e){var t=Object(E.a)(),o=Object(k.a)(),i=Object(c.useRef)(U),u=Object(c.useState)(!s()(i.current)),l=Object(a.a)(u,2),f=l[0],b=l[1],v=Object(T.a)(_.c),h=Object(T.a)(_.b),g=Object(O.d)(B),m=Object(L.N)();return Object(c.useEffect)((function(){if(f&&g.length){var e=Object(r.a)(Object(r.a)({},g[0]),{},{category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone,appId:Object(R.a)().appId});!function(e,t){Object(D.c)((function(){d()(e,(function(e){e(t)}))}))}(i.current,e),h()}}),[g,f]),Object(c.useEffect)((function(){m||f||function(e){var t=[],r=N.a.getGoogleTrackerId(e),a=N.a.isSprinklrAnalyticsEnabled(e);return s()(r)||t.push(n.e(65).then(n.bind(null,2142)).then((function(e){return e.default.createTracker({trackerId:r},{canAccessParent:Object(L.L)()})})).catch((function(){}))),a&&t.push(C()),t.push(j()),Promise.all(t)}(o).then((function(e){i.current=p()(e),U=i.current,b(!0)}))}),[]),Object(M.jsx)(P.Provider,{value:v},e.children)};t.b=o.a.memo(F)},1534:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));n(607);var r=n(611),a=n(609),c=n(608),o=n(610),i=n(613),s=n(773),u=n(760);var d=Object(a.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(function(e){return Object(o.f)("frame.zIndex")(e)}),";transform:translateZ(",(function(e){return Object(o.f)("frame.translateZ")(e)}),"px);"),l=Object(a.a)(s.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),p={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},f=Object(a.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(function(e){return e.isPhone&&"backdrop-filter: blur(2px);"}),""),b=Object(a.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(function(e){var t=+Object(o.f)("confirmationBox.paddingTop")(e),n=+Object(o.f)("confirmationBox.paddingRight")(e),r=+Object(o.f)("confirmationBox.paddingLeft")(e),a=+Object(o.f)("confirmationBox.paddingBottom")(e);return"".concat(t,"px ").concat(n,"px ").concat(a,"px ").concat(r,"px")}),";",(function(e){return e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":"\n      box-shadow: 0 4px 10px 0 rgba(49, 39, 39, 0.2);\n      border-radius: ".concat(Object(o.a)("frame.borderRadius")(e),";\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  ")})," color:",Object(o.b)("charcoal"),";background-color:",Object(o.f)("confirmationBox.backgroundColor"),";"),O=Object(a.a)("div",{target:"e1exikj44"})("font-size:",Object(o.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(o.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(o.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(o.f)("confirmationBox.header.paddingBottom"),"px;"),v=Object(a.a)("div",{target:"e1exikj45"})("font-size:",Object(o.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:",Object(o.b)("charcoal"),";text-align:center;"),h=Object(a.a)(u.a,{target:"e1exikj46"})("position:absolute;top:env(safe-area-inset-top);",Object(i.c)("right: env(safe-area-inset-right);","left: env(safe-area-inset-left);"),""),j=function(e){return Object(c.css)({height:"".concat(Object(o.f)("confirmationBox.header.iconButton.icon.height")({theme:e}),"px"),width:"".concat(Object(o.f)("confirmationBox.header.iconButton.icon.width")({theme:e}),"px")},"")},g=function(e){return Object(c.css)({height:"".concat(Object(o.f)("confirmationBox.header.iconButton.button.height")({theme:e}),"px"),width:"".concat(Object(o.f)("confirmationBox.header.iconButton.button.width")({theme:e}),"px")},"")},m=n(680),x=n(617),y=n(618),I=n(621),w=n(919),C=Object(r.h)((function(e){var t=e.onClose,n=e.title,r=e.description,a=e.descriptionStyles,o=e.Icon,i=e.intl,s=Object(I.b)(),u=Object(x.a)(),C=Object(y.a)().direction;return Object(c.jsx)(d,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(c.jsx)(l,{name:"spr-chat__cobrowseInfo-frame","aria-label":i.formatMessage(w.a.coBrowseInformation),title:i.formatMessage(w.a.coBrowseInformation)},Object(c.jsx)(c.Global,{styles:p}),Object(c.jsx)(f,{isPhone:u},Object(c.jsx)(b,{isPhone:u},Object(c.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(c.jsx)(h,{direction:C,iconName:"closeIcon",Icon:m.a,onClick:t,iconCss:j(s),css:g(s)}),Object(c.jsx)(o,null),n&&Object(c.jsx)(O,null,n),r&&Object(c.jsx)(v,{css:a},r))))))}))},1537:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return m}));var r=n(34),a=n(183),c=n(63),o=n(607),i=n(693),s=n.n(i),u=n(136),d=n.n(u),l=n(965),p=n(643),f=n(690),b=n(657),O=n(608),v={byIds:{}},h=[f.o],j=Object(o.createContext)(v),g=function(e,t){if(t.type===f.o){var n=t.payload,r=n.id,a=n.details;return d()(e.byIds[r])?s()(e,{byIds:{$merge:Object(c.a)({},r,a)}}):s()(e,{byIds:Object(c.a)({},r,{$merge:a})})}return e},m=function(e){var t,n,c=e.children,i=Object(o.useReducer)(g,v),s=Object(a.a)(i,2),u=s[0],d=s[1],f=Object(p.a)(),m=b.a.getCards(f),x=Object(o.useCallback)((function(e){var t=e.type,n=e.payload,a=null===m||void 0===m?void 0:m.find((function(e){var t,r;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(r=t.details)||void 0===r?void 0:r.id)===n.id}));a&&d({type:t,payload:Object(r.a)(Object(r.a)({},n),{},{id:a.id})})}),[m]);return t=h,n=x,Object(o.useLayoutEffect)((function(){var e=l.a.on((function(e){t.includes(e.type)&&n(e)}));return function(){e()}}),[]),Object(O.jsx)(j.Provider,{value:u},c)}},1605:function(e,t,n){var r=n(907);e.exports=function(e,t){for(var n=-1,a=e.length;++n<a&&r(t,e[n],0)>-1;);return n}},1666:function(e,t,n){var r=n(305),a=n(299),c=n(276),o=4294967295,i=Math.min;e.exports=function(e,t){if((e=c(e))<1||e>9007199254740991)return[];var n=o,s=i(e,o);t=a(t),e-=o;for(var u=r(s,t);++n<e;)t(n);return u}},1667:function(e,t,n){var r=n(318)("length");e.exports=r},1668:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",c="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?",d=u+s+("(?:\\u200d(?:"+[c,o,i].join("|")+")"+u+s+")*"),l="(?:"+[c+r+"?",r,o,i,n].join("|")+")",p=RegExp(a+"(?="+a+")|"+l+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},1673:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(678));var r=i(n(1674)),a=i(n(1677)),c=i(n(607)),o=i(n(1266));n(1268);function i(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},l=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,c=n?r+" "+a:a;t.removeClasses(e,n?"appear":"enter"),u(e,c),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,a=r?(r&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,a=n.activeClassName,c=n.doneClassName;r&&d(e,r),a&&d(e,a),c&&d(e,c)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},a.render=function(){var e=s({},this.props);return delete e.classNames,c.default.createElement(o.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(c.default.Component);l.defaultProps={classNames:""},l.propTypes={};var p=l;t.default=p,e.exports=t.default},1674:function(e,t,n){"use strict";var r=n(1675);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=r(n(1676));e.exports=t.default},1675:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1676:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1677:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},1678:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;o(n(678));var r=o(n(607)),a=n(721),c=o(n(1269));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.handleLifecycle=function(e,t,n){var c,o=this.props.children,i=r.default.Children.toArray(o)[t];i.props[e]&&(c=i.props)[e].apply(c,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},i.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),o=r.default.Children.toArray(t),i=o[0],s=o[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,r.default.createElement(c.default,a,n?r.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);i.propTypes={};var s=i;t.default=s,e.exports=t.default},1679:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=c,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:o(n,"appear",e),enter:o(n,"enter",e),exit:o(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var i=a(e.children),s=c(t,i);return Object.keys(s).forEach((function(a){var c=s[a];if((0,r.isValidElement)(c)){var u=a in t,d=a in i,l=t[a],p=(0,r.isValidElement)(l)&&!l.props.in;!d||u&&!p?d||!u||p?d&&u&&(0,r.isValidElement)(l)&&(s[a]=(0,r.cloneElement)(c,{onExited:n.bind(null,c),in:l.props.in,exit:o(c,"exit",e),enter:o(c,"enter",e)})):s[a]=(0,r.cloneElement)(c,{in:!1}):s[a]=(0,r.cloneElement)(c,{onExited:n.bind(null,c),in:!0,exit:o(c,"exit",e),enter:o(c,"enter",e)})}})),s};var r=n(607);function a(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function c(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),c=[];for(var o in e)o in t?c.length&&(a[o]=c,c=[]):c.push(o);var i={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var u=a[s][r];i[a[s][r]]=n(u)}i[s]=n(s)}for(r=0;r<c.length;r++)i[c[r]]=n(c[r]);return i}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1680:function(e,t,n){"use strict";var r=n(983),a=n.n(r),c=n(812),o=n.n(c),i=n(607),s=n.n(i),u=n(678),d=n.n(u),l=n(1271),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var O=function(e){return 0===s.a.Children.count(e)},v=function(e){function t(){var n,r;f(this,t);for(var a=arguments.length,c=Array(a),o=0;o<a;o++)c[o]=arguments[o];return n=r=b(this,e.call.apply(e,[this].concat(c))),r.state={match:r.computeMatch(r.props,r.context.router)},b(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,a=e.path,c=e.strict,i=e.exact,s=e.sensitive;if(n)return n;o()(t,"You should not use <Route> or withRouter() outside a <Router>");var u=t.route,d=(r||u.location).pathname;return Object(l.a)(d,{path:a,strict:c,exact:i,sensitive:s},u.match)},t.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),a()(!(this.props.component&&this.props.children&&!O(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),a()(!(this.props.render&&this.props.children&&!O(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){a()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,a=t.render,c=this.context.router,o=c.history,i=c.route,u=c.staticContext,d={match:e,location:this.props.location||i.location,history:o,staticContext:u};return r?e?s.a.createElement(r,d):null:a?e?a(d):null:"function"===typeof n?n(d):n&&!O(n)?s.a.Children.only(n):null},t}(s.a.Component);v.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},v.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},v.childContextTypes={router:d.a.object.isRequired},t.a=v},1681:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1682:function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c=Object.defineProperty,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,d=u&&u(Object);e.exports=function e(t,n,l){if("string"!==typeof n){if(d){var p=u(n);p&&p!==d&&e(t,p,l)}var f=o(n);i&&(f=f.concat(i(n)));for(var b=0;b<f.length;++b){var O=f[b];if(!r[O]&&!a[O]&&(!l||!l[O])){var v=s(n,O);try{c(t,O,v)}catch(h){}}}return t}return t}},1683:function(e,t,n){var r=n(1049);e.exports=function(e){return r(e,5)}},1684:function(e,t,n){var r=n(1049);e.exports=function(e){return r(e,4)}},1685:function(e,t,n){var r=n(286),a=n(902),c=n(282),o=n(21);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return r(o(n)?c(n):[n],a(t,1))}},1687:function(e,t,n){var r=n(907),a=n(276),c=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=null==n?0:a(n);return i<0&&(i=c(o+i,0)),r(e,t,i)}},1690:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(754),a=r.__importStar(n(607)),c=n(607),o=r.__importDefault(n(1691)),i=r.__importDefault(n(1692));t.default=function(e){return function(t){var n,s;s=a.isValidElement(t)?(n=t).props:t;var u=o.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),d=u[0],l=u[1],p=c.useRef(null),f=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},b=function(){return l({paused:!1})},O=function(){return l({paused:!0})},v=function(){var e=p.current;e&&l({muted:e.muted,volume:e.volume})},h=function(){var e=p.current;if(e){var t=e.duration,n=e.buffered;l({duration:t,buffered:i.default(n)})}},j=function(){var e=p.current;e&&l({time:e.currentTime})},g=function(){var e=p.current;e&&l({buffered:i.default(e.buffered)})};n=n?a.cloneElement(n,r.__assign(r.__assign({controls:!1},s),{ref:p,onPlay:f(s.onPlay,b),onPause:f(s.onPause,O),onVolumeChange:f(s.onVolumeChange,v),onDurationChange:f(s.onDurationChange,h),onTimeUpdate:f(s.onTimeUpdate,j),onProgress:f(s.onProgress,g)})):a.createElement(e,r.__assign(r.__assign({controls:!1},s),{ref:p,onPlay:f(s.onPlay,b),onPause:f(s.onPause,O),onVolumeChange:f(s.onVolumeChange,v),onDurationChange:f(s.onDurationChange,h),onTimeUpdate:f(s.onTimeUpdate,j),onProgress:f(s.onProgress,g)}));var m=!1,x={play:function(){var e=p.current;if(e&&!m){var t=e.play();if("object"===typeof t){m=!0;var n=function(){m=!1};t.then(n,n)}return t}},pause:function(){var e=p.current;if(e&&!m)return e.pause()},seek:function(e){var t=p.current;t&&void 0!==d.duration&&(e=Math.min(d.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=p.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,l({volume:e}))},mute:function(){var e=p.current;e&&(e.muted=!0)},unmute:function(){var e=p.current;e&&(e.muted=!1)}};return c.useEffect((function(){var e=p.current;e&&(l({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&x.play())}),[s.src]),[n,d,x,p]}}},1691:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(607);t.default=function(e){void 0===e&&(e={});var t=r.useState(e),n=t[0],a=t[1];return[n,r.useCallback((function(e){a((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[a])]}},1692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1693:function(e,t,n){var r=n(1694),a=n(138),c=/[&<>"']/g,o=RegExp(c.source);e.exports=function(e){return(e=a(e))&&o.test(e)?e.replace(c,r):e}},1694:function(e,t,n){var r=n(1252)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},2052:function(e,t,n){"use strict";var r=n(607),a=n.n(r),c=n(678),o=n.n(c),i=n(1682),s=n.n(i),u=n(1680),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return a.a.createElement(u.a,{children:function(t){return a.a.createElement(e,d({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:o.a.func},s()(t,e)}},2106:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return sE}));var r=n(627),a=n(135),c=n(185),o=n(1055),i=n.n(o),s=n(964),u=n.n(s),d=n(275),l=n.n(d),p=n(136),f=n.n(p),b=n(25),O=n(20),v=[],h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];f()(t)||v.push.apply(v,t)},j=n(965),g=n(189),m="AVAILABLE",x="UN_AVAILABLE",y="PENDING",I=y,w=function(e){I=e?m:x},C=function(){return I===x},E=function(){return I===y},k="PENDING",T="SUCCESS",_="FAIL",S="EXPIRED",A=k,R=function(e){A=e},N=function(){return A===k},L=function(){return A===_},D=function(){return A===S},M="INCORRECT_PAYLOAD",P="NETWORK_FAILURE",U="CHAT_UNAVAILABLE",B=n(63),F=n(693),G=n.n(F),W=n(776),z="APP_AVAILABLE",V="APP_IN_SESSION";function H(e,t){var n=Object(O.M)(t);if(!f()(n)){var r=G()(Object(b.a)(),{userContext:{$merge:n}});Object(b.f)(r),e({type:W.d,payload:n})}}H.dependecies=[V];var Y="@user/UPDATE_USER_SETTINGS";function q(e,t){e({type:Y,payload:t})}q.dependecies=[V];var K=n(690);function X(e){e({type:K.f})}function Z(e){Object(O.L)()&&e({type:K.d})}X.dependecies=[V],Z.dependecies=[z];var J=n(775),Q=n.n(J),$=n(642),ee=n.n($),te=n(966),ne=function(e){var t=e.topic,n=e.legacySubscriberMap,r=e.legacySubscriber,a=e.newSubscriber;return Object(te.b)(ee.a,{topic:t,subscriber:a}),n.push({legacySubscriber:r,newSubscriber:a}),n},re=function(e){var t=e.topic,n=e.legacySubscriberMap,r=e.legacySubscriber,a=Q()(n,(function(e){return e.legacySubscriber===r}));return-1!==a&&(Object(te.c)(ee.a,{topic:t,subscriber:n[a].newSubscriber}),n.splice(a,1)),n},ae=n(669);function ce(e){Object(O.L)()&&e({type:K.b})}ce.dependecies=[z];var oe=[];var ie=[];var se=[];var ue=n(905);function de(e,t){e({type:ue.a,payload:t})}function le(e,t){e({type:ue.b,payload:{promptId:t.id}})}de.dependecies=[V,z],le.dependecies=[V];var pe=[];var fe=n(34),be=n(21),Oe=n.n(be),ve=n(39),he=n.n(ve),je=n(691),ge=n(906),me="sendExternalEvent",xe="openNewConversation",ye="updateConversationContext",Ie="getAvailableAgents",we="addFilterToEvaluate";function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Oe()(t)?t:l()(t,"initialMessages");new Promise((function(r,a){e(Object(ge.b)({initialMessages:n,conversationContext:l()(t,"conversationContext"),assignToUser:l()(t,"assignToUser"),createCase:!!l()(t,"autoInitiateConversation"),additional:!Oe()(t)&&he()(t)?Object(fe.a)(Object(fe.a)({},t.additional),{},{externalCaseId:t.id}):void 0,silent:!!l()(t,"silent")},{resolve:r,reject:a}))})).then((function(e){Object(je.a)({topic:xe,payload:{data:{conversationId:e},request:t}})})).catch((function(e){Object(je.a)({topic:xe,payload:{error:e,request:t}})}))}Ce.dependecies=[V,z];var Ee=n(736);function ke(e,t){var n=Object(Ee.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}ke.dependecies=[z];var Te=n(677),_e=n.n(Te),Se=n(655);function Ae(e,t){_e()(t.payload)?Object(je.a)({topic:me,payload:{error:M,request:t}}):e({type:Se.y,payload:t})}function Re(e,t){new Promise((function(n,r){e({type:Se.k,payload:t,promise:{resolve:n,reject:r}})})).then((function(e){Object(je.a)({topic:ye,payload:{data:e,request:t}})})).catch((function(e){Object(je.a)({topic:ye,payload:{error:e,request:t}})}))}function Ne(e,t){var n=Object(O.M)(t);if(!f()(n)){var r=G()(Object(b.a)(),{clientContext:{$merge:n}});Object(b.f)(r),e({type:Se.e,payload:{context:n}})}}Ae.dependecies=[V,z],Re.dependecies=[V],Ne.dependecies=[z];var Le=[];var De=[];var Me=[];var Pe=[];function Ue(e){Object(O.L)()&&e({type:K.i})}function Be(e){Object(O.L)()&&e({type:K.h})}Ue.dependecies=[V],Be.dependecies=[z];var Fe=[];var Ge="@commerce/ADD_TO_CART",We="@commerce/UPDATE_CART",ze="@commerce/REMOVE_FROM_CART";function Ve(e,t){e({type:We,payload:t})}function He(e,t){e({type:ze,payload:t})}Ve.dependecies=[V],He.dependecies=[V];var Ye=n(281),qe=n.n(Ye),Ke=n(673),Xe=n(865),Ze=n.n(Xe);Ze.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};var Je={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},Qe=Object.assign(Object.assign({},Je),{deviceToken:{type:"string",presence:!0}});function $e(e,t){if(t.appVersion=qe()(t.appVersion),n=t,Ze()(n,Qe))throw Object(g.a)("Invalid device registration payload",t),new Error(M);var n;return Ke.a.post("".concat("/livechat/event","/push/register-device"),{p:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(){return{}})).catch((function(){throw new Error(P)}))}$e.dependecies=[V];var et=[];function tt(e,t){if(t.appVersion=qe()(t.appVersion),n=t,Ze()(n,Je))throw Object(g.a)("Invalid device unregistration payload",t),new Error(M);var n;return Ke.a.post("".concat("/livechat/event","/push/unregister-device"),{p:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(){return{}})).catch((function(){throw new Error(P)}))}tt.dependecies=[V];var nt=[];var rt=[];var at=n(640),ct="NEW_MESSAGE",ot="MESSAGE_UPDATED",it="EXTERNAL_EVENT",st="CHAT_USER_UPDATED",ut="CHAT_USER_START_TYPING",dt="CHAT_USER_STOP_TYPING",lt="LOCK_CONVERSATIONS",pt="UNLOCK_CONVERSATIONS",ft="CONVERSATION_UPDATED",bt="VIDEO_CALL_STARTING",Ot="VIDEO_CALL_ENDED",vt="VIDEO_CALL_TOGGLE",ht="VIDEO_CALL_OFFER_ACCEPTED",jt="VIDEO_CALL_DECLINED",gt="VIDEO_CALL_MISSED",mt="CO_BROWSE_STATUS",xt="LIVE_CHAT_ASSIGNMENT_CHANGED",yt="ADD_TO_CART",It="USER_SESSION_EXPIRED",wt="VIDEO_PARTICIPANT_UPDATED",Ct=["type"];function Et(e,t){var n=t.type,r=Object(at.a)(t,Ct);if(n===ct){var a=r.cId;e(Object(ge.a)({conversationId:a}))}}Et.dependecies=[V,z];var kt=n(137),Tt=n.n(kt),_t=function(e){Nt(ee.a,e)},St=null,At=_t;function Rt(e,t){Tt()(t)&&(At=t)}function Nt(e,t){St&&(St(t),St=null)}Object(te.b)(ee.a,{topic:ae.i,subscriber:function(e){var t=e.response.data,n=t.callBack,r=t.permissions;St=n,At(r)}});var Lt=function(e,t){e({type:K.a,payload:{subscriber:t}})};Lt.dependecies=[V];var Dt=function(e,t){e({type:K.l,payload:{id:t.id}})};Dt.dependecies=[V];var Mt=function(e){Ke.a.post("".concat("/livechat/conversation","/fetchAgentAvailabilityDetails"),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){Object(je.a)({topic:Ie,payload:{data:e.data}})})).catch((function(){Object(je.a)({topic:Ie,payload:{error:P}})}))};Mt.dependecies=[V];var Pt=n(184);function Ut(e,t){new Promise((function(n,r){e(Object(ge.a)({conversationId:t},{resolve:n,reject:r}))})).catch((function(e){Object(Pt.b)(e)}))}Ut.dependecies=[V,z];var Bt,Ft=n(1228);var Gt=(Bt={},Object(B.a)(Bt,"updateUserContext",[H]),Object(B.a)(Bt,"updateUserSettings",[q]),Object(B.a)(Bt,"open",[Z]),Object(B.a)(Bt,"close",[ce]),Object(B.a)(Bt,"onUnreadCountChange",[function(e,t){ie=ne({topic:ae.l,legacySubscriberMap:ie,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(l()(n,"count"))}})}]),Object(B.a)(Bt,"offUnreadCountChange",[function(e,t){ie=re({topic:ae.l,legacySubscriberMap:ie,legacySubscriber:t})}]),Object(B.a)(Bt,"onExternalEvent",[function(e,t){se=ne({topic:ae.f,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n)}})}]),Object(B.a)(Bt,"offExternalEvent",[function(e,t){se=re({topic:ae.f,legacySubscriberMap:se,legacySubscriber:t})}]),Object(B.a)(Bt,"onClose",[function(e,t){oe=ne({topic:ae.d,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(B.a)(Bt,"offClose",[function(e,t){oe=re({topic:ae.d,legacySubscriberMap:oe,legacySubscriber:t})}]),Object(B.a)(Bt,"enable",[Ue]),Object(B.a)(Bt,"disable",[Be]),Object(B.a)(Bt,"onAvailabilityChange",[function(e,t){rt=ne({topic:ae.c,legacySubscriberMap:rt,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n.isChatVisible)}}),t(I===m)}]),Object(B.a)(Bt,"offAvailabilityChange",[function(e,t){rt=re({topic:ae.c,legacySubscriberMap:rt,legacySubscriber:t})}]),Object(B.a)(Bt,"subscribeToUpdate",[te.b]),Object(B.a)(Bt,"unsubscribeToUpdate",[te.c]),Object(B.a)(Bt,we,[Lt]),Object(B.a)(Bt,"removeFilterToEvaluate",[Dt]),Object(B.a)(Bt,"openNewPrompt",[de]),Object(B.a)(Bt,"clearPrompt",[le]),Object(B.a)(Bt,"onPromptAction",[function(e,t){pe=ne({topic:ae.j,legacySubscriberMap:pe,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n)}})}]),Object(B.a)(Bt,"offPromptAction",[function(e,t){pe=re({topic:ae.j,legacySubscriberMap:pe,legacySubscriber:t})}]),Object(B.a)(Bt,xe,[Ce]),Object(B.a)(Bt,me,[Ae]),Object(B.a)(Bt,"clearSession",[X]),Object(B.a)(Bt,ye,[Re]),Object(B.a)(Bt,"updateClientContext",[Ne]),Object(B.a)(Bt,"onShowMedia",[function(e,t){Me=ne({topic:ae.h,legacySubscriberMap:Me,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(B.a)(Bt,"offShowMedia",[function(e,t){Me=re({topic:ae.h,legacySubscriberMap:Me,legacySubscriber:t})}]),Object(B.a)(Bt,"onCloseMedia",[function(e,t){Pe=ne({topic:ae.g,legacySubscriberMap:Pe,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(B.a)(Bt,"offCloseMedia",[function(e,t){Pe=re({topic:ae.g,legacySubscriberMap:Pe,legacySubscriber:t})}]),Object(B.a)(Bt,"onEvent",[function(e,t){Fe=ne({topic:ae.e,legacySubscriberMap:Fe,legacySubscriber:t,newSubscriber:function(e){var n=e.response.data;t(n)}})}]),Object(B.a)(Bt,"offEvent",[function(e,t){Fe=re({topic:ae.e,legacySubscriberMap:Fe,legacySubscriber:t})}]),Object(B.a)(Bt,Ie,[Mt]),Object(B.a)(Bt,"openExistingConversation",[Ut]),Object(B.a)(Bt,"updateWidget",[function(e,t){var n=t.details.status;Ft.a[n]?e({type:K.o,payload:t}):(Object(g.a)("Invaild status code",n),Object(je.a)({topic:K.o,payload:{data:t,error:M}}))}]),Object(B.a)(Bt,"updateCart",[Ve]),Object(B.a)(Bt,"removeFromCart",[He]),Object(B.a)(Bt,"registerDevice",[$e,function(e,t){Object(je.a)({topic:ae.k,payload:{data:t,error:e}})}]),Object(B.a)(Bt,"onDeviceRegister",[function(e,t){et=ne({topic:ae.k,legacySubscriberMap:et,legacySubscriber:t,newSubscriber:function(e){var n=e.response.error;t(n)}})}]),Object(B.a)(Bt,"offDeviceRegister",[function(e,t){et=re({topic:ae.k,legacySubscriberMap:et,legacySubscriber:t})}]),Object(B.a)(Bt,"unregisterDevice",[tt,function(e,t){Object(je.a)({topic:ae.m,payload:{data:t,error:e}})}]),Object(B.a)(Bt,"onUnregisterDevice",[function(e,t){nt=ne({topic:ae.m,legacySubscriberMap:nt,legacySubscriber:t,newSubscriber:function(e){var n=e.response.error;t(n)}})}]),Object(B.a)(Bt,"offUnregisterDevice",[function(e,t){nt=re({topic:ae.m,legacySubscriberMap:nt,legacySubscriber:t})}]),Object(B.a)(Bt,"onLoad",[function(e,t){Le=ne({topic:ae.a,legacySubscriberMap:Le,legacySubscriber:t,newSubscriber:function(){t()}})}]),Object(B.a)(Bt,"offLoad",[function(e,t){Le=re({topic:ae.a,legacySubscriberMap:Le,legacySubscriber:t})}]),Object(B.a)(Bt,"onLoadComplete",[function(e,t){De=ne({topic:ae.b,legacySubscriberMap:De,legacySubscriber:t,newSubscriber:function(e){var n=e.response.error;t(n)}})}]),Object(B.a)(Bt,"offLoadComplete",[function(e,t){De=re({topic:ae.b,legacySubscriberMap:De,legacySubscriber:t})}]),Object(B.a)(Bt,"goBack",[ke]),Object(B.a)(Bt,"onNotification",[Et]),Object(B.a)(Bt,"onSeekPermission",[Rt]),Object(B.a)(Bt,"offSeekPermission",[function(e){Rt(0,_t)}]),Object(B.a)(Bt,"grantPermission",[Nt]),Bt),Wt=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f()(v)){e.next=6;break}return t=v.shift(),e.next=4,Ht.apply(void 0,Object(r.a)(t));case 4:return e.next=6,Wt();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function zt(e,t,n){return Vt.apply(this,arguments)}function Vt(){return Vt=Object(c.a)(Object(a.a)().mark((function e(t,n,c){var o,i,s,u,d,l=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:for(o=l.length,i=new Array(o>3?o-3:0),s=3;s<o;s++)i[s-3]=l[s];return u=[j.a.emit.bind(j.a)].concat(i),e.prev=4,e.next=7,n.apply(void 0,Object(r.a)(u));case 7:d=e.sent,c&&c(void 0,d),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),Object(g.a)(e.t0),c&&c(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])}))),Vt.apply(this,arguments)}function Ht(e){return Yt.apply(this,arguments)}function Yt(){return Yt=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,i,s,u,d=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=Gt[t]&&Gt[t][0],r=Gt[t]&&Gt[t][1],c=n&&n.dependecies&&n.dependecies.includes(z),o=n&&n.dependecies&&n.dependecies.includes(V),i=d.length,s=new Array(i>1?i-1:0),u=1;u<i;u++)s[u-1]=d[u];if(o||c){e.next=6;break}return zt.apply(void 0,[t,n,r].concat(s)),e.abrupt("return");case 6:if(!c||o){e.next=15;break}if(!C()){e.next=10;break}return r&&r(U),e.abrupt("return");case 10:if(!E()){e.next=13;break}return h([t].concat(s)),e.abrupt("return");case 13:return zt.apply(void 0,[t,n,r].concat(s)),e.abrupt("return");case 15:if(!o||c){e.next=24;break}if(!L()&&!D()){e.next=19;break}return r&&r(U),e.abrupt("return");case 19:if(!N()){e.next=22;break}return h([t].concat(s)),e.abrupt("return");case 22:return zt.apply(void 0,[t,n,r].concat(s)),e.abrupt("return");case 24:if(!(L()||D()||C())){e.next=27;break}return r&&r(U),e.abrupt("return");case 27:if(!N()&&!E()){e.next=30;break}return h([t].concat(s)),e.abrupt("return");case 30:zt.apply(void 0,[t,n,r].concat(s));case 31:case"end":return e.stop()}}),e)}))),Yt.apply(this,arguments)}var qt=n(183),Kt=n(641),Xt=n.n(Kt),Zt=n(854),Jt=n(674),Qt=n(615),$t=n(614),en=n(2138),tn=n(2051),nn=n(2139),rn=Object(en.a)("isSSOAuthorized"),an=Object(en.a)("authToken"),cn=Object(en.a)("oneTimeToken"),on=Object(Qt.a)((function e(){Object($t.a)(this,e)}));on.isSSOAuthorized=Object(tn.a)(rn),on.getAuthToken=Object(tn.a)(an),on.hasIsSSOAuthorized=function(e){return e&&Object(nn.a)("isSSOAuthorized",e)},on.getOneTimeToken=Object(tn.a)(cn);var sn=n(657),un=n(637),dn=n(735),ln=n(1033),pn=n(685),fn=function(e){var t=screen.width/2,n=screen.height/2,r=t-t/2,a=n-n/2;return window.open(e,"_blank","height=".concat(n,",width=").concat(t,",top=").concat(a,",left=").concat(r))},bn=n(699),On=n(827),vn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,i,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,r=t.conversationId,c=t.messageId,o=Object(b.a)(),i=o.appId,e.t0={key:"idpId",value:n},e.next=6,Object(dn.a)(i);case 6:return e.t1=e.sent,e.t2={key:"x-chat-token",value:e.t1},s=[e.t0,e.t2],r&&s.push({key:"conversationId",value:r}),c&&s.push({key:"messageId",value:c}),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hn="".concat("https://prod2-live-chat.sprinklr.com","/api"),jn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,r=t.conversationId,c=t.messageId,e.next=3,vn({ssoId:n,conversationId:r,messageId:c});case 3:return o=e.sent,i=Object(bn.e)(o),e.abrupt("return","".concat(hn,"/livechat/authenticate/begin?").concat(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gn=function(e){return on.isSSOAuthorized(Jt.a.getUserSettings(Object(b.a)()))&&!!un.a.getAutoLoginSSOId(sn.a.getCustomizationConfig(e))},mn=function(){var e=window.document.createElement("iframe");e.id="subscriberIframe",e.src="".concat("https://live-chat-static.sprinklr.com","/api/livechat/authenticate/listener.html?appId=").concat(Object(b.a)().appId),e.style.visibility="hidden",window.document.body.appendChild(e)},xn=function(){var e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)},yn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ssoId,r=t.conversationId,o=t.messageId,e.t0=fn,e.next=4,jn({ssoId:n,conversationId:r,messageId:o});case 4:return e.t1=e.sent,i=(0,e.t0)(e.t1),mn(),e.abrupt("return",new Promise((function(e,t){var n,r;r=Object(On.d)("/logout",(function(){s(),t()})),n=setInterval((function(){i&&i.closed&&(s(),t())}),1500);var o=function(){var n=Object(c.a)(Object(a.a)().mark((function n(r){var c,o;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.origin.match(/(sprinklr\.com)/g)){n.next=15;break}return n.prev=1,c=JSON.parse(r.data),o=c.params,n.next=5,Object(dn.k)(Object(b.a)().appId,o.authToken);case 5:e(o),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(),Object(Pt.b)(n.t0);case 12:return n.prev=12,s(),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,8,12,15]])})));return function(e){return n.apply(this,arguments)}}(),s=function(){clearInterval(n),r&&r(),window.removeEventListener("message",o)};window.addEventListener("message",o)})).finally((function(){i&&i.close(),xn()})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),In=n(668),wn=n(686),Cn=n(634),En=["id","hash"],kn=function(e){var t=e.handshakeDetails,n=e.applicationConfig,r=e.getSessionToken;if(r&&Object(Ke.b)({getSessionToken:r}),t&&Object(Ke.b)({userId:t.chatUser.userId}),n){var a=sn.a.getAutoExpireUserSessionTimeInMinutes(n),c=l()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(Ke.b)({sessionExpiryTimeInMinutes:a,sessionExpiryAlertTime:c})}},Tn=function(e){if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return Cn.a},_n=function(e){var t=!un.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){var e;t&&(e=console).debug.apply(e,arguments)}},Sn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Jt.a.getAppId(t),r=Jt.a.getUserSettings(t),c=on.getAuthToken(r),!on.hasIsSSOAuthorized(r)){e.next=10;break}return e.t0=Tn,e.next=5,Object(dn.a)(n);case 5:if(e.t1=e.sent,o=(0,e.t0)(e.t1),!Object(In.b)(o.chatUserId)){e.next=10;break}return e.next=10,Object(dn.g)(n);case 10:if(!c){e.next=15;break}return e.next=13,Object(dn.g)(n);case 13:return e.next=15,Object(dn.k)(n,c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function An(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(dn.d)(t);case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,e.next=12,Object(dn.b)(t,ln.a);case 12:r=e.sent,e.next=18;break;case 15:e.prev=15,e.t1=e.catch(9),console.warn(e.t1);case 18:return e.prev=18,e.next=21,Object(dn.b)(t,ln.b);case 21:c=e.sent,e.next=27;break;case 24:e.prev=24,e.t2=e.catch(18),console.warn(e.t2);case 27:return i=(i=c||n)===(o=r||c||n)?void 0:i,e.abrupt("return",{primaryToken:o,secondaryToken:i});case 31:case"end":return e.stop()}}),e,null,[[0,6],[9,15],[18,24]])})))).apply(this,arguments)}function Nn(e){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,i,s,u,d,p,O,v,h,j,g;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Jt.a.getAppId(t),r=Jt.a.getUserSettings(t),c=Xt()(Jt.a.getUserSettings(t),["authToken","isSSOAuthorized","oneTimeToken"]),o=Jt.a.getUserContext(t),!!!Jt.a.getSessionOrigin(Object(b.a)())){e.next=12;break}return e.next=5,An(n);case 5:u=e.sent,d=u.primaryToken,p=u.secondaryToken,i=d,s=p,e.next=15;break;case 12:return e.next=14,Object(dn.d)(n);case 14:i=e.sent;case 15:return O={appId:n,oneTimeToken:l()(r,"oneTimeToken"),chatSessionToken:i,secondaryChatToken:s,page:Object(pn.b)(),pageTitle:Object(pn.c)(),referralPage:Object(pn.d)(),timezone:Object(pn.f)(),userAgent:Object(pn.e)(),enforcedLocale:Jt.a.getLocale(t),fallbackLocales:Object(wn.a)(),meetingId:Jt.a.getMeetingId(t),otp:Jt.a.getOtp(t)},f()(c)||(h=(v=c).id,j=v.hash,g=Object(at.a)(v,En),Object.assign(O,{chatUser:Object(fe.a)({userId:h},g),chatUserSignature:j})),f()(o)||Object.assign(O,{customContext:o}),e.abrupt("return",O);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Zt.c)(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(dn.h)(t,ln.d);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:return e.prev=8,e.next=11,Object(dn.h)(t,ln.b);case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(8),console.warn(e.t1);case 16:case"end":return e.stop()}}),e,null,[[0,5],[8,13]])})));return function(t){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Zt.a,e.next=3,Nn(t);case 3:return e.t1=e.sent,e.next=6,(0,e.t0)(e.t1);case 6:if(n=e.sent,!!!Jt.a.getSessionOrigin(Object(b.a)())){e.next=11;break}return e.next=11,Mn(Jt.a.getAppId(t));case 11:return e.next=13,Object(dn.k)(Jt.a.getAppId(t),n.chatSessionToken);case 13:if(n.userPreferences){e.next=18;break}return e.next=16,Object(dn.f)(n.chatUser.userId);case 16:return r=e.sent,e.abrupt("return",Object(fe.a)(Object(fe.a)({},n),{},{userPreferences:r}));case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c,o,i,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([Dn(t),Pn(t)]);case 2:if(n=e.sent,r=Object(qt.a)(n,2),c=r[0],o=r[1],i=c.value,o.value.chatUser.locale=o.value.chatUser.locale||i.defaultLocale,!Object(O.L)()&&gn(i)){e.next=10;break}return e.abrupt("return",[c,o]);case 10:return e.prev=10,e.next=13,yn({ssoId:un.a.getAutoLoginSSOId(sn.a.getCustomizationConfig(i))});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),Object(Pt.b)(e.t0);case 18:return e.next=20,Pn(t);case 20:return(s=e.sent).chatUser.locale=s.chatUser.locale||i.defaultLocale,e.abrupt("return",[c,{value:s}]);case 23:case"end":return e.stop()}}),e,null,[[10,15]])})));return function(t){return e.apply(this,arguments)}}(),Bn=function(e){j.a.on(e),R(T)},Fn=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(_),w(!1),e.next=4,Wt();case 4:Object(je.a)({topic:ae.b,payload:{error:!0}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gn=n(192),Wn=n(967),zn=n.n(Wn);function Vn(e){var t=Object(Pt.a)();t&&t.setUser&&t.setUser({id:e.userId,username:zn()("".concat(e.firstName||""," ").concat(e.lastName||"")),email:e.email||""})}var Hn=function(e,t){Object(b.a)().appId,e.chatUser;!l()(t,"otherConfigs.settings.disableSentry")&&Object(Pt.a)()},Yn=n(607),qn=n.n(Yn),Kn=n(721),Xn=n.n(Kn),Zn=n(983),Jn=n.n(Zn),Qn=n(812),$n=n.n(Qn),er=n(678),tr=n.n(er),nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var cr=function(e){function t(){var n,r;rr(this,t);for(var a=arguments.length,c=Array(a),o=0;o<a;o++)c[o]=arguments[o];return n=r=ar(this,e.call.apply(e,[this].concat(c))),r.state={match:r.computeMatch(r.props.history.location.pathname)},ar(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:nr({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;$n()(null==n||1===qn.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){Jn()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?qn.a.Children.only(e):null},t}(qn.a.Component);cr.propTypes={history:tr.a.object.isRequired,children:tr.a.node},cr.contextTypes={router:tr.a.object},cr.childContextTypes={router:tr.a.object.isRequired};var or=cr,ir=n(710),sr=n(608),ur=n(612),dr=n(1530),lr=n(1231),pr=n(764),fr=n.n(pr),br=n(643),Or=n(799),vr=n(896),hr=n(676),jr=n(622),gr=function(e){return Object(hr.c)(Object(jr.b)(e))},mr=function(e){var t=Object(Or.a)(),n=Object(br.a)(),r=Object(ur.d)(gr),o=Object(O.K)(),i=sn.a.getVisibilityConfigFilter(n),s=Object(vr.a)(!o&&i,{logOnSuccess:!0,defaultValue:!1}).hasPassed,u=!s&&r;return Object(Yn.useEffect)((function(){s&&Object(g.a)("Sprinklr Chat hidden by visibility criteria"),r||Object(g.a)("Sprinklr Chat disabled by sdk"),w(u),Object(je.a)({topic:ae.c,payload:{data:{isChatVisible:u}}})}),[s,r,u]),Object(Yn.useEffect)((function(){var e=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt();case 2:Object(je.a)({topic:ae.a,payload:{}}),Object(je.a)({topic:ae.b,payload:{error:!1}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){Object(je.a)({topic:ae.c,payload:{data:{isChatVisible:!1}}})}}),[]),fr()((function(){Wt()}),[t]),u?e.children:null},xr=qn.a.memo(mr),yr=n(980),Ir=n(1067),wr=function(e){return Object(sr.jsx)(Ir.a,{history:e.history},Object(sr.jsx)(yr.b,null,e.children))},Cr=n(795),Er=n(616),kr=n(611),Tr=n(621),_r=n(871),Sr=n(1680),Ar=n(1271);function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Lr=function(e){function t(){return Rr(this,t),Nr(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){$n()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){Jn()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),Jn()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,a=void 0;return qn.a.Children.forEach(t,(function(t){if(null==r&&qn.a.isValidElement(t)){var c=t.props,o=c.path,i=c.exact,s=c.strict,u=c.sensitive,d=c.from,l=o||d;a=t,r=Object(Ar.a)(n.pathname,{path:l,exact:i,strict:s,sensitive:u},e.match)}})),r?qn.a.cloneElement(a,{location:n,computedMatch:r}):null},t}(qn.a.Component);Lr.contextTypes={router:tr.a.shape({route:tr.a.object.isRequired}).isRequired},Lr.propTypes={children:tr.a.node,location:tr.a.object};var Dr=Lr,Mr=n(1273),Pr=n(1272),Ur=n.n(Pr),Br={},Fr=0,Gr=function(e){var t=e,n=Br[t]||(Br[t]={});if(n[e])return n[e];var r=Ur.a.compile(e);return Fr<1e4&&(n[e]=r,Fr++),r},Wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=Gr(e);return n(t,{pretty:!0})},zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var Yr=function(e){function t(){return Vr(this,t),Hr(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){$n()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(Mr.a)(e.to),n=Object(Mr.a)(this.props.to);Object(Mr.b)(t,n)?Jn()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?Wr(n,t.params):zr({},n,{pathname:Wr(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(qn.a.Component);Yr.propTypes={computedMatch:tr.a.object,push:tr.a.bool,from:tr.a.string,to:tr.a.oneOfType([tr.a.string,tr.a.object]).isRequired},Yr.defaultProps={push:!1},Yr.contextTypes={router:tr.a.shape({history:tr.a.shape({push:tr.a.func.isRequired,replace:tr.a.func.isRequired}).isRequired,staticContext:tr.a.object}).isRequired};var qr=Yr,Kr=n(1069),Xr=n(609);var Zr,Jr=Object(Xr.a)("div",{target:"ejhhbev0"})({name:"jbngkd",styles:"display:flex;flex-direction:column;height:100%;width:100%;position:relative;"}),Qr=Object(sr.css)("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}"),$r="page-fade",ea={name:"1ih49i4",styles:"opacity:0;z-index:1;overflow:hidden;"},ta={name:"h3fsyk",styles:"opacity:1;transition:opacity 0.16s ease-in;overflow:hidden;"},na=Object(sr.css)(".",$r,"-enter{",ea,";}.",$r,"-enter.",$r,"-enter-active{",ta,";}.",$r,"-exit{",ta,";}.",$r,"-exit.",$r,"-exit-active{",ea,";}"),ra=n(654),aa=n.n(ra),ca=n(610),oa=n(613),ia=n(619),sa=n(740),ua="snackbar",da=Object(Xr.a)("div",{target:"egs66bu0"})("font-size:",Object(ca.e)("xs"),";margin:0 auto;position:absolute;top:20%;z-index:",sa.a.SNACK_BAR,";"),la=Object(Xr.a)("div",{target:"egs66bu1"})("max-width:70%;overflow:hidden;",(function(e){return Object(ca.f)("snackBar")}),";padding:0;border-radius:",Object(ca.a)("snackBar.borderRadius"),";"),pa=Object(Xr.a)("div",{target:"egs66bu2"})("line-height:1;",(function(e){return Object(ca.f)("snackBar.message")}),";",(function(e){return Object(oa.c)("padding-right: ".concat(Object(ca.f)("snackBar.message.paddingRight")(e),";\n       padding-left: ").concat(Object(ca.f)("snackBar.message.paddingLeft")(e),";"),"padding-left: ".concat(Object(ca.f)("snackBar.message.paddingRight")(e),";\n       padding-right: ").concat(Object(ca.f)("snackBar.message.paddingLeft")(e),";"))}),";"),fa=Object(sr.css)(".",ua,"-enter{transform:translateY(-20%);transition:transform 250ms ease-in;}.",ua,"-enter-active{transform:translateY(0);}.",ua,"-exit{transform:translateY(0);transition:transform 250ms ease-out;}.",ua,"-exit-active{transform:translateY(-20%);}"),ba=Object(Xr.a)("div",{target:"egs66bu3"})("align-self:stretch;",(function(e){return Object(ca.f)("snackBar.iconBox")}),";",(function(e){return Object(oa.c)("padding-right: ".concat(Object(ca.f)("snackBar.iconBox.paddingRight")(e),";\n       padding-left: ").concat(Object(ca.f)("snackBar.iconBox.paddingLeft")(e),";"),"padding-left: ".concat(Object(ca.f)("snackBar.iconBox.paddingRight")(e),";\n       padding-right: ").concat(Object(ca.f)("snackBar.iconBox.paddingLeft")(e),";"))}),";",(function(e){var t;return Object(ca.f)("snackBar.iconBox.".concat(null===(t=e.type)||void 0===t?void 0:t.toLowerCase()))}),";"),Oa=Object(Xr.a)(ia.b,{target:"egs66bu4"})("height:14px;width:14px;",(function(e){return Object(ca.f)("snackBar.iconBox.icon")})," ",(function(e){var t;return Object(ca.f)("snackBar.iconBox.icon.".concat(null===(t=e.type)||void 0===t?void 0:t.toLowerCase()))}),""),va=["title","titleId"];function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}function ja(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ga(e,t){var n=e.title,r=e.titleId,a=ja(e,va);return Yn.createElement("svg",ha({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidTickCircle",className:"sw--d3 sw--dy sw--nl sw--nm",ref:t,"aria-labelledby":r},a),n?Yn.createElement("title",{id:r},n):null,Zr||(Zr=Yn.createElement("path",{d:"M9.53 4.44l-3.64 3.6-1.42-1.4a.72.72 0 10-1 1.03l1.92 1.9a.72.72 0 001.01 0l4.14-4.11a.72.72 0 10-1.01-1.02zM7 0a7 7 0 11-7 7 7 7 0 017-7z",fillRule:"evenodd"})))}var ma=Yn.forwardRef(ga),xa=(n.p,n(918)),ya=n(779),Ia=n(741),wa=n(701),Ca=function(){var e,t=Object(Ia.a)(),n=t.notification,r=t.setNotification,a=Object(Yn.useRef)(),c=Object(Yn.useMemo)((function(){return l()(n,"timeout")||2e3}),[n]),o=Object(ya.a)(),i=null===n||void 0===n?void 0:n.type,s=i===wa.a.SUCCESS?ia.a.SNACKBAR_SUCCESS:ia.a.SNACKBAR_FAILURE,u=i===wa.a.SUCCESS?ma:xa.a;return Object(Yn.useEffect)((function(){n&&(window.clearTimeout(a.current),a.current=window.setTimeout((function(){r(void 0)}),c))}),[n,c]),Object(sr.jsx)(qn.a.Fragment,null,Object(sr.jsx)(sr.Global,{styles:fa}),Object(sr.jsx)(_r.CSSTransition,{classNames:ua,in:Boolean(n),timeout:{enter:250,exit:250},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(sr.jsx)(da,{className:"center-x-y full-width"},n?Object(sr.jsx)(la,{className:"center-x-y "},Object(sr.jsx)(ba,{className:"center-x-y",type:i,direction:o},Object(sr.jsx)(Oa,{name:s,alt:u,type:i})),Object(sr.jsx)(pa,{className:"text-wrap",direction:o},(e=n.message,aa()(e)?e:Object(sr.jsx)(kr.b,e)))):null)))},Ea=n(1196),ka=n(982),Ta=n(916),_a=["/logout"],Sa=function(e,t){return"REPLACE"===t||e&&_a.filter((function(t){return e.match(t)})).length>0},Aa=function(e){var t=e.children,n=e.locationKey,r=e.action,a=Object(Kr.a)(n),c=Object(Kr.a)(r),o=Object(Yn.useCallback)((function(e){return qn.a.cloneElement(e,{exit:!Sa(a.current,c.current),enter:!Sa(a.current,c.current)})}),[]);return Object(sr.jsx)(_r.TransitionGroup,{childFactory:o},Object(sr.jsx)(_r.CSSTransition,{key:n,classNames:$r,timeout:300},t))},Ra=function(){return Object(sr.jsx)(qn.a.Fragment,null,Object(sr.jsx)(Ca,null),Object(sr.jsx)(sr.Global,{styles:na}),Object(sr.jsx)(Jr,null,Object(sr.jsx)(Sr.a,{render:function(e){var t=e.location,n=e.history;return Object(sr.jsx)(Aa,{locationKey:t.pathname,action:n.action},Object(sr.jsx)(Ea.a,{css:Qr},(function(e){var n=e.LogoutPage,r=e.HomePage,a=e.ConversationPage,c=e.ConversationsListPage,o=e.SurveyPage,i=e.Error401Page,s=e.KnowledgeBasePage,u=e.KnowledgeBaseCategoriesPage,d=e.KnowledgeBaseArticlePage,l=e.GuidedWorkflowPage;return Object(sr.jsx)(Dr,{location:t},Object(sr.jsx)(Sr.a,{exact:!0,path:"/logout",component:n}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/home",component:r}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/survey/:surveyUrl",component:o}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/knowledge-base/categories/:categoryId",component:s}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/knowledge-base/categories/:categoryId/categories",component:u}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/knowledge-base"},Object(sr.jsx)(qr,{to:"/knowledge-base/categories/".concat(Ta.a)})),Object(sr.jsx)(Sr.a,{exact:!0,path:"/knowledge-base/article/:articleId",component:d}),Object(sr.jsx)(Sr.a,{path:"/conversation",render:function(e){var t=e.match;return Object(sr.jsx)(Dr,null,Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(t.path,"/all"),component:c}),Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(t.path,"/new/:transientConversationId?"),render:function(e){return Object(sr.jsx)(a,Object(Er.a)({},e,{pageType:ka.a.NEW}))}}),Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(t.path,"/last"),render:function(e){return Object(sr.jsx)(a,Object(Er.a)({},e,{pageType:ka.a.LAST}))}}),Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(t.path,"/:conversationId/survey/:surveyUrl"),component:o}),Object(sr.jsx)(Sr.a,{path:"".concat(t.path,"/:conversationId"),render:function(e){return Object(sr.jsx)(a,Object(Er.a)({},e,{pageType:ka.a.EXISTING}))}}),Object(sr.jsx)(Sr.a,{render:function(){return Object(sr.jsx)("div",null,"Not Found")}}))}}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/guided-workflow/:guidedWorkflowUrl",component:l}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/401",component:i}))})))}})))},Na=n(190),La=Object(sr.css)("padding-top:env(safe-area-inset-top);@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}"),Da=function(){return Object(sr.jsx)(qn.a.Fragment,null,Object(sr.jsx)(Sr.a,{render:function(e){var t=e.location;return Object(sr.jsx)(Ea.a,{css:La},(function(e){var n=e.LogoutPage,r=e.ConversationPage,a=e.SurveyPage,c=e.Error401Page;return Object(sr.jsx)(Dr,{location:t},Object(sr.jsx)(Sr.a,{exact:!0,path:"/logout",component:n}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/home"},Object(sr.jsx)(qr,{to:"/conversation/new"})),Object(sr.jsx)(Sr.a,{exact:!0,path:"/survey/:surveyUrl",component:a}),Object(sr.jsx)(Sr.a,{path:"/conversation",render:function(e){var t=e.conversationLocation,n=e.match;return Object(sr.jsx)(Dr,{location:t},Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(n.path,"/new/:transientConversationId?"),render:function(e){return Object(sr.jsx)(r,Object(Er.a)({key:e.match.params.transientConversationId||Na.e},e,{pageType:ka.a.NEW}))}}),Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(n.path,"/last"),render:function(e){return Object(sr.jsx)(r,Object(Er.a)({},e,{pageType:ka.a.LAST}))}}),Object(sr.jsx)(Sr.a,{exact:!0,path:"".concat(n.path,"/:conversationId/survey/:surveyUrl"),component:a}),Object(sr.jsx)(Sr.a,{path:"".concat(n.path,"/:conversationId"),render:function(e){return Object(sr.jsx)(r,Object(Er.a)({key:e.match.params.conversationId},e,{pageType:ka.a.EXISTING}))}}))}}),Object(sr.jsx)(Sr.a,{exact:!0,path:"/401",component:c}))}))}}),Object(sr.jsx)(Ca,null))},Ma=n(2052),Pa=n(1274),Ua=n(680),Ba=n(651),Fa=n(773),Ga=n(1276),Wa=n(981);var za=function(e){var t=e.theme;return Object(sr.css)("fill:",Object(ca.b)("white")({theme:t}),";height:100%;width:100%;")},Va=Object(Xr.a)("div",{target:"e12lx3wm0"})("position:fixed;top:0;left:0;z-index:",(function(e){return Object(ca.f)("frame.zIndex")(e)}),";transform:translatez(",(function(e){return Object(ca.f)("frame.translateZ")(e)}),"px) !important;height:100%;width:100%;"),Ha=Object(Xr.a)(Fa.a,{target:"e12lx3wm1"})({name:"774i4t",styles:"height:100%;width:100%;border-width:0px;"}),Ya=Object(Xr.a)(Wa.c,{target:"e12lx3wm2"})({name:"hgqvtn",styles:"width:48px;height:48px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"}),qa=Object(Xr.a)(Wa.c,{target:"e12lx3wm3"})({name:"uwwqev",styles:"width:100%;height:100%;"}),Ka=Object(Xr.a)(Ga.a,{target:"e12lx3wm4"})((function(e){var t=e.isPhone,n=e.direction;return"".concat(t?Object(oa.c)("right: 20px","left: 20px")({direction:n}):Object(oa.c)("right: 40px","left: 40px")({direction:n}),";")}),""),Xa=n(617),Za=n(618),Ja=n(833),Qa=Object(kr.g)({preview:{id:"preview",defaultMessage:"Preview"}}),$a=Object(Ma.a)(Object(kr.h)((function(e){var t,n=e.previewItem,r=e.history,a=e.intl,c=Object(Tr.b)(),o=Object(Xa.a)(),i=!!n&&n.type!==Ja.a.DIALOGUE,s=Object(Za.a)().direction,u=Object(Yn.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),r.goBack()}),[r]);return Object(sr.jsx)(Va,{className:"spr-chat__modal-box spr-live-chat-frame"},Object(sr.jsx)(Ha,{name:"spr-chat__modal-frame","aria-label":a.formatMessage(Qa.preview),title:a.formatMessage(Qa.preview)},Object(sr.jsx)(sr.Global,{styles:(t={theme:c},Object(sr.css)(".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:",Object(Ba.k)(.2,Object(ca.b)("charcoal")(t)),";}"))}),Object(sr.jsx)(Yn.Suspense,{fallback:Object(sr.jsx)(Ya,null,Object(sr.jsx)(qa,{className:"center-x center-y"}))},Object(sr.jsx)(Pa.a,{previewItem:n})),i&&Object(sr.jsx)(Ka,{Icon:Ua.a,iconCss:za({theme:c}),iconName:ia.a.CLOSE,"aria-label":ia.a.CLOSE,direction:s,isPhone:o,onClick:u})))}))),ec=function(e){if(!e.search.includes("preview=1"))return null;var t=l()(e.state,"sprPreview.type");switch(t){case Ja.a.DIALOGUE:return{type:t,message:l()(e.state,"sprPreview.message"),title:l()(e.state,"sprPreview.title"),cancelLabel:l()(e.state,"sprPreview.cancelLabel"),confirmationLabel:l()(e.state,"sprPreview.confirmationLabel"),onConfirm:l()(e.state,"sprPreview.onConfirm"),onCancel:l()(e.state,"sprPreview.onCancel")};case Ja.a.IMAGE:case Ja.a.VIDEO:return{type:t,url:l()(e.state,"sprPreview.url"),downloadParams:l()(e.state,"sprPreview.downloadParams")};default:return null}},tc=Object(Ma.a)((function(e){var t=e.location,n=Object(Yn.useMemo)((function(){return ec(t)}),[t.search,t.state]);return n?Object(sr.jsx)($a,{previewItem:n}):null})),nc=n(1521),rc=n(624),ac=n(917),cc=n.n(ac),oc=n(723),ic=n(1075),sc=n(1277),uc=n(1076),dc=n(629),lc=n(752),pc=n(700),fc=n(630),bc=function(e){return Object(lc.d)(Object(dc.b)(e))},Oc=function(e){return Object(lc.f)(Object(dc.b)(e))},vc=function(e){return Object(hr.g)(Object(jr.b)(e))},hc=function(e){return Object(lc.v)(Object(dc.b)(e))},jc=function(e){return Object(lc.k)(Object(dc.b)(e))},gc=function(e){var t=Object(Xa.a)(),n=Object(ur.d)(Oc),r=Object(ur.d)(bc),a=Object(ur.d)(hc),c=Object(ur.d)(vc),o=Object(rc.a)(fc.g),i=Object(ur.d)(jc),s=Object(oc.a)(),u=n.state,d=r.state,l=cc()(u),p=cc()(d);return Object(Yn.useEffect)((function(){c&&(t&&u&&u!==l||d===pc.d.WAITING)&&o(!1)}),[c,u,l,o,d,p]),Object(Yn.useEffect)((function(){var e=function(){s.info({message:"Currently on live chat tab: ".concat(!document.hidden)})};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[s]),f()(n)&&(a||f()(r))||t&&c&&!i?null:Object(sr.jsx)(Yn.Suspense,{fallback:null},Object(sr.jsx)(ic.a,Object(Er.a)({},e,{outgoingCallDetails:n,incomingCallDetails:r})))},mc=function(e){return Object(lc.c)(Object(dc.b)(e))},xc=function(e){return Object(lc.p)(Object(dc.b)(e))},yc=function(e){var t=Object(ur.d)(mc),n=Object(ur.d)(xc);return Object(sr.jsx)(uc.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(sr.jsx)(sc.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(sr.jsx)(gc,e)))},Ic=qn.a.memo(yc),wc=n(1527),Cc=function(e){return"".concat("spr-cobrowse-state","_").concat(e)},Ec=!!Jt.a.getSessionOrigin(Object(b.a)()),kc={get:function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Cc(t),Ec){e.next=4;break}return e.abrupt("return",ln.d.getItem(n));case 4:return e.next=6,ln.c.getItem(n);case 6:if(r=e.sent){e.next=16;break}return e.next=10,ln.d.getItem(n);case 10:if(!(c=e.sent)){e.next=16;break}return ln.d.removeItem(n),e.next=15,ln.c.setItem(n,c);case 15:return e.abrupt("return",c);case 16:return e.abrupt("return",r);case 19:return e.prev=19,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),set:function(e,t){return Ec?ln.c.setItem(Cc(e),t):ln.d.setItem(Cc(e),t)},remove:function(e){return Ec?ln.c.removeItem(Cc(e)):ln.d.removeItem(Cc(e))}},Tc=n(920),_c=n(626),Sc=n(1077),Ac=Object(_c.a)((function(){return Promise.all([n.e(0),n.e(19)]).then(n.bind(null,2110))})),Rc={endCobrowseSession:Tc.c,resumeCobrowseSession:Tc.n,markCobrowseSessionFailed:Tc.e},Nc=function(){var e=Object(ur.d)(jr.f),t=Object(rc.a)(Rc),n=t.endCobrowseSession,r=t.resumeCobrowseSession,o=t.markCobrowseSessionFailed,i=Object(Yn.useCallback)((function(){n({messageId:e.messageId})}),[e.messageId]),s=Object(Yn.useMemo)((function(){return Object(b.a)()}),[]).appId;return Object(Yn.useEffect)((function(){var e=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){var t,n,c,i,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc.get(s);case 2:t=e.sent;try{t&&(n=JSON.parse(t),c=n.conversationId,i=n.messageId,u=n.agentId,r({state:{conversationId:c,messageId:i,agentId:u}}))}catch(a){o({reason:Sc.a.RESUME_SESSION_FAILED})}case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r,s]),f()(e)?null:Object(sr.jsx)(Yn.Suspense,{fallback:Object(sr.jsx)(wc.a,{sessionState:e.sessionState,onStopSession:i})},Object(sr.jsx)(Ac,{cobrowseState:e}))},Lc=n(867);var Dc=Object(Xr.a)(Fa.a,{target:"e1ogxy6u0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Mc=Object(Xr.a)("div",{target:"e1ogxy6u1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(ca.f)("page.gradients"),";background-color:",Object(ca.f)("page.backgroundColor"),";"),Pc=Object(Xr.a)("div",{target:"e1ogxy6u2"})("height:calc( 100% - ",(function(e){var t=Object(ca.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t.absoluteValue+t.unit})," );width:calc( 100% - ",(function(e){var t=Object(ca.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t.absoluteValue+t.unit})," );border-radius:",(function(e){return Object(ca.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"}),";box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);overflow:hidden;background-color:",Object(ca.b)("white"),";",(function(e){return!e.isPhone&&!Object(Lc.a)()&&"max-width: ".concat(648,"px;\n    max-height: 95%;")}),";"),Uc={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"},Bc=n(647),Fc=n(984),Gc=n(767),Wc="CONVERSATION",zc="CONVERSATION_LIST",Vc="KNOWLEDGE_BASE",Hc="KNOWLEDGE_BASE_LIST",Yc="SURVEY",qc=["/conversation/"],Kc={survey:Yc,401:"401",home:"HOME","guided-workflow":"GUIDED_WORKFLOW"},Xc=n(660),Zc=function(){var e,t=Object(Bc.a)(),n=Object(Gc.a)(),r=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,a=null===n||void 0===n?void 0:n.action,c=Object(Yn.useMemo)((function(){return function(e){var t,n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?Vc:Hc);break;case"conversation":n.length>3&&"survey"===n[3]?t=Yc:n.length>2&&(t="all"===n[2]?zc:Wc);break;default:t=Kc[n[1]]}return t}(r)}),[r]);Object(Yn.useEffect)((function(){c&&function(e,t){return!("REPLACE"===t&&qc.filter((function(t){return null===e||void 0===e?void 0:e.match(t)})).length)}(r,a)&&t({action:Xc.a.PAGE_OPENED,additional:{value:c}})}),[c,r])},Jc=n(648),Qc=Object(_c.a)((function(){return Promise.all([n.e(0),n.e(105)]).then(n.bind(null,2123))})),$c=function(e){var t=Object(Xa.a)(),n=Object(Bc.a)();return Zc(),Object(Yn.useEffect)((function(){return n({action:Xc.a.CONVERSATION_WINDOW_OPENED}),function(){n({action:Xc.a.CONVERSATION_WINDOW_CLOSED})}}),[]),Object(sr.jsx)(Mc,null,Object(sr.jsx)(Pc,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(O.B)()?Object(sr.jsx)(Da,null):Object(sr.jsx)(Ra,null)))},eo=Object(kr.h)((function(e){var t=Object(br.a)(),n=Object(Yn.useRef)(),r=Object(Tr.b)(),a=e.intl.formatMessage,c=Object(Fc.a)(),o=Object(rc.a)(ir.e),i=Object(Yn.useCallback)((function(){c(n),o()}),[c,o]);return Object(sr.jsx)(qn.a.Fragment,null,Object(sr.jsx)(nc.a,{theme:r}),Object(sr.jsx)(Dc,{"aria-label":a(Jc.a.liveChat),name:"spr-chat__page-frame",contentDidMount:i,title:a(Jc.a.liveChat)},Object(sr.jsx)(sr.Global,{styles:Uc}),t&&t.autoExpireUserSessionTimeInMinutes?Object(sr.jsx)(Yn.Suspense,{fallback:null},Object(sr.jsx)(Qc,null)):null,Object(sr.jsx)($c,Object(Er.a)({},e,{pageBoxRef:n}))),Object(sr.jsx)(Ic,{parentFrameRef:n}),Object(sr.jsx)(Nc,null),Object(sr.jsx)(tc,null))})),to=n(818),no=n(194),ro=n.n(no),ao=n(1070),co=n(188),oo=n.n(co),io=n(1683),so=n.n(io),uo=n(1246),lo=n.n(uo),po=n(868),fo=n.n(po),bo=n(801),Oo=function e(t,n){var a=[];return oo()(t,(function(t,c){"filters"===c?oo()(t,(function(e){var t=e.filter,r=e.value;f()(t)||f()(r)||a.push({field:t.field,filterType:t.fieldType||t.filterType,filters:t.filters,values:t.values,details:Object(fe.a)(Object(fe.a)({},t.details),{},{path:n,value:r})})})):a.push.apply(a,Object(r.a)(e(t,n?"".concat(n,".").concat(c):c)))})),a},vo=function(e){var t=e.triggerAlign,n=e.frameAlign;if(t===bo.f.LEFT)switch(n){case bo.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:return bo.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT;case bo.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return bo.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT;case bo.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:return bo.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT;default:return n||bo.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT}switch(n){case bo.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return bo.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT;case bo.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return bo.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT;case bo.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:return bo.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT;default:return n||bo.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT}},ho=function(e){var t=e.framePath,n=e.passedFilters,r=!1,a=!1;return oo()(n,(function(e){var n,c,o,i,s,u;(null===(n=e.details)||void 0===n?void 0:n.path)==="".concat(t)&&null!==(c=e.details)&&void 0!==c&&null!==(o=c.value)&&void 0!==o&&o.align&&(a=!0),"trigger"===(null===(i=e.details)||void 0===i?void 0:i.path)&&null!==(s=e.details)&&void 0!==s&&null!==(u=s.value)&&void 0!==u&&u.align&&(r=!0)})),r&&!a},jo=function(e){var t=e.styles,n=e.passedFilters;if(!ho({framePath:"frame",passedFilters:n}))return{styles:t,passedFilters:n};var r=vo({triggerAlign:Object(ca.f)("trigger.align",bo.f.RIGHT)({theme:{styles:t}}),frameAlign:Object(ca.f)("frame.align")({theme:{styles:t}})});return{styles:Object(fe.a)(Object(fe.a)({},t),{},{frame:Object(fe.a)(Object(fe.a)({},(null===t||void 0===t?void 0:t.frame)||Cn.a),{},{align:r})}),passedFilters:n}},go=function(e){var t,n=e.styles,r=e.passedFilters;if(!!(null===(t=n.proactivePrompt)||void 0===t||!t.align)||!ho({framePath:"proactivePrompt",passedFilters:r}))return{styles:n,passedFilters:r};var a=vo({triggerAlign:Object(ca.f)("trigger.align",bo.f.RIGHT)({theme:{styles:n}}),frameAlign:Object(ca.f)("proactivePrompt.align")({theme:{styles:n}})});return{styles:Object(fe.a)(Object(fe.a)({},n),{},{proactivePrompt:Object(fe.a)(Object(fe.a)({},n.proactivePrompt),{},{align:a})}),passedFilters:r}},mo=n(1684),xo=n.n(mo),yo=n(738),Io=n.n(yo),wo=n(1685),Co=n.n(wo),Eo=n(781),ko=n(1281),To="CLASSIC",_o="MODERN",So="HYPERSPACE",Ao=n(873),Ro=n(714),No=n(985),Lo=No.a.CROSS;function Do(e){return Object(Ba.f)(e)||Object(Ba.e)(e)?e:Eo.a.charcoal}var Mo=No.a.CHEVRON;function Po(e){return Object(Ba.f)(e)||Object(Ba.e)(e)?e:Eo.a.charcoal}var Uo,Bo,Fo=(Uo={},Object(B.a)(Uo,To,(function(e){var t,n=e.colors,r=e.typography,a=r.fontSizes,c=r.fontFamily,o=e.styles,i=Object(Ba.c)(n.primary),s=(Object(Ba.h)(.1,n.primary,n.white),Object(Ba.d)(n.primary)),u=Do(n.primary),d=function(e){var t=Do(e);return t?Object(Ba.k)(Object(Ba.e)(t)?.95:.85,t):""}(n.primary),p=l()(o,"chatConversation.body.backgroundColor",n.white),f=Object(Ba.d)(p),b=Object(ca.f)("trigger.closeIcon.type")({theme:e})||Lo,O=l()(o,"chatMessage.secondary.backgroundColor",n.azure),v=l()(o,"trigger.align",bo.f.RIGHT),h=Object(Ao.c)(l()(o,"header",{}),n.primary),j=h.smallHeaderBackgroundColor,g=h.smallHeaderButtonHoverColor,m=h.smallHeaderContrastingColor,x=h.largeHeaderBackgroundColor,y=h.largeHeaderButtonHoverColor,I=h.largeHeaderContrastingColor;return{frame:Object(fe.a)({borderRadius:"8px",height:"600px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},Object(Ao.b)(v,l()(o,"frame"))),call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:Ro.c.MEDIUM,variant:Ro.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:n.white,color:s,fontFamily:c,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:l()(o,"header.gradients","linear-gradient(64deg, ".concat(Object(Ba.b)(n.primary).join(","),")"))},page:{minPadding:"2.5%",backgroundColor:Object(Ba.h)(.5,Object(Ba.k)(.85,n.charcoal),Object(Ba.k)(.95,n.primary))},button:{standard:(t={default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"}},Object(B.a)(t,Ro.d.PRIMARY,{backgroundColor:n.primary,borderColor:n.primary,color:s,fill:s,":hover":{backgroundColor:n.primary,borderColor:n.primary,position:"relative","::after":{backgroundColor:Object(Ba.e)(n.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:n.primary,borderColor:n.primary,opacity:"0.5"},":selected":{backgroundColor:n.primary,borderColor:n.primary}}),Object(B.a)(t,Ro.d.SECONDARY,{backgroundColor:n.white,borderColor:n.white,color:n.charcoal,fill:n.charcoal,":hover":{backgroundColor:n.white,borderColor:n.charcoal},":disabled":{backgroundColor:n.white,borderColor:n.white,opacity:"0.5"},":selected":{backgroundColor:n.primary,borderColor:n.primary,color:s,fill:s}}),Object(B.a)(t,Ro.d.TERTIARY,{backgroundColor:n.white,borderColor:n.primary,color:n.charcoal,fill:n.charcoal,":hover":{backgroundColor:Object(Ba.e)(n.primary)?Object(Ba.j)(n.primary,.02):Object(Ba.j)(n.primary,.1)},":disabled":{backgroundColor:n.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:n.white,fill:n.white}}),Object(B.a)(t,Ro.c.LARGE,{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:a.md}),Object(B.a)(t,Ro.c.MEDIUM,{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:a.xs}),t)},card:{backgroundColor:n.white,borderRadius:"4px",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:a.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:n.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:a.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:n.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:24,paddingRight:20,paddingBottom:0,paddingLeft:20,fontWeight:600,fontSize:a.lg,color:n.charcoal},summaryCard:{paddingTop:16,paddingRight:20,paddingBottom:16,paddingLeft:20},arrow:{icon:{fill:n.primary}},hoverStyles:{backgroundColor:n.water}}},notification:{color:n.white,backgroundColor:n.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:a.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:n.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:n.primary,borderColor:n.primary,color:s},secondary:{backgroundColor:O,borderColor:n.azure,color:n.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:bo.e.VERTICAL},senderName:{align:bo.d.BOTTOM},attachment:{size:bo.a.FIXED,card:{title:{color:n.charcoal,fontWeight:700,textAlign:"center",fontSize:a.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:a.sm,textAlign:"left"},color:n.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:Ro.a.CENTER,button:{size:Ro.c.LARGE,variant:Ro.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:n.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:a.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:Ro.c.MEDIUM,variant:Ro.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:Ro.c.MEDIUM,variant:Ro.d.SECONDARY}}}}},chatConversation:{disclaimerCard:{color:n.charcoal,borderRadius:"4px",iconBox:{paddingTop:"8px",paddingRight:"8px",paddingLeft:"8px",paddingBottom:"8px",icon:{height:"16px",width:"16px",alignSelf:"flex-start"}},description:{paddingTop:"8px",paddingRight:"12px",paddingLeft:"0px",paddingBottom:"8px"}},body:{backgroundColor:n.white,backgroundUrl:"",paddingTop:12,paddingRight:16,paddingBottom:0,paddingLeft:16},dateBubble:{color:f,backgroundColor:p,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},quickReply:{color:n.charcoal,backgroundColor:n.white,borderColor:n.ash,hoverStyles:{color:s,backgroundColor:n.primary,borderColor:n.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:n.azure,option:{fontSize:a.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:n.charcoal,borderBottomWidth:1,borderBottomColor:n.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",borderTopColor:n.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:a.md,backgroundColor:n.white,placeholder:{color:n.anchor},disabledStyles:{backgroundColor:O},focusStyles:{boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.1)"},button:{default:{fontSize:a.md},primary:{color:n.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:n.primary}},secondary:{button:{},icon:{fill:n.anchor,hoverStyles:{fill:n.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:n.blue},icon:{height:16,width:16,fill:n.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{backgroundColor:n.charcoal,borderRadius:4,color:n.white,iconBox:{paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",paddingLeft:"12px",icon:{failure:{fill:"#FA6274"},success:{fill:"#6AC96E"}}},message:{paddingTop:"8px",paddingRight:"12px",paddingBottom:"8px",paddingLeft:"0px"}},errorScreen:{icon:{height:40,width:40,fill:n.red},label:{fontSize:a.md,fontWeight:600,minHeight:0},button:{marginTop:16}},header:{backgroundColor:j,buttonGroupGutterWidth:"0",color:m,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:a.md,color:m},description:{fontSize:a.xs,color:m},icon:{fill:m,height:"14",width:"14"},button:{width:"40",height:"40",hoverStyles:{backgroundColor:g}},lg:{backgroundColor:x,color:I,paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:a.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:a.lg},icon:{fill:I},button:{hoverStyles:{backgroundColor:y}}}},input:{default:{borderColor:n.ash,fontSize:a.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:n.white,color:n.charcoal,placeholderColor:n.anchor,hoverStyles:{borderColor:n.fossil,fill:n.primary},focusStyles:{borderColor:n.primary},errorStyles:{borderColor:n.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:n.fossil,hoverStyles:{fill:n.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:d},selectedStyles:{fontWeight:600,backgroundColor:d,borderLeftWidth:2,borderLeftColor:u}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:n.water,hoverStyles:{backgroundColor:n.azure},focusStyles:{backgroundColor:n.azure},selectedStyles:{backgroundColor:n.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:n.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:n.primary,borderColor:n.primary,backgroundColor:n.primary}},option:{fontSize:a.xs,color:n.charcoal}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottom:n.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:n.white,marginTop:10,borderRadius:12,disabledStyles:{color:n.ash},selectedStyles:{backgroundColor:n.primary,color:n.white},hoverStyles:{backgroundColor:O},neighboringMonth:{color:n.anchor}}}},inputLabel:{fontSize:a.xs,fontWeight:500,color:n.anchor,labelAndInputGutterWidth:4,errorColor:n.anchor,activeColor:n.anchor},trigger:{align:v,backgroundColor:n.primary,borderWidth:1,borderColor:n.primary,backgroundHoverColor:i,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:a.xs},removeIcon:{backgroundColor:n.charcoal,fill:n.white},icon:{type:"mic",color:s,height:26,width:26},closeIcon:{type:b,color:s,height:bo.g[b].height,width:bo.g[b].width}},link:{color:l()(o,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(Ba.j)(n.charcoal,.6)},icon:{fill:Eo.a.white,height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:a.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400,backgroundColor:Object(Ba.j)(n.primary,.05),hoverStyles:{color:n.white,backgroundColor:n.primary}}},statusBar:{failure:{backgroundColor:n.gray},success:{backgroundColor:n.green}}}})),Object(B.a)(Uo,_o,(function(e){var t,n=e.colors,r=e.typography,a=r.fontSizes,c=r.fontFamily,o=e.styles,i=Object(Ba.c)(n.primary),s=(Object(Ba.h)(.1,n.primary,n.white),Object(Ba.d)(n.primary)),u=Po(n.primary),d=function(e){var t=Po(e);return t?Object(Ba.k)(Object(Ba.e)(t)?.95:.85,t):""}(n.primary),p=l()(o,"chatConversation.body.backgroundColor",n.white),f=Object(Ba.d)(p),b=Object(ca.f)("trigger.closeIcon.type")({theme:e})||Mo,O=l()(o,"chatMessage.secondary.backgroundColor",n.azure),v=l()(o,"trigger.align",bo.f.RIGHT),h=Object(Ao.c)(l()(o,"header",{}),n.primary),j=h.smallHeaderBackgroundColor,g=h.smallHeaderButtonHoverColor,m=h.smallHeaderContrastingColor,x=h.largeHeaderBackgroundColor,y=h.largeHeaderButtonHoverColor,I=h.largeHeaderContrastingColor;return{frame:Object(fe.a)({borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},Object(Ao.b)(v,l()(o,"frame"))),call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:Ro.c.MEDIUM,variant:Ro.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:n.white,color:s,fontFamily:c,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:l()(o,"header.gradients","linear-gradient(64deg, ".concat(Object(Ba.b)(n.primary).join(","),")"))},page:{minPadding:"2.5%",backgroundColor:Object(Ba.h)(.5,Object(Ba.k)(.85,n.charcoal),Object(Ba.k)(.95,n.primary))},button:{standard:(t={default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"}},Object(B.a)(t,Ro.d.PRIMARY,{backgroundColor:n.primary,borderColor:n.primary,color:s,fill:s,":hover":{backgroundColor:n.primary,borderColor:n.primary,position:"relative","::after":{backgroundColor:Object(Ba.e)(n.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:n.primary,borderColor:n.primary,opacity:"0.5"},":selected":{backgroundColor:n.primary,borderColor:n.primary}}),Object(B.a)(t,Ro.d.SECONDARY,{backgroundColor:n.white,borderColor:n.white,color:n.charcoal,fill:n.charcoal,":hover":{backgroundColor:n.white,borderColor:n.charcoal},":disabled":{backgroundColor:n.white,borderColor:n.white,opacity:"0.5"},":selected":{backgroundColor:n.primary,borderColor:n.primary,color:s,fill:s}}),Object(B.a)(t,Ro.d.TERTIARY,{backgroundColor:n.white,borderColor:n.primary,color:n.charcoal,fill:n.charcoal,":hover":{backgroundColor:Object(Ba.e)(n.primary)?Object(Ba.j)(n.primary,.02):Object(Ba.j)(n.primary,.1)},":disabled":{backgroundColor:n.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:n.white,fill:n.white}}),Object(B.a)(t,Ro.c.LARGE,{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:a.md}),Object(B.a)(t,Ro.c.MEDIUM,{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:a.xs}),t)},card:{backgroundColor:n.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:a.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:n.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:a.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:n.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:20,paddingBottom:2,paddingLeft:20,fontSize:a.lg,fontWeight:600,color:n.charcoal},summaryCard:{paddingTop:12,paddingRight:20,paddingBottom:12,paddingLeft:20},arrow:{icon:{fill:n.primary}},hoverStyles:{backgroundColor:n.water}}},notification:{color:n.white,backgroundColor:n.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:a.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:n.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:n.primary,borderColor:n.primary,color:s},secondary:{backgroundColor:O,borderColor:n.azure,color:n.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:bo.e.VERTICAL},senderName:{align:bo.d.BOTTOM},attachment:{size:bo.a.FIXED,card:{title:{color:n.charcoal,fontWeight:700,textAlign:"center",fontSize:a.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:a.sm,textAlign:"left"},color:n.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:Ro.a.CENTER,button:{size:Ro.c.LARGE,variant:Ro.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:n.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:a.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:Ro.c.MEDIUM,variant:Ro.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:Ro.c.MEDIUM,variant:Ro.d.SECONDARY}}}}},chatConversation:{disclaimerCard:{color:n.charcoal,borderRadius:"4px",iconBox:{paddingTop:"8px",paddingRight:"8px",paddingLeft:"8px",paddingBottom:"8px",icon:{height:"16px",width:"16px",alignSelf:"flex-start"}},description:{paddingTop:"8px",paddingRight:"12px",paddingLeft:"0px",paddingBottom:"8px"}},body:{backgroundColor:n.white,backgroundUrl:"",paddingTop:12,paddingRight:16,paddingBottom:0,paddingLeft:16},dateBubble:{color:f,backgroundColor:p,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},quickReply:{color:n.charcoal,backgroundColor:n.white,borderColor:n.ash,hoverStyles:{color:s,backgroundColor:n.primary,borderColor:n.primary}},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:n.azure,option:{fontSize:a.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:n.charcoal,borderBottomWidth:1,borderBottomColor:n.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 16px 16px",borderTopColor:n.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:a.md,backgroundColor:n.white,placeholder:{color:n.anchor},focusStyles:{boxShadow:"0px 0px 10px 0px rgba(0, 0, 0, 0.1)"},disabledStyles:{backgroundColor:O},button:{default:{fontSize:a.md},primary:{color:n.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:n.primary}},secondary:{button:{},icon:{fill:n.anchor,hoverStyles:{fill:n.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:n.blue},icon:{height:16,width:16,fill:n.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{backgroundColor:n.charcoal,borderRadius:4,color:n.white,iconBox:{paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",paddingLeft:"12px",icon:{failure:{fill:"#FA6274"},success:{fill:"#6AC96E"}}},message:{paddingTop:"8px",paddingRight:"12px",paddingBottom:"8px",paddingLeft:"0px"}},errorScreen:{icon:{height:40,width:40,fill:n.red},label:{fontSize:a.md,fontWeight:600,minHeight:0},button:{marginTop:16}},header:{backgroundColor:j,buttonGroupGutterWidth:"0",color:m,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:a.md,color:m},description:{fontSize:a.xs,color:m},icon:{fill:m,height:"14",width:"14"},button:{width:"40",height:"40",hoverStyles:{backgroundColor:g}},lg:{backgroundColor:x,color:I,paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:a.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:a.lg},icon:{fill:I},button:{hoverStyles:{backgroundColor:y}}}},input:{default:{fontSize:a.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:n.charcoal,backgroundColor:n.white,borderRadius:8,borderColor:n.ash,placeholderColor:n.anchor,hoverStyles:{borderColor:n.fossil,fill:n.primary},focusStyles:{borderColor:n.primary},errorStyles:{borderColor:n.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:n.fossil,hoverStyles:{fill:n.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:d},selectedStyles:{fontWeight:600,backgroundColor:d,borderLeftWidth:2,borderLeftColor:u}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:n.water,hoverStyles:{backgroundColor:n.azure},focusStyles:{backgroundColor:n.azure},selectedStyles:{backgroundColor:n.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:n.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:n.primary,borderColor:n.primary,backgroundColor:n.primary}},option:{fontSize:a.xs,color:n.charcoal}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottom:n.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:n.white,marginTop:10,borderRadius:12,disabledStyles:{color:n.ash},selectedStyles:{backgroundColor:n.primary,color:n.white},hoverStyles:{backgroundColor:O},neighboringMonth:{color:n.anchor}}}},inputLabel:{fontSize:a.xs,fontWeight:500,color:n.anchor,labelAndInputGutterWidth:4,errorColor:n.anchor,activeColor:n.anchor},trigger:{align:v,backgroundColor:n.primary,borderWidth:1,borderColor:n.primary,backgroundHoverColor:i,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:a.xs},removeIcon:{backgroundColor:n.charcoal,fill:n.white},icon:{type:"mic",color:s,height:26,width:26},closeIcon:{type:b,color:s,height:bo.g[b].height,width:bo.g[b].width}},link:{color:l()(o,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(Ba.j)(n.charcoal,.6)},icon:{height:8,width:8,fill:Eo.a.white}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:a.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400,backgroundColor:Object(Ba.j)(n.primary,.05),hoverStyles:{color:n.white,backgroundColor:n.primary}}},statusBar:{failure:{backgroundColor:n.gray},success:{backgroundColor:n.green}}}})),Object(B.a)(Uo,So,(function(e){var t=e.colors,n=e.typography,r=(n.fontSizes,n.fontFamily),a=e.styles;return{tombstone:{background:"linear-gradient(to right, #f8f8fa 0%, #dbdbdb 50%, #f8f8fa 100%)"},frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},body:{backgroundColor:t.white,color:"#ffffff",fontFamily:r,fontSize:"1.2rem",lineHeight:1.4,gradients:l()(a,"header.gradients","linear-gradient(64deg, ".concat(Object(Ba.b)(t.primary).join(","),")"))},link:{color:l()(a,["link","color"],"#0E61F6")},trigger:{align:"right",backgroundColor:"#0a0a14",borderWidth:1,borderColor:"#0a0a14",backgroundHoverColor:"#0240cb",size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:"12px"},icon:{type:"collaborators",color:"#ffffff",height:26,width:26},closeIcon:{type:"cross",color:"#ffffff",height:14,width:14},xPadding:20,yPadding:30,border:"1px solid #1c62fd"},search:{backgroundColor:"#f8f8fd",hover:{borderColor:"#0e61f6"}},timestamp:{color:"#73737d"},createConversationButton:{borderColor:"#CAD3D6",hover:{borderColor:"#0e61f6"}},backIcon:{color:"#a9a9b2",hover:{color:"#0e61f6"}},receivedMessage:{backgroundColor:"#f5f5f5",color:"#0a0a14"},sentMessage:{backgroundColor:"#0a0a14",color:"#ffffff"},messageArea:{hover:{borderColor:"#0e61f6"}},sendIcon:{hover:{color:"#0e61f6"}}}})),Uo),Go=function(e,t){return Fo[t](e)},Wo={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},zo=(Bo={},Object(B.a)(Bo,To,(function(e){var t,n=e.typography.fontSizes;return{page:{filters:[{value:{minPadding:"0"},filter:Wo}]},button:{standard:(t={},Object(B.a)(t,Ro.c.LARGE,{filters:[{value:{fontSize:n.lg},filter:Wo}]}),Object(B.a)(t,Ro.c.MEDIUM,{filters:[{value:{fontSize:n.sm},filter:Wo}]}),t)},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:n.lg},filter:Wo}]},description:{filters:[{value:{fontSize:n.lg},filter:Wo}]}},form:{title:{filters:[{value:{fontSize:n.lg},filter:Wo}]}}}},input:{default:{filters:[{value:{fontSize:n.lg,minHeight:36},filter:Wo}]},checkboxGroup:{option:{filters:[{value:{fontSize:n.lg},filter:Wo}]}}},inputLabel:{filters:[{value:{fontSize:n.lg},filter:Wo}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:n.lg},filter:Wo}]}},faq:{option:{filters:[{value:{fontSize:n.lg},filter:Wo}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:n.md},filter:Wo}]}},errorScreen:{label:{filters:[{value:{fontSize:n.lg},filter:Wo}]}},header:{title:{filters:[{value:{fontSize:n.lg},filter:Wo}]},description:{filters:[{value:{fontSize:n.md},filter:Wo}]},lg:{logo:{filters:[{value:{height:40},filter:Wo}]},title:{filters:[{value:{fontSize:n.xxxxxl},filter:Wo}]},description:{filters:[{value:{fontSize:n.xl},filter:Wo}]}}},card:{lg:{title:{filters:[{value:{fontSize:n.xl},filter:Wo}]}},sm:{title:{filters:[{value:{fontSize:n.xl},filter:Wo}]}}}}})),Object(B.a)(Bo,_o,(function(e){var t,n=e.typography.fontSizes;return{page:{filters:[{value:{minPadding:"0"},filter:Wo}]},button:{standard:(t={},Object(B.a)(t,Ro.c.LARGE,{filters:[{value:{fontSize:n.lg},filter:Wo}]}),Object(B.a)(t,Ro.c.MEDIUM,{filters:[{value:{fontSize:n.sm,minHeight:36},filter:Wo}]}),t)},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:n.lg},filter:Wo}]},description:{filters:[{value:{fontSize:n.lg},filter:Wo}]}},form:{title:{filters:[{value:{fontSize:n.lg},filter:Wo}]}}}},input:{default:{filters:[{value:{fontSize:n.lg},filter:Wo}]},checkboxGroup:{option:{filters:[{value:{fontSize:n.lg},filter:Wo}]}}},inputLabel:{filters:[{value:{fontSize:n.lg},filter:Wo}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:n.lg},filter:Wo}]}},faq:{option:{filters:[{value:{fontSize:n.lg},filter:Wo}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:n.md},filter:Wo}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:n.lg},filter:Wo}]}},header:{title:{filters:[{value:{fontSize:n.lg},filter:Wo}]},description:{filters:[{value:{fontSize:n.md},filter:Wo}]},lg:{logo:{filters:[{value:{height:40},filter:Wo}]},description:{filters:[{value:{fontSize:n.xl},filter:Wo}]}}}}})),Object(B.a)(Bo,So,(function(){return{}})),Bo);function Vo(e,t){if(!he()(e)||f()(e))return t;var n=xo()(e);return oo()(t,(function(t,r){n[r]=Oe()(t)?Io()(Co()(e[r],t)):Vo(e[r],t)})),n}var Ho=function(e){var t=e.appColors,n=void 0===t?{}:t,r=e.appTypography,a=void 0===r?{}:r,c=e.appIcons,o=void 0===c?{}:c;return{colors:ro()({},Eo.a,n),typography:Object(ko.a)(a),icons:o}},Yo=function(e){var t=e.appBase,n=e.appStyleFilters,r=function(e,t){return zo[t](e)}(t,e.skin);return Vo(r,n)},qo=function(e){var t=e.appBase,n=e.styles,r=void 0===n?{}:n,a=e.skin;return Object(fe.a)(Object(fe.a)({},t),{},{styles:Object(Ao.a)(ro()({},Go(Object(fe.a)(Object(fe.a)({},t),{},{styles:r}),a),r))})},Ko=function(e){var t=e.children,n=Object(br.a)(),r=Object(ao.a)(),a=Object(Yn.useMemo)((function(){return ro()(n.otherConfigs.theme,Object(b.a)().theme)}),[Object(b.a)().theme]),c=Object(Yn.useMemo)((function(){var e=Ho({appColors:a.colors,appTypography:a.typography,appIcons:a.icons});return{appBase:e,appFilters:Oo(Yo({appBase:e,appStyleFilters:n.otherConfigs.theme.styleFilters,skin:r}),"")}}),[a,r]),o=c.appBase,i=c.appFilters,s=Object(vr.a)(i),u=Object(Yn.useMemo)((function(){var e=i.filter((function(e,t){return s[t].hasPassed})),t=function(e){var t=e.styles,n=e.passedFilters,r=so()(t);return oo()(n,(function(e){e.details&&lo()(r,e.details.path,Object(fe.a)(Object(fe.a)({},l()(r,e.details.path)),e.details.value))})),r}({styles:a.styles,passedFilters:e});return t=function(e){var t=e.styles,n=e.passedFilters;return fo()([jo,go])({styles:t,passedFilters:n}).styles}({styles:t,passedFilters:e}),qo({appBase:o,styles:t,skin:r})}),[a,i,s,r]);return Object(sr.jsx)(Tr.a,{theme:u},t)},Xo=n(802),Zo=n.n(Xo),Jo=n(768),Qo=n(987),$o=n(623),ei=n(778),ti=qn.a.createContext(null),ni=function(e,t){if(!e)return null;var n=e.getBoundingClientRect(),r=n.width,a=n.height,c=n.left,o=n.top;return{width:r,height:a,left:c,right:t.innerWidth-c-r,bottom:t.innerHeight-o-a}},ri=function(e){var t,n=e.children,r=window.parent,a=!(null===(t=Object($o.a)().trigger)||void 0===t||!t.useCustomTrigger),c=Object(b.a)().triggerContainer,o=Object(Yn.useRef)(!0),i=Object(ei.a)(),s=Object(Yn.useMemo)((function(){return a&&c?r.document.querySelector(c):null}),[c]),u=Object(Yn.useState)((function(){return ni(s,r)})),d=Object(qt.a)(u,2),l=d[0],p=d[1],f=Object(Yn.useCallback)(Zo()((function(){p((function(){return ni(s,r)}))}),200),[]),O=Object(Jo.a)(r,f),v=Object(Qo.a)(r,f);return o.current&&(o.current=!1,s&&(O(s),v(s))),Object(Yn.useLayoutEffect)((function(){s&&f()}),[i]),a&&!s?(Object(g.a)('Error in Sprinklr Live Chat. "triggerContainer" missing in window.sprChatSettings.'),null):Object(sr.jsx)(ti.Provider,{value:l},n)},ai=n(1035),ci=n(814),oi=n.n(ci),ii=n(679),si=n(1282);var ui=Object(Xr.a)("div",{target:"emlrnqp0"})("transition:width ",si.a,"ms ease,max-height ",si.a,"ms ease;position:fixed;box-sizing:border-box;z-index:",(function(e){return Object(ca.f)("frame.zIndex")(e)}),";padding:",(function(e){return Object(ca.h)("frame.margin")(e)}),";transform:",(function(e){return"translateZ(".concat(Object(ca.f)("frame.translateZ")(e),"px)")}),";",(function(e){return function(e){var t=Object(ii.b)(Object(ca.f)("frame.marginTop")({theme:e})),n=Object(ii.b)(Object(ca.f)("frame.marginBottom")({theme:e})),r=Object(ii.b)(Object(ca.f)("frame.marginLeft")({theme:e})),a=Object(ii.b)(Object(ca.f)("frame.marginRight")({theme:e}));return oi()([t,n,r,a],(function(e){return e>0}))}(e.theme)&&"background-color: ".concat(Object(Ba.i)(Object(ca.f)("frame.overlay.opacity")(e),Object(ca.f)("frame.overlay.backgroundColour")(e)),";")}),";"),di=Object(Xr.a)(ui,{target:"emlrnqp1"})((function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,r=e.isMaximized,a=e.isPhone;return Object(si.c)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:a})}),""),li=Object(Xr.a)(ui,{target:"emlrnqp2"})((function(e){var t=e.isTriggerHiddenWhenMaximised,n=e.theme,r=e.isMaximized,a=e.isPhone,c=e.customTriggerPosition;return Object(si.b)({isTriggerHiddenWhenMaximised:t,theme:n,isMaximized:r,isPhone:a,customTriggerPosition:c})}),""),pi=Object(Xr.a)("div",{target:"emlrnqp3"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);border-radius:",(function(e){return Object(ca.a)("frame.borderRadius")(e)}),";",(function(e){var t=Object(ii.b)(Object(ca.f)("frame.marginTop")(e))>0?Object(ca.f)("frame.borderRadius")(e):0,n=Object(ii.b)(Object(ca.f)("frame.marginBottom")(e))>0?Object(ca.f)("frame.borderRadius")(e):0;return e.isPhone&&"\n    border-top-left-radius: ".concat(t,";\n    border-top-right-radius: ").concat(t,";\n    border-bottom-left-radius: ").concat(n,";\n    border-bottom-right-radius: ").concat(n,";\n    box-shadow: none;")}),";"),fi="spr-chat-box-anim",bi=Object(Xr.a)(Fa.a,{target:"emlrnqp4"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),Oi={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"},vi=n(1283),hi=function(){return Object(Yn.useContext)(ti)},ji=n(711),gi=Object(_c.a)((function(){return Promise.all([n.e(0),n.e(105)]).then(n.bind(null,2123))})),mi=function(e){return Object(hr.g)(Object(jr.b)(e))},xi=Object(kr.h)((function(e){var t,n=Object(br.a)(),r=Object(ur.d)(mi),a=e.intl.formatMessage,c=Object($o.a)(),o=!(null===c||void 0===c||null===(t=c.trigger)||void 0===t||!t.hideWhenOpen),i=Object(Bc.a)(),s=Object(Xa.a)(),u=Object(Yn.useRef)(),d=Object(Fc.a)(),l=Object(rc.a)(ir.e),p=Object(Yn.useState)(!1),f=Object(qt.a)(p,2),b=f[0],v=f[1],h=Object(Tr.b)();Zc();var j=Object(Yn.useCallback)((function(e){v(e)}),[]),g=hi(),m=g?li:di;fr()((function(){var e=r?ji.a.CONVERSATION_WINDOW_CLOSED:ji.a.CONVERSATION_WINDOW_OPENED;i({action:e})}),[r]);var x,y=Object(Yn.useCallback)((function(){d(u),l()}),[d]),I=Object(Yn.useMemo)((function(){return{setIsFrameMaximized:j,isFrameMaximized:b}}),[j,b]),w=(x={theme:h},Object(sr.css)("\n  .spr-chat__box.".concat(fi,"-enter {\n    opacity: 0;\n    transform: translateZ(").concat(Object(ca.f)("frame.translateZ")(x),"px) translateY(20px) ;\n  }\n\n  .spr-chat__box.").concat(fi,"-enter.").concat(fi,"-enter-active {\n    opacity: 1;\n    transform: translateZ(").concat(Object(ca.f)("frame.translateZ")(x),"px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.").concat(fi,"-enter-done {\n    transform: translateZ(").concat(Object(ca.f)("frame.translateZ")(x),"px) ;\n  }\n\n  .spr-chat__box.").concat(fi,"-exit {\n    opacity: 1;\n    transform: translateZ(").concat(Object(ca.f)("frame.translateZ")(x),"px) translateY(0);\n  }\n\n  .spr-chat__box.").concat(fi,"-exit.").concat(fi,"-exit-active {\n    opacity: 0;\n    transform: translateZ(").concat(Object(ca.f)("frame.translateZ")(x),"px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n"),""));return Object(sr.jsx)(qn.a.Fragment,null,Object(sr.jsx)(sr.Global,{styles:w}),Object(sr.jsx)(_r.CSSTransition,{in:!r,classNames:fi,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(sr.jsx)(vi.a.Provider,{value:I},Object(sr.jsx)(m,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:s,customTriggerPosition:g,isTriggerHiddenWhenMaximised:o,isMaximized:b},Object(sr.jsx)(pi,{isPhone:s},Object(sr.jsx)(bi,{"aria-label":a(Jc.a.liveChat),name:"spr-chat__box-frame",isPhone:s,contentDidMount:y,title:a(Jc.a.liveChat)},Object(sr.jsx)(sr.Global,{styles:Oi}),Object(sr.jsx)("div",{className:"full-height full-width",ref:u},n&&n.autoExpireUserSessionTimeInMinutes?Object(sr.jsx)(Yn.Suspense,{fallback:null},Object(sr.jsx)(gi,null)):null,Object(O.B)()?Object(sr.jsx)(Da,null):Object(sr.jsx)(Ra,null))))))))})),yi=qn.a.forwardRef((function(e,t){return Object(sr.jsx)(xi,{frameRef:t})})),Ii=n(664),wi=n.n(Ii),Ci=n(783),Ei=n(834),ki=n(635),Ti=Object(_c.a)((function(){return n.e(48).then(n.bind(null,2111))})),_i=function(e){return Object(hr.f)(Object(jr.b)(e))},Si=function(e){return Object(ki.b)(Object(ki.p)(Object(dc.c)(e)))},Ai=function(e){var t,n,r=Object(ur.d)(jr.d),a=Object(ur.d)(_i),c=Object(Ci.a)(),o=c.isLocked,i=c.lockReason,s=Object(ur.d)(Si),u=hi(),d=Object(br.a)(),l=!(null===d||void 0===d||null===(t=d.otherConfigs)||void 0===t||null===(n=t.proactivePrompt)||void 0===n||!n.showWithBoxOpen),p=Object(Yn.useRef)();p.current=Object(Yn.useMemo)((function(){if(p.current){var e=p.current.id,t=wi()(r,(function(t){return t.id===e}));if(!f()(t)){var n=Object(Ei.g)({prompt:t,isLocked:o});if(n)return n}}return wi()(r,(function(e){var t=Object(Ei.g)({prompt:e,isLocked:o});if(t)return t}))}),[r,o]);var b=a&&!u&&!l;return f()(p.current)||b||!s?(o&&Object(g.a)("Cannot initiate prompt: ",i),null):Object(sr.jsx)(Yn.Suspense,{fallback:null},Object(sr.jsx)(Ti,Object(Er.a)({},e,{visiblePrompt:p.current,customTriggerPosition:u,showWithBoxOpen:l})))},Ri=n(869),Ni=n(1040);var Li=Object(Xr.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(function(e){return Object(ca.a)("trigger.overlayIconButton.borderRadius","".concat(Object(ca.f)("trigger.overlayIconButton.button.height")(e)/2,"px"))(e)}),";bottom:",(function(e){return Object(ai.b)(e)}),"px;height:",Object(ca.f)("trigger.overlayIconButton.button.height"),"px;",(function(e){return Object(ai.d)({leftOffset:Object(ai.f)(e),rightOffset:Object(ai.f)(e)})(e)}),";width:",Object(ca.f)("trigger.overlayIconButton.button.width"),"px;position:fixed;transform:translatez(",(function(e){return Object(ca.f)("frame.translateZ")(e)}),"px);"),Di=Object(Xr.a)(Fa.a,{target:"egvnsbi1"})({name:"1aywylc",styles:"border:0 none;box-shadow:0 2px 32px 0 rgba(0,0,0,0.15),0 1px 6px 0 rgba(0,0,0,0.09);height:100%;width:100%;"}),Mi=Object(Xr.a)(Ni.a,{target:"egvnsbi2"})("font-size:",Object(ca.f)("trigger.overlayIconButton.fontSize"),";height:",Object(ca.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(ca.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(ca.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(function(e){return Object(ca.a)("trigger.overlayIconButton.borderRadius","".concat(Object(ca.f)("trigger.overlayIconButton.button.height")(e)/2,"px"))(e)}),";"),Pi="spr-chat-proactive-box-anim",Ui=Object(sr.css)(".",Pi,"-enter{opacity:0;}.",Pi,"-enter.",Pi,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",Pi,"-enter-done,.",Pi,"-appear{}.",Pi,"-exit{opacity:1;}.",Pi,"-exit.",Pi,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),Bi=Object(Xr.a)("div",{target:"egvnsbi3"})("position:relative;z-index:",(function(e){return Object(ca.f)("frame.zIndex")(e)}),";"),Fi=n(819),Gi=Object(Ri.a)((function(e){return Object(hr.g)(Object(jr.b)(e))}),(function(e){return Object(hr.f)(Object(jr.b)(e))}),(function(e){return Object(ki.v)(Object(ki.p)(Object(jr.c)(e)))}),(function(e,t,n){return{isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n}})),Wi=Object(kr.h)((function(e){var t=Object(ur.d)(Gi),n=t.isMinimized,r=t.totalUnreadCount,a=t.isChatTriggerHidden,c=Object(Tr.b)(),o=e.intl.formatMessage;return a?null:Object(sr.jsx)(qn.a.Fragment,null,Object(sr.jsx)(sr.Global,{styles:Ui}),Object(sr.jsx)(_r.CSSTransition,{in:n,timeout:{enter:300,exit:0},classNames:Pi,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(sr.jsx)(Bi,{className:"notification-container"},Object(sr.jsx)(Fi.a,{unreadCount:r,shouldPlay:!0}),r>0&&Object(sr.jsx)(Li,{className:"spr-chat__notification-box spr-live-chat-frame",theme:c},Object(sr.jsx)(Di,{name:"spr-chat__notification-frame","aria-label":o(Jc.a.liveChatNotification),title:o(Jc.a.liveChatNotification)},Object(sr.jsx)(Mi,{className:"center-x-y",count:r}))))))})),zi=function(){var e=Object(Yn.useRef)(null);return Object(sr.jsx)(ri,null,Object(sr.jsx)(Ai,{chatBoxFrameRef:e}),Object(sr.jsx)(ai.a,null),Object(sr.jsx)(Wi,null),Object(sr.jsx)(yi,{ref:e}),Object(sr.jsx)(Ic,{parentFrameRef:e}),Object(sr.jsx)(Nc,null),Object(sr.jsx)(tc,null))},Vi=n(900),Hi=n(816),Yi=n(1262),qi=function(e){return Object(sr.jsx)(Yi.a.Provider,{value:Object(Yn.useState)(void 0)},e.children)},Ki=n(1261),Xi=n(1039),Zi=n(1280),Ji=n(1042),Qi=qn.a.createContext("MODERN"),$i=function(e){return Object(sr.jsx)(Qi.Provider,{value:e.skin},e.children)},es=n(1080),ts=n(1265),ns=function(e){var t=e.theme,n=e.children,r=Object(Yn.useContext)(Qi),a=Object(Yn.useMemo)((function(){if(t){var e=Ho({appColors:t.colors,appTypography:t.typography,appIcons:t.icons});return qo({appBase:e,styles:t.styles,skin:r})}}),[t,r]);return a?Object(sr.jsx)(Tr.a,{theme:a},n):Object(sr.jsx)(qn.a.Fragment,null,n)},rs={direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},as=function(e){var t=e.theme,n=e.direction,r=e.device,a=e.skin,c=e.ownerDocument,o=e.intl,i=e.children,s=Object(Yn.useMemo)((function(){return e=c,Object(Ji.a)({container:e.head});var e}),[c]);return Object(sr.jsx)(sr.CacheProvider,{value:s},Object(sr.jsx)(kr.e,o,Object(sr.jsx)($i,{skin:a},Object(sr.jsx)(ns,{theme:t},Object(sr.jsx)(ts.b,{direction:n},Object(sr.jsx)(es.b,{device:r},i))))))};as.defaultProps=rs;var cs=as,os=n(829),is=qn.a.memo(Object(kr.h)((function(e){var t=Object(os.a)(),n=Object(Za.a)(),r=Object(ao.a)(),a=Object(Yn.useMemo)((function(){return{locale:e.intl.locale,messages:e.intl.messages,defaultLocale:e.intl.defaultLocale}}),[e.intl]);return Object(sr.jsx)(cs,{ownerDocument:window.parent.document,direction:n.direction,device:t.device,skin:r,intl:a},e.children)}))),ss=n(1275),us=n(186),ds=n.n(us),ls=function(e){var t=e.id,n=e.filters,r=Object(vr.a)(n);return Object(Yn.useEffect)((function(){Object(je.a)({topic:we,payload:{data:{id:t,filters:n,results:Oe()(r)?ds()(r,(function(e){return e.hasPassed})):r.hasPassed}}})}),[r,n]),null},ps=function(e){return Object(hr.b)(Object(jr.b)(e))},fs=qn.a.memo((function(e){var t=Object(ur.d)(ps);return Object(sr.jsx)(qn.a.Fragment,null,ds()(t,(function(e,t){return Object(sr.jsx)(ls,{key:t,id:t,filters:e})})),e.children)})),bs=n(1537),Os=n(650),vs=n(872);var hs=function(e){var t=e.applicationConfig,n=e.store,r=e.history,a=Object(b.b)(),c=Object(O.K)()?eo:zi,o=Object(Yn.useCallback)((function(e){return Object(Os.f)(Object(jr.g)(n.getState()),e)}),[]),i=Object(Yn.useMemo)((function(){return Object(vs.a)(a.document)}),[a.document]);return Object(Yn.useEffect)((function(){n.dispatch(Object(ir.d)())}),[n]),Object(sr.jsx)(sr.CacheProvider,{value:i},Object(sr.jsx)(Xi.a,{window:a},Object(sr.jsx)(ur.a,{store:n},Object(sr.jsx)(Cr.b.Provider,{value:t},Object(sr.jsx)(wa.b,null,Object(sr.jsx)(qi,null,Object(sr.jsx)(lr.b,null,Object(sr.jsx)(Vi.a,null,Object(sr.jsx)(ss.b,null,Object(sr.jsx)(wr,{history:r},Object(sr.jsx)(Hi.b,null,Object(sr.jsx)(Ki.a,null,Object(sr.jsx)(fs,null,Object(sr.jsx)(bs.b,null,Object(sr.jsx)(xr,null,Object(sr.jsx)(is,null,Object(sr.jsx)(Ko,null,Object(sr.jsx)(to.b.Provider,{value:o},Object(sr.jsx)(dr.b,null,Object(sr.jsx)(Zi.a.Provider,{value:r},Object(sr.jsx)(or,{history:r},Object(sr.jsx)(c,null))))))))))))))))))))))},js=n(732),gs=function(e){return"@@redux-saga/"+e},ms=gs("CANCEL_PROMISE"),xs=gs("CHANNEL_END"),ys=gs("IO"),Is=gs("MATCH"),ws=gs("MULTICAST"),Cs=gs("SAGA_ACTION"),Es=gs("SELF_CANCELLATION"),ks=gs("TASK"),Ts=gs("TASK_CANCEL"),_s=gs("TERMINATE"),Ss=gs("LOCATION"),As=n(777),Rs=n(866),Ns=function(e){return null===e||void 0===e},Ls=function(e){return null!==e&&void 0!==e},Ds=function(e){return"function"===typeof e},Ms=function(e){return"string"===typeof e},Ps=Array.isArray,Us=function(e){return e&&Ds(e.then)},Bs=function(e){return e&&Ds(e.next)&&Ds(e.throw)},Fs=function e(t){return t&&(Ms(t)||zs(t)||Ds(t)||Ps(t)&&t.every(e))},Gs=function(e){return e&&Ds(e.take)&&Ds(e.close)},Ws=function(e){return Ds(e)&&e.hasOwnProperty("toString")},zs=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var Vs=function(e,t){var n;void 0===t&&(t=!0);var r=new Promise((function(r){n=setTimeout(r,e,t)}));return r[ms]=function(){clearTimeout(n)},r},Hs=function(e){return function(){return e}}(!0),Ys=function(){};var qs=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var Ks=function(e,t){Object(As.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function Xs(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function Zs(e){var t=!1;return function(){t||(t=!0,e())}}var Js=function(e){throw e},Qs=function(e){return{value:e,done:!0}};function $s(e,t,n){void 0===t&&(t=Js),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:Qs,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function eu(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var tu=function(e){return Array.apply(null,new Array(e))},nu=function(e){return function(t){return e(Object.defineProperty(t,Cs,{value:!0}))}},ru=function(e){return e===_s},au=function(e){return e===Ts},cu=function(e){return ru(e)||au(e)};function ou(e,t){var n=Object.keys(e),r=n.length;var a,c=0,o=Ps(e)?tu(r):{},i={};return n.forEach((function(e){var n=function(n,i){a||(i||cu(n)?(t.cancel(),t(n,i)):(o[e]=n,++c===r&&(a=!0,t(o))))};n.cancel=Ys,i[e]=n})),t.cancel=function(){a||(a=!0,n.forEach((function(e){return i[e].cancel()})))},i}function iu(e){return{name:e.name||"anonymous",location:su(e)}}function su(e){return e[Ss]}var uu={isEmpty:Hs,put:Ys,take:Ys};function du(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,a=0,c=0,o=function(t){n[a]=t,a=(a+1)%e,r++},i=function(){if(0!=r){var t=n[c];return n[c]=null,r--,c=(c+1)%e,t}},s=function(){for(var e=[];r;)e.push(i());return e};return{isEmpty:function(){return 0==r},put:function(i){var u;if(r<e)o(i);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[a]=i,c=a=(a+1)%e;break;case 4:u=2*e,n=s(),r=n.length,a=n.length,c=0,n.length=u,e=u,o(i)}},take:i,flush:s}}var lu=function(){return uu},pu=function(e){return du(e,3)},fu=function(e){return du(e,4)},bu=Object.freeze({__proto__:null,none:lu,fixed:function(e){return du(e,1)},dropping:function(e){return du(e,2)},sliding:pu,expanding:fu}),Ou="TAKE",vu="PUT",hu="ALL",ju="RACE",gu="CALL",mu="FORK",xu="CANCEL",yu="SELECT",Iu="ACTION_CHANNEL",wu="CANCELLED",Cu=function(e,t){var n;return(n={})[ys]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Eu=function(e){return Cu(mu,Object(As.a)({},e.payload,{detached:!0}))};function ku(e,t){return void 0===e&&(e="*"),Fs(e)?Cu(Ou,{pattern:e}):Gs(n=e)&&n[ws]&&Ls(t)&&Fs(t)?Cu(Ou,{channel:e,pattern:t}):Gs(e)?Cu(Ou,{channel:e}):void 0;var n}function Tu(e,t){return Ns(t)&&(t=e,e=void 0),Cu(vu,{channel:e,action:t})}function _u(e){var t=Cu(hu,e);return t.combinator=!0,t}function Su(e){var t=Cu(ju,e);return t.combinator=!0,t}function Au(e,t){var n,r=null;return Ds(e)?n=e:(Ps(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Ms(n)&&Ds(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function Ru(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cu(gu,Au(e,n))}function Nu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cu(mu,Au(e,n))}function Lu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Eu(Nu.apply(void 0,[e].concat(n)))}function Du(e){return void 0===e&&(e=Es),Cu(xu,e)}function Mu(e){void 0===e&&(e=qs);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cu(yu,{selector:e,args:n})}function Pu(e,t){return Cu(Iu,{pattern:e,buffer:t})}var Uu=Ru.bind(null,Vs);function Bu(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var Fu=Bu,Gu=[],Wu=0;function zu(e){try{Yu(),e()}finally{qu()}}function Vu(e){Gu.push(e),Wu||(Yu(),Ku())}function Hu(e){try{return Yu(),e()}finally{Ku()}}function Yu(){Wu++}function qu(){Wu--}function Ku(){var e;for(qu();!Wu&&void 0!==(e=Gu.shift());)zu(e)}var Xu=function(e){return function(t){return e.some((function(e){return ed(e)(t)}))}},Zu=function(e){return function(t){return e(t)}},Ju=function(e){return function(t){return t.type===String(e)}},Qu=function(e){return function(t){return t.type===e}},$u=function(){return Hs};function ed(e){var t="*"===e?$u:Ms(e)?Ju:Ps(e)?Xu:Ws(e)?Ju:Ds(e)?Zu:zs(e)?Qu:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var td={type:xs},nd=function(e){return e&&e.type===xs};function rd(e){void 0===e&&(e=fu());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(td):e.isEmpty()?(n.push(r),r.cancel=function(){Xs(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(td):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,a=e.length;r<a;r++){(0,e[r])(td)}}}}}function ad(e,t){void 0===t&&(t=lu());var n,r=!1,a=rd(t),c=function(){r||(r=!0,Ds(n)&&n(),a.close())};return n=Zs(n=e((function(e){nd(e)?c():a.put(e)}))),r&&n(),{take:a.take,flush:a.flush,close:c}}function cd(){var e=function(){var e,t=!1,n=[],r=n,a=function(){r===n&&(r=n.slice())},c=function(){t=!0;var e=n=r;r=[],e.forEach((function(e){e(td)}))};return(e={})[ws]=!0,e.put=function(e){if(!t)if(nd(e))c();else for(var a=n=r,o=0,i=a.length;o<i;o++){var s=a[o];s[Is](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=$u),t?e(td):(e[Is]=n,a(),r.push(e),e.cancel=Zs((function(){a(),Xs(r,e)})))},e.close=c,e}(),t=e.put;return e.put=function(e){e[Cs]?t(e):Vu((function(){t(e)}))},e}function od(e,t){var n=e[ms];Ds(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var id,sd=0,ud=function(){return++sd};function dd(e){e.isRunning()&&e.cancel()}var ld=((id={}).TAKE=function(e,t,n){var r=t.channel,a=void 0===r?e.channel:r,c=t.pattern,o=t.maybe,i=function(e){e instanceof Error?n(e,!0):!nd(e)||o?n(e):n(_s)};try{a.take(i,Ls(c)?ed(c):null)}catch(s){return void n(s,!0)}n.cancel=i.cancel},id.PUT=function(e,t,n){var r=t.channel,a=t.action,c=t.resolve;Vu((function(){var t;try{t=(r?r.put:e.dispatch)(a)}catch(o){return void n(o,!0)}c&&Us(t)?od(t,n):n(t)}))},id.ALL=function(e,t,n,r){var a=r.digestEffect,c=sd,o=Object.keys(t);if(0!==o.length){var i=ou(t,n);o.forEach((function(e){a(t[e],c,i[e],e)}))}else n(Ps(t)?[]:{})},id.RACE=function(e,t,n,r){var a=r.digestEffect,c=sd,o=Object.keys(t),i=Ps(t)?tu(o.length):{},s={},u=!1;o.forEach((function(e){var t=function(t,r){u||(r||cu(t)?(n.cancel(),n(t,r)):(n.cancel(),u=!0,i[e]=t,n(i)))};t.cancel=Ys,s[e]=t})),n.cancel=function(){u||(u=!0,o.forEach((function(e){return s[e].cancel()})))},o.forEach((function(e){u||a(t[e],c,s[e],e)}))},id.CALL=function(e,t,n,r){var a=t.context,c=t.fn,o=t.args,i=r.task;try{var s=c.apply(a,o);if(Us(s))return void od(s,n);if(Bs(s))return void md(e,s,i.context,sd,iu(c),!1,n);n(s)}catch(u){n(u,!0)}},id.CPS=function(e,t,n){var r=t.context,a=t.fn,c=t.args;try{var o=function(e,t){Ns(e)?n(t):n(e,!0)};a.apply(r,c.concat(o)),o.cancel&&(n.cancel=o.cancel)}catch(i){n(i,!0)}},id.FORK=function(e,t,n,r){var a=t.context,c=t.fn,o=t.args,i=t.detached,s=r.task,u=function(e){var t=e.context,n=e.fn,r=e.args;try{var a=n.apply(t,r);if(Bs(a))return a;var c=!1;return $s((function(e){return c?{value:e,done:!0}:(c=!0,{value:a,done:!Us(a)})}))}catch(o){return $s((function(){throw o}))}}({context:a,fn:c,args:o}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:iu(t)}(u,c);Hu((function(){var t=md(e,u,s.context,sd,d,i,void 0);i?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},id.JOIN=function(e,t,n,r){var a=r.task,c=function(e,t){if(e.isRunning()){var n={task:a,cb:t};t.cancel=function(){e.isRunning()&&Xs(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Ps(t)){if(0===t.length)return void n([]);var o=ou(t,n);t.forEach((function(e,t){c(e,o[t])}))}else c(t,n)},id.CANCEL=function(e,t,n,r){var a=r.task;t===Es?dd(a):Ps(t)?t.forEach(dd):dd(t),n()},id.SELECT=function(e,t,n){var r=t.selector,a=t.args;try{n(r.apply(void 0,[e.getState()].concat(a)))}catch(c){n(c,!0)}},id.ACTION_CHANNEL=function(e,t,n){var r=t.pattern,a=rd(t.buffer),c=ed(r),o=function t(n){nd(n)||e.channel.take(t,c),a.put(n)},i=a.close;a.close=function(){o.cancel(),i()},e.channel.take(o,c),n(a)},id.CANCELLED=function(e,t,n,r){n(r.task.isCancelled())},id.FLUSH=function(e,t,n){t.flush(n)},id.GET_CONTEXT=function(e,t,n,r){n(r.task.context[t])},id.SET_CONTEXT=function(e,t,n,r){var a=r.task;Ks(a.context,t),n()},id);function pd(e,t){return e+"?"+t}function fd(e){var t=e.name,n=e.location;return n?t+"  "+pd(n.fileName,n.lineNumber):t}function bd(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Od=null,vd=[],hd=function(){Od=null,vd.length=0},jd=function(){var e=vd[0],t=vd.slice(1),n=e.crashedEffect?function(e){var t=su(e);return t?t.code+"  "+pd(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+fd(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+fd(e.meta)})),[bd(vd)]).join("\n")};function gd(e,t,n,r,a,c,o){var i;void 0===o&&(o=Ys);var s,u,d=0,l=null,p=[],f=Object.create(n),b=function(e,t,n){var r,a=[],c=!1;function o(e){t(),s(),n(e,!0)}function i(t){a.push(t),t.cont=function(i,s){c||(Xs(a,t),t.cont=Ys,s?o(i):(t===e&&(r=i),a.length||(c=!0,n(r))))}}function s(){c||(c=!0,a.forEach((function(e){e.cont=Ys,e.cancel()})),a=[])}return i(e),{addTask:i,cancelAll:s,abort:o,getTasks:function(){return a}}}(t,(function(){p.push.apply(p,b.getTasks().map((function(e){return e.meta.name})))}),O);function O(t,n){if(n){if(d=2,(c={meta:a,cancelledTasks:p}).crashedEffect=Od,vd.push(c),v.isRoot){var r=jd();hd(),e.onError(t,{sagaStack:r})}u=t,l&&l.reject(t)}else t===Ts?d=1:1!==d&&(d=3),s=t,l&&l.resolve(t);var c;v.cont(t,n),v.joiners.forEach((function(e){e.cb(t,n)})),v.joiners=null}var v=((i={})[ks]=!0,i.id=r,i.meta=a,i.isRoot=c,i.context=f,i.joiners=[],i.queue=b,i.cancel=function(){0===d&&(d=1,b.cancelAll(),O(Ts,!1))},i.cont=o,i.end=O,i.setContext=function(e){Ks(f,e)},i.toPromise=function(){return l||(l=Fu(),2===d?l.reject(u):0!==d&&l.resolve(s)),l.promise},i.isRunning=function(){return 0===d},i.isCancelled=function(){return 1===d||0===d&&1===t.status},i.isAborted=function(){return 2===d},i.result=function(){return s},i.error=function(){return u},i);return v}function md(e,t,n,r,a,c,o){var i=e.finalizeRunEffect((function(t,n,r){if(Us(t))od(t,r);else if(Bs(t))md(e,t,u.context,n,a,!1,r);else if(t&&t[ys]){(0,ld[t.type])(e,t.payload,r,d)}else r(t)}));l.cancel=Ys;var s={meta:a,cancel:function(){0===s.status&&(s.status=1,l(Ts))},status:0},u=gd(e,s,n,r,a,c,o),d={task:u,digestEffect:p};return o&&(o.cancel=u.cancel),l(),u;function l(e,n){try{var a;n?(a=t.throw(e),hd()):au(e)?(s.status=1,l.cancel(),a=Ds(t.return)?t.return(Ts):{done:!0,value:Ts}):a=ru(e)?Ds(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==s.status&&(s.status=3),s.cont(a.value)):p(a.value,r,l)}catch(c){if(1===s.status)throw c;s.status=2,s.cont(c,!0)}}function p(t,n,r,a){void 0===a&&(a="");var c,o=ud();function s(n,a){c||(c=!0,r.cancel=Ys,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),a&&function(e){Od=e}(t),r(n,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:a,effect:t}),s.cancel=Ys,r.cancel=function(){c||(c=!0,s.cancel(),s.cancel=Ys,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},i(t,o,s)}}function xd(e,t){var n=e.channel,r=void 0===n?cd():n,a=e.dispatch,c=e.getState,o=e.context,i=void 0===o?{}:o,s=e.sagaMonitor,u=e.effectMiddlewares,d=e.onError,l=void 0===d?eu:d;for(var p=arguments.length,f=new Array(p>2?p-2:0),b=2;b<p;b++)f[b-2]=arguments[b];var O=t.apply(void 0,f);var v,h=ud();if(s&&(s.rootSagaStarted=s.rootSagaStarted||Ys,s.effectTriggered=s.effectTriggered||Ys,s.effectResolved=s.effectResolved||Ys,s.effectRejected=s.effectRejected||Ys,s.effectCancelled=s.effectCancelled||Ys,s.actionDispatched=s.actionDispatched||Ys,s.rootSagaStarted({effectId:h,saga:t,args:f})),u){var j=js.d.apply(void 0,u);v=function(e){return function(t,n,r){return j((function(t){return e(t,n,r)}))(t)}}}else v=qs;var g={channel:r,dispatch:nu(a),getState:c,sagaMonitor:s,onError:l,finalizeRunEffect:v};return Hu((function(){var e=md(g,O,i,h,iu(t),!0,void 0);return s&&s.effectResolved(h,e),e}))}var yd=function(e){var t,n=void 0===e?{}:e,r=n.context,a=void 0===r?{}:r,c=n.channel,o=void 0===c?cd():c,i=n.sagaMonitor,s=Object(Rs.a)(n,["context","channel","sagaMonitor"]);function u(e){var n=e.getState,r=e.dispatch;return t=xd.bind(null,Object(As.a)({},s,{context:a,channel:o,dispatch:r,getState:n,sagaMonitor:i})),function(e){return function(t){i&&i.actionDispatched&&i.actionDispatched(t);var n=e(t);return o.put(t),n}}}return u.run=function(){return t.apply(void 0,arguments)},u.setContext=function(e){Ks(a,e)},u},Id=yd,wd=n(800),Cd=n(687),Ed=function(){function e(){Object($t.a)(this,e),this.data={}}return Object(Qt.a)(e,[{key:"setReducer",value:function(e){return this.data.reducer=e,this}},{key:"setSaga",value:function(e){return this.data.saga=e,this}},{key:"setPreloadedState",value:function(e){return this.data.preloadedState=e,this}},{key:"setHTTPClient",value:function(e){return this.data.httpClient=e,this}},{key:"setApplicationConfig",value:function(e){return e&&(this.data.applicationConfig=e),this}},{key:"setHandshakeDetails",value:function(e){return e&&(this.data.handshakeDetails=e),this}},{key:"setChatSettings",value:function(e){return e&&(this.data.chatSettings=e),this}},{key:"build",value:function(){var e=this.data,t=e.applicationConfig,n=e.handshakeDetails,r=e.chatSettings,a=e.httpClient,c=e.reducer,o=e.preloadedState,i=e.saga,s=r.clientContext;$n()(a,"HTTP Client is not configured"),Object(wd.b)(a),$n()(c,"Reducer is not configured");var u=[],d=Id();u.push(d);var l=Object(js.e)(c,o,js.a.apply(void 0,u));i&&d.run(i);var p={payload:{applicationConfig:t,handshakeDetails:n,clientContext:s},type:Cd.a};return l.dispatch(p),this.data.store=l,l}}]),e}(),kd=function(e){return{done:!0,value:e}},Td={};function _d(e){return Gs(e)?"channel":Ws(e)?String(e):Ds(e)?e.name:String(e)}function Sd(e,t,n){var r,a,c,o=t;function i(t,n){if(o===Td)return kd(t);if(n&&!a)throw o=Td,n;r&&r(t);var i=n?e[a](n):e[o]();return o=i.nextState,c=i.effect,r=i.stateUpdater,a=i.errorState,o===Td?kd(t):c}return $s(i,(function(e){return i(null,e)}),n)}function Ad(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var c,o={done:!1,value:ku(e)},i=function(e){return{done:!1,value:Nu.apply(void 0,[t].concat(r,[e]))}},s=function(e){return c=e};return Sd({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:i(c)}}},"q1","takeEvery("+_d(e)+", "+t.name+")")}function Rd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var c,o,i={done:!1,value:ku(e)},s=function(e){return{done:!1,value:Nu.apply(void 0,[t].concat(r,[e]))}},u=function(e){return{done:!1,value:Du(e)}},d=function(e){return c=e},l=function(e){return o=e};return Sd({q1:function(){return{nextState:"q2",effect:i,stateUpdater:l}},q2:function(){return c?{nextState:"q3",effect:u(c)}:{nextState:"q1",effect:s(o),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(o),stateUpdater:d}}},"q1","takeLatest("+_d(e)+", "+t.name+")")}function Nd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var c,o={done:!1,value:ku(e)},i=function(e){return{done:!1,value:Ru.apply(void 0,[t].concat(r,[e]))}},s=function(e){return c=e};return Sd({q1:function(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:i(c)}}},"q1","takeLeading("+_d(e)+", "+t.name+")")}function Ld(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return Nu.apply(void 0,[Ad,e,t].concat(r))}function Dd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return Nu.apply(void 0,[Rd,e,t].concat(r))}function Md(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return Nu.apply(void 0,[Nd,e,t].concat(r))}var Pd=n(703),Ud=n(708),Bd=n.n(Ud),Fd=n(75),Gd=n.n(Fd),Wd=n(832),zd=n(672),Vd=Object(a.a)().mark(Xd),Hd=Object(a.a)().mark(Zd),Yd=Object(a.a)().mark(Jd),qd=function(e){return{userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:"",locale:"en"}},Kd=function(e,t){var n={};return Gd()(t,(function(t,r){var a=r.sender;return n[a]||!!Object(Os.g)(e,a)||(n[a]=a,t.push(r)),t}),[])};function Xd(e){var t,n,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=ds()(e,(function(e){return e.sender})),a.next=4,Ru(Wd.a,e);case 4:return n=a.sent,c=ds()(n,(function(e){return zd.a.getId(e)})),o=[],oo()(t,(function(e){!c.includes(e)&&Object(In.c)(e)&&(o=[].concat(Object(r.a)(o),[qd(e)]))})),a.next=10,Tu({type:W.e,payload:{users:[].concat(Object(r.a)(n),Object(r.a)(o))}});case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 15:case"end":return a.stop()}}),Vd,null,[[0,12]])}function Zd(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,0!==(t=Bd()(e)).length){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Mu(dc.h);case 6:if(n=a.sent,0!==(r=Kd(n,t)).length){a.next=10;break}return a.abrupt("return");case 10:return a.next=12,Ru(Xd,r);case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 17:case"end":return a.stop()}}),Hd,null,[[0,14]])}function Jd(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ru(Xd,Bd()(e));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Yd,null,[[0,5]])}var Qd=n(694),$d=Object(a.a)().mark(cl),el=Object(a.a)().mark(ul),tl=Object(a.a)().mark(dl),nl=Object(a.a)().mark(ll),rl=Object(a.a)().mark(pl);function al(e){return e.type===lt||e.type===pt}function cl(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(al).map((function(e){return Tu(e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),$d,null,[[0,5]])}function ol(e){return e.type===xt}var il=function(e){return"USER"===e},sl=new Set(["WORK_QUEUE","TASK_QUEUE","HOLDING_QUEUE"]);function ul(e){var t,n,r,c,o,i,s,u,d,l,p;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.assignmentTime,r=t.assignedTo,c=t.unassignedFrom,o=t.conversationId,i=t.newAssigneeType,s=t.oldAssigneeType,u=[],r&&il(i)&&u.push({conversationId:o,sender:r}),c&&il(s)&&u.push({conversationId:o,sender:c}),a.next=7,Ru(Zd,u);case 7:return a.next=9,Tu(Object(Pd.a)({conversationId:o,workQueueAssigned:(f=i,sl.has(f)),agentAssigned:il(i)}));case 9:return a.next=11,Mu((function(e){return Object(Os.g)(Object(dc.h)(e),r)}));case 11:return d=a.sent,a.next=14,Mu((function(e){return Object(Os.g)(Object(dc.h)(e),c)}));case 14:if(l=a.sent,p={currentlyAssignedUser:d,previouslyAssignedUser:l,assignmentTime:n},!il(i)){a.next=19;break}return a.next=19,Tu(Object(ir.c)({conversationId:o,additional:p,action:Xc.a.AGENT_ASSIGNED}));case 19:a.next=24;break;case 21:a.prev=21,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 24:case"end":return a.stop()}var f}),el,null,[[0,21]])}function dl(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.filter(ol),n.next=4,_u(t.map(ul));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),tl,null,[[0,6]])}function ll(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,_u([Ru(cl,t),Ru(dl,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),nl,null,[[0,6]])}function pl(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Qd.k,ll);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),rl,null,[[0,5]])}var fl=Object(a.a)().mark(vl),bl=Object(a.a)().mark(hl),Ol=Object(a.a)().mark(jl);function vl(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Uu(e);case 2:return t.next=4,Tu(Object(ir.h)());case 4:case"end":return t.stop()}}),fl)}function hl(){var e,t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Pu([lt,pt]);case 2:t=a.sent;case 3:return a.prev=4,a.next=7,ku(t);case 7:if(n=a.sent,r=n.type,c=n.payload,!e||e.isCancelled()){a.next=13;break}return a.next=13,Du(e);case 13:if(r!==lt){a.next=19;break}return a.next=16,Nu(vl,c.waitTime);case 16:return e=a.sent,a.next=19,Tu(Object(ir.f)({waitTime:c.waitTime,reason:c.reason}));case 19:if(r!==pt){a.next=22;break}return a.next=22,Tu(Object(ir.h)());case 22:a.next=27;break;case 24:a.prev=24,a.t0=a.catch(4),Object(Pt.b)(a.t0);case 27:a.next=3;break;case 29:case"end":return a.stop()}}),bl,null,[[4,24]])}function jl(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(hl)]);case 2:case"end":return e.stop()}}),Ol)}var gl=Object(a.a)().mark(ml);function ml(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(pl),Nu(jl)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),gl,null,[[0,5]])}var xl=n(1068),yl=n.n(xl),Il=n(667),wl=n(636),Cl=n(683),El=n(722),kl=n(675),Tl=n.n(kl),_l="/livechat/conversation";function Sl(e){var t=e.shouldFetchNumberOfOpenConversation,n=e.size,r=e.cursor;return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){var c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(_l,"/fetch?fetchNumberOfOpenConversations=").concat(t,"&sortKey=lastInteractionTime"),n&&(c="".concat(c,"&size=").concat(n)),r&&r.after&&(c="".concat(c,"&after=").concat(r.after)),r&&r.before&&(c="".concat(c,"&before=").concat(r.before)),e.next=6,wd.a.post(c,void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:return o=e.sent,e.abrupt("return",o.data);case 8:case"end":return e.stop()}}),e)})))}function Al(e,t,n){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function c(){var o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=aa()(n)?{data:n}:n,i=Object(r.a)(Object.keys(o)),a.next=4,wd.a.post(e,o,{headers:Object.assign(Object.assign({},t),{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:[function(e){return oo()(e,(function(t,n){Tl()(i,n)||delete e[n]})),e}]});case 4:return s=a.sent,a.abrupt("return",s.data);case 6:case"end":return a.stop()}}),c)})))}function Rl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("".concat(_l,"/fetch/").concat(e),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Nl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("".concat(_l,"/fetch/case/").concat(e),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Ll(e,t){var n=t.size,r=t.cursor;return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var c,o,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=[{key:"conversationId",value:e}],n&&c.push({key:"size",value:n}),r&&c.push({key:"cursor",value:r}),c.push({key:"includeMaskedDeletedMessages",value:!0}),o=c.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&"),t.next=7,wd.a.post("".concat(_l,"/fetchMessages?").concat(o),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return i=t.sent,t.abrupt("return",i.data);case 9:case"end":return t.stop()}}),t)})))}function Dl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("".concat(_l,"/closeConversation?conversationId=").concat(e),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Ml(){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(_l,"/closeAll"),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}function Pl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("".concat(_l,"/delete?conversationId=").concat(e),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Ul(){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(_l,"/deleteAll"),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}function Bl(e,t){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function n(){var r;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wd.a.post("".concat(_l,"/updateDisclaimer/").concat(e,"?disclaimerStatus=").concat(t),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))}function Fl(e,t){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function n(){var r,c;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={conversationId:e,messageId:t},n.next=3,wd.a.post("".concat(_l,"/fetchMessage"),void 0,{params:r,backoff:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:return c=n.sent,n.abrupt("return",c.data);case 5:case"end":return n.stop()}}),n)})))}function Gl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("".concat(_l,"/send"),{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Wl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function zl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("/livechat/appointment/reserve",{p:{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId}},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Vl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.post("".concat(_l,"/new"),{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function Hl(e,t,n,r){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function c(){var o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,wd.a.post("".concat(_l,"/suggestions"),{p:Object.assign({conversationId:e,query:t,locale:r},n)},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return o=a.sent,a.abrupt("return",o.data);case 4:case"end":return a.stop()}}),c)})))}function Yl(e){var t=e.context,n=e.updateLatest;return wd.a.post("".concat(_l,"/updateConversationDetails?updateLatest=").concat(n),{p:t},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function ql(e){var t=e.conversationId,n=e.context;return wd.a.post("".concat(_l,"/updateConversationDetails?conversationId=").concat(t),{p:n},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function Kl(e){return wd.a.post("".concat(_l,"/cancelAsset/").concat(e),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function Xl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wd.a.post("".concat(_l,"/markSurveyOpened/").concat(e),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return t.stop()}}),t)})))}function Zl(){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(_l,"/fetchNumberOfOpenConversations"),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))}function Jl(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wd.a.post("".concat(_l,"/markTimeOfDelivery?messageIds=").concat(e.join(",")),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return t.stop()}}),t)})))}var Ql=n(659),$l=Object(a.a)().mark(np),ep=Object(a.a)().mark(ap),tp=Object(a.a)().mark(cp);function np(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(El.k)(e)){t.next=3;break}return t.next=3,Tu(Object(Ql.p)(e));case 3:case"end":return t.stop()}}),$l)}function rp(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,Object(El.j)(e)||(n=Xt()(e,"id")),t.next=4,Gl(n);case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))}function ap(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ru(rp,e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),Object(Pt.b)(t.t0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),ep,null,[[0,6]])}function cp(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,n=wl.a.getConversationId(e),c=l()(Cl.a.getAttachment(wl.a.getMessagePayload(e)),"messageId"),a.prev=3,a.next=6,Ru(rp,e);case 6:r=a.sent,a.next=16;break;case 9:return a.prev=9,a.t0=a.catch(3),a.next=13,Tu({type:Se.I,payload:{chatMessage:new wl.a(e).setCreationTime(Date.now()).build(),conversationId:wl.a.getConversationId(e)}});case 13:return a.next=15,Tu({payload:{conversationId:n,transientId:t,postbackParentMessageId:c},type:Se.F});case 15:throw a.t0;case 16:if(!Object(El.k)(r)){a.next=19;break}return a.next=19,Tu({payload:{chatMessage:r,conversationId:n,transientId:t},type:Se.G});case 19:case"end":return a.stop()}}),tp,null,[[3,9]])}var op=n(748),ip=Object(a.a)().mark(up),sp=Object(a.a)().mark(dp);function up(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=op.a.makeOutgoing().makeTextMessage(e.payload),n.next=4,Ru(np,t);case 4:return n.next=6,Ru(cp,t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 11:case"end":return n.stop()}}),ip,null,[[0,8]])}function dp(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.Z,up);case 2:case"end":return e.stop()}}),sp)}var lp,pp=n(644),fp=Object(a.a)().mark(mp),bp=Object(a.a)().mark(xp),Op=Object(a.a)().mark(yp),vp=function(e,t){var n=Cl.a.getAttachment(wl.a.getMessagePayload(e));return G()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},hp=function(e,t){var n=Cl.a.getAttachment(wl.a.getMessagePayload(e));return G()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},jp=(lp={},Object(B.a)(lp,pp.c.CARD,vp),Object(B.a)(lp,pp.c.CAROUSEL,vp),Object(B.a)(lp,pp.c.CO_BROWSE_INVITE,vp),Object(B.a)(lp,pp.c.PRODUCT_CARD,vp),Object(B.a)(lp,pp.c.PRODUCT_SHOWCASE_CARD,vp),Object(B.a)(lp,pp.c.INFO_CARD,vp),Object(B.a)(lp,pp.c.PRODUCT_BANNER,vp),Object(B.a)(lp,pp.c.PRODUCT_LIST,vp),Object(B.a)(lp,pp.c.FORM,hp),Object(B.a)(lp,pp.c.CONTACT_DETAILS_FORM,hp),Object(B.a)(lp,pp.c.SECURE_FORM,hp),Object(B.a)(lp,pp.c.APPOINTMENT,(function(e,t){return G()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}})})),Object(B.a)(lp,pp.c.SURVEY,(function(e,t){return G()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})})),lp),gp=function(e,t){if(!e||!t)return{};switch(Cl.a.getAttachment(wl.a.getMessagePayload(e)).type){case pp.c.CAROUSEL:case pp.c.CO_BROWSE_INVITE:case pp.c.PRODUCT_CARD:case pp.c.PRODUCT_SHOWCASE_CARD:case pp.c.INFO_CARD:case pp.c.PRODUCT_BANNER:case pp.c.PRODUCT_LIST:case pp.c.CARD:return{buttonId:Cl.a.getAttachment(wl.a.getMessagePayload(t)).buttonId};case pp.c.SURVEY:return{submitted:!Cl.a.getAttachment(wl.a.getMessagePayload(t)).reSubmittable,opened:!0};case pp.c.SECURE_FORM:case pp.c.FORM:case pp.c.CONTACT_DETAILS_FORM:return{filledForm:Cl.a.getAttachment(wl.a.getMessagePayload(t)).filledForm};case pp.c.APPOINTMENT:return{selectedDate:Cl.a.getAttachment(wl.a.getMessagePayload(t)).selectedDate,selectedSlot:Cl.a.getAttachment(wl.a.getMessagePayload(t)).selectedSlot};default:return{}}};function mp(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.chatMessage,n=e.conversationId,r=e.params,t){a.next=3;break}return a.abrupt("return",null);case 3:if(!(c=jp[Cl.a.getAttachment(wl.a.getMessagePayload(t)).type])){a.next=9;break}return o=c(t,r),a.next=8,Tu({type:Se.I,payload:{chatMessage:o,conversationId:n}});case 8:return a.abrupt("return",o);case 9:return a.abrupt("return",null);case 10:case"end":return a.stop()}}),fp)}function xp(e){var t,n,r,c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.postback.messageId,r=t.conversationId,a.next=3,Mu(dc.c);case 3:return o=a.sent,i=Object(ki.j)(Object(ki.l)(o,r),n),a.prev=5,s=op.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(e.payload),a.next=9,Ru(mp,{chatMessage:i,conversationId:r,params:gp(i,s)});case 9:if(c=a.sent,!s){a.next=16;break}return a.next=13,Ru(np,s);case 13:return a.next=15,Ru(cp,s);case 15:e.promise.resolve();case 16:a.next=25;break;case 18:if(a.prev=18,a.t0=a.catch(5),!c){a.next=23;break}return a.next=23,Tu({type:Se.I,payload:{chatMessage:i,conversationId:r}});case 23:e.promise.reject(),Object(Pt.b)(a.t0);case 25:case"end":return a.stop()}}),bp,null,[[5,18]])}function yp(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.Y,xp);case 2:case"end":return e.stop()}}),Op)}var Ip=Object(a.a)().mark(Cp),wp=Object(a.a)().mark(Ep);function Cp(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(t=op.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(e.payload))){n.next=7;break}return n.next=5,Ru(np,t);case 5:return n.next=7,Ru(cp,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}}),Ip,null,[[0,9]])}function Ep(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.R,Cp);case 2:case"end":return e.stop()}}),wp)}var kp="/co-browse/conversation",Tp={headers:{"Content-Type":"application/x-www-form-urlencoded"}},_p=function(e){var t=e.messageId,n=e.markCompletedSession;return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function e(){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(kp,"/").concat(n?"completed":"cancelled","?messageId=").concat(t),void 0,Tp);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Sp=function(e){var t=e.messageId,n=e.actionPayload;return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function e(){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(kp,"/push?messageId=").concat(t),{p:{type:"CO_BROWSE",payload:n}},Tp);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Ap=function(e){var t=e.messageId,n=e.payload;return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function e(){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(kp,"/push/status?messageId=").concat(t),{p:n},Tp);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))},Rp=function(e){var t=e.messageId,n=e.otp,r=e.additionalInfo;return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ap({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:r}}));case 1:case"end":return e.stop()}}),e)})))},Np=function(e){var t=e.messageId,n=e.reason;return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ap({messageId:t,payload:{status:"FAILED",reason:n}}));case 1:case"end":return e.stop()}}),e)})))},Lp=function(e){var t=e.messageId,n=e.payload;return wd.a.post("".concat(kp,"/event?messageId=").concat(t),{p:n},Tp)},Dp=function(e){var t=e.messageId;return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function e(){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(kp,"/session/live?messageId=").concat(t),void 0,Tp);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))},Mp=n(977),Pp=Object(a.a)().mark(rf),Up=Object(a.a)().mark(af),Bp=Object(a.a)().mark(cf),Fp=Object(a.a)().mark(of),Gp=Object(a.a)().mark(sf),Wp=Object(a.a)().mark(uf),zp=Object(a.a)().mark(df),Vp=Object(a.a)().mark(lf),Hp=Object(a.a)().mark(pf),Yp=Object(a.a)().mark(ff),qp=Object(a.a)().mark(bf),Kp=Object(a.a)().mark(Of),Xp=Object(a.a)().mark(vf),Zp=Object(a.a)().mark(hf),Jp=Object(a.a)().mark(jf),Qp=Object(a.a)().mark(gf),$p=Object(a.a)().mark(mf),ef=Object(a.a)().mark(xf),tf=Object(a.a)().mark(yf),nf=Object(a.a)().mark(If);function rf(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Mu(dc.f);case 3:return t=r.sent,n=t.messageId,r.next=7,Ru(Sp,{messageId:n,actionPayload:e.payload});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 12:case"end":return r.stop()}}),Pp,null,[[0,9]])}function af(e){var t,n,r,c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Mu(dc.f);case 2:return t=a.sent,n=t.messageId,r=t.conversationId,c=t.agentId,a.prev=6,o=e.payload,i=o.otp,s=o.additionalInfo,a.next=10,Ru(Rp,{messageId:n,otp:i,additionalInfo:s});case 10:return a.next=12,Tu(Object(Tc.i)({state:{messageId:n,conversationId:r,agentId:c}}));case 12:a.next=26;break;case 14:return a.prev=14,a.t0=a.catch(6),a.prev=16,a.next=19,Tu(Object(Tc.e)({reason:Sc.a.OTP_SEND_FAILED}));case 19:return a.next=21,Ru(Np,{messageId:n,reason:Sc.a.OTP_SEND_FAILED});case 21:a.next=26;break;case 23:a.prev=23,a.t1=a.catch(16),Object(Pt.b)(a.t0);case 26:case"end":return a.stop()}}),Up,null,[[6,14],[16,23]])}function cf(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.messageId,r=t.reason,a.next=4,Tu(Object(Tc.e)({reason:r}));case 4:return a.next=6,Ru(Np,{messageId:n,reason:r});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 11:case"end":return a.stop()}}),Bp,null,[[0,8]])}function of(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.messageId,a.next=3,Su([ku((function(e){var n=e.type,r=e.payload;return n===Se.G&&l()(r,"chatMessage.messagePayload.attachment.messageId")===t})),ku((function(e){var n=e.type,r=e.payload;return n===Se.F&&l()(r,"postbackParentMessageId")===t})),ku(Mp.g),ku(Mp.h)]);case 3:if(n=a.sent,r=Object(qt.a)(n,2),c=r[0],o=r[1],!c){a.next=10;break}return a.next=10,Tu(Object(Tc.p)());case 10:if(!o){a.next=13;break}return a.next=13,Tu(Object(Tc.e)({reason:Sc.a.POSTBACK_SEND_FAILED}));case 13:case"end":return a.stop()}}),Fp)}function sf(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Mu(dc.f);case 3:return t=r.sent,n=t.messageId,r.next=7,Ru(Lp,{messageId:n,payload:e.payload});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 12:case"end":return r.stop()}}),Gp,null,[[0,9]])}function uf(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.messageId,r=t.endedByAgent,c=t.markCompletedSession,!r&&n){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Ru(_p,{messageId:n,markCompletedSession:c});case 6:return a.abrupt("return");case 9:a.prev=9,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 12:case"end":return a.stop()}}),Wp,null,[[0,9]])}function df(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.shouldNotifyAgent,r=t.mode,!n){a.next=5;break}return a.next=5,Tu(Object(Tc.j)({type:r,payload:{status:"ACCEPT"}}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 10:case"end":return a.stop()}}),zp,null,[[0,7]])}function lf(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.mode,n.next=4,Tu(Object(Tc.j)({type:t,payload:{status:"REJECT"}}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),Vp,null,[[0,6]])}function pf(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.mode,n.next=4,Tu(Object(Tc.j)({type:t,payload:{status:"STOP"}}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),Hp,null,[[0,6]])}function ff(e){var t,n,r,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload.state,n=t.messageId,r=t.conversationId,c=t.agentId,a.prev=1,a.next=4,_u([Ru(Dp,{messageId:n}),Ru(Zd,{sender:c,conversationId:r})]);case 4:if(o=a.sent,i=Object(qt.a)(o,1),!i[0]){a.next=12;break}return a.next=10,Tu(Object(Tc.o)({state:{conversationId:r,messageId:n,agentId:c}}));case 10:a.next=14;break;case 12:return a.next=14,Tu(Object(Tc.e)({reason:Sc.a.RESUME_SESSION_FAILED}));case 14:a.next=21;break;case 16:return a.prev=16,a.t0=a.catch(1),a.next=20,Tu(Object(Tc.f)({messageId:n,reason:Sc.a.RESUME_SESSION_FAILED}));case 20:Object(Pt.b)(a.t0);case 21:case"end":return a.stop()}}),Yp,null,[[1,16]])}function bf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.g,uf);case 2:case"end":return e.stop()}}),qp)}function Of(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.o,af);case 2:case"end":return e.stop()}}),Kp)}function vf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.p,cf);case 2:case"end":return e.stop()}}),Xp)}function hf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.a,df);case 2:case"end":return e.stop()}}),Zp)}function jf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.d,lf);case 2:case"end":return e.stop()}}),Jp)}function gf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.b,pf);case 2:case"end":return e.stop()}}),Qp)}function mf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.e,rf);case 2:case"end":return e.stop()}}),$p)}function xf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.k,ff);case 2:case"end":return e.stop()}}),ef)}function yf(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.f,sf);case 2:case"end":return e.stop()}}),tf)}function If(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(Of),Nu(vf),Nu(bf),Nu(hf),Nu(jf),Nu(gf),Nu(mf),Nu(xf),Nu(yf)]);case 2:case"end":return e.stop()}}),nf)}var wf=n(753),Cf=Object(a.a)().mark(Ef);function Ef(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==(t=e?Bd()(e):wf.a).length){a.next=3;break}return a.abrupt("return");case 3:return n=wl.a.getConversationId(t[0]),r=ds()(t,(function(e){return{sender:wl.a.getSender(e),conversationId:n}})),a.next=7,Ru(Zd,r);case 7:case"end":return a.stop()}}),Cf)}var kf=n(658),Tf=n.n(kf),_f=n(1082),Sf=n(1083),Af=n(912),Rf=n(144),Nf=n(1287),Lf=function(e,t){var n=zd.a.getId(t),r=Cl.a.getAttachment(wl.a.getMessagePayload(e)),a=Object(Nf.a)(r,{user:t}),c=oi()(_f.a.getFields(Sf.a.getForm(r)),(function(e){var t=e.id;return"EQUALITY"!==e.validator&&f()(a[t])}));return!Object(In.b)(n)&&c},Df=function(e,t,n,r){var a;return a="string"===typeof e?(new wl.a).setMessagePayload((new Cl.a).setMessageType(Af.b).setMessageText(e).setMessageDisableManualResponse(!!r).build()).build():e,op.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:t,sender:Na.b},a))},Mf=function(e){if(aa()(e))return e;switch(Object(Gn.f)(e)?l()(e,"response.status",404):-1){case 401:case 404:return Rf.a.NOT_FOUND;case 406:return Rf.a.NOT_ACCEPTABLE;default:return Rf.a.UNEXPECTED_ERROR}},Pf=n(853),Uf=n(737),Bf=Object(a.a)().mark(Kf),Ff=Object(a.a)().mark(Xf),Gf=Object(a.a)().mark(Zf),Wf=Object(a.a)().mark(Jf),zf=Object(a.a)().mark($f),Vf=Object(a.a)().mark(eb),Hf=Object(a.a)().mark(tb),Yf=Object(a.a)().mark(nb),qf={};function Kf(e){var t,n,r,c,o,i,s,u,d,p,f,b,O,v,h,j,g;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload.conversationId,!qf[t]){a.next=16;break}case 3:return a.next=6,Su([ku(Se.L),ku(Se.M)]);case 6:if(n=a.sent,r=Object(qt.a)(n,2),c=r[0],o=r[1],l()(c||o,"payload.transientConversationId")!==t){a.next=13;break}return e.promise&&(c&&e.promise.resolve({conversationId:c.payload.conversationResponse.id,caseNumber:c.payload.conversationResponse.caseNumber}),o&&e.promise.reject(o.payload.error)),a.abrupt("break",15);case 13:a.next=3;break;case 15:return a.abrupt("return");case 16:return a.prev=16,qf[t]=!0,a.next=20,Mu(dc.c);case 20:return i=a.sent,a.next=23,Mu(dc.d);case 23:return s=a.sent,u=Tf()(s),d=Object(ki.l)(i,t),p=Object(ki.p)(i),f=Object(ki.g)(p,t),b=l()(Object(ki.f)(p,t),"assignToUser"),O=Object(ki.w)(d),v=Object(ki.e)(Object(ki.p)(i),t)||{},h=v.clickedOnPrompt,a.next=34,Ru(Vl,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},O?{chatMessages:Object(ki.k)(d).map((function(e){return{messagePayload:wl.a.getMessagePayload(e),sender:wl.a.getSender(e)}}))}:void 0),{createCase:Object(ki.A)(Object(ki.p)(i),t),startedByContext:f}),v),e.payload.appContext),!h&&u?{creativeId:u.additional.creativeId,interceptId:u.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:b}));case 34:return j=a.sent,a.t0=Os.b,a.next=38,Mu(dc.h);case 38:return a.t1=a.sent,g=(0,a.t0)(a.t1),a.next=42,Tu({payload:{transientConversationId:t,conversationResponse:j,botUserIds:g},type:Se.L});case 42:e.promise&&e.promise.resolve({conversationId:j.id,caseNumber:j.caseNumber}),a.next=51;break;case 45:return a.prev=45,a.t2=a.catch(16),a.next=49,Tu({type:Se.M,payload:{transientConversationId:e.payload.conversationId,error:Mf(a.t2)}});case 49:e.promise&&e.promise.reject(Mf(a.t2)),Object(Pt.b)(a.t2);case 51:return a.prev=51,delete qf[e.payload.conversationId],a.finish(51);case 54:a.next=58;break;case 56:a.prev=56,a.t3=a.catch(0);case 58:case"end":return a.stop()}}),Bf,null,[[0,56],[16,45,51,54]])}function Xf(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=Io()(Bd()(un.a.getDefaultMessages(sn.a.getCustomizationConfig(e)))),!(n=Io()(t.map((function(e,t){return Df(e,Na.e,"".concat(Na.d).concat(t))})))).length){a.next=10;break}return a.next=6,Mu(dc.h);case 6:return r=a.sent,c=n.map((function(e){var t=Object(Pf.e)(r,wl.a.getSender(e));return Tu(Object(Pd.g)(e,t))})),a.next=10,_u(c);case 10:return a.abrupt("return",n);case 13:a.prev=13,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 16:return a.abrupt("return",void 0);case 17:case"end":return a.stop()}}),Ff,null,[[0,13]])}function Zf(e,t){var n,r,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,n=un.a.getContactDetailsMessage(sn.a.getCustomizationConfig(e)),r=[],!n||!Lf(n,Uf.a.getChatUser(t))){a.next=12;break}return c=Df(n,Na.e,Na.c),a.next=7,Mu(dc.h);case 7:return o=a.sent,i=Object(Pf.e)(o,wl.a.getSender(c)),r.push(c),a.next=12,Tu(Object(Pd.g)(c,i));case 12:return a.abrupt("return",r);case 15:a.prev=15,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 18:return a.abrupt("return",void 0);case 19:case"end":return a.stop()}}),Gf,null,[[0,15]])}function Jf(e,t){var n,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Ru(Xf,e);case 3:return n=a.sent,a.next=6,Ru(Zf,e,t);case 6:return c=a.sent,a.abrupt("return",[].concat(Object(r.a)(n),Object(r.a)(c)));case 10:a.prev=10,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 13:return a.abrupt("return",void 0);case 14:case"end":return a.stop()}}),Wf,null,[[0,10]])}function Qf(){qf={}}function $f(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(Object(a.a)().mark((function e(){var t,n,r,c,o,i,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.a,e.t1=Os.c,e.next=4,Mu(dc.h);case 4:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),t=(0,e.t0)(e.t3,"userId");case 7:return e.prev=8,e.next=11,Mu(dc.c);case 11:if(n=e.sent,r=Object(ki.l)(n,Na.e),c=Object(ki.j)(r,Na.c)){e.next=16;break}return e.abrupt("break",31);case 16:return e.next=18,ku(W.e);case 18:if(o=e.sent,i=o.payload.users,!(s=i.find((function(e){return e.userId===t})))||Lf(c,s)){e.next=24;break}return e.next=24,Tu(Object(Pd.h)(Na.e,Na.c));case 24:e.next=29;break;case 26:e.prev=26,e.t4=e.catch(8),Object(Pt.b)(e.t4);case 29:e.next=7;break;case 31:case"end":return e.stop()}}),e,null,[[8,26]])}))(),"t0",2);case 2:e.next=7;break;case 4:e.prev=4,e.t1=e.catch(0),Object(Pt.b)(e.t1);case 7:case"end":return e.stop()}}),zf,null,[[0,4]])}function eb(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Cd.c,Qf);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Vf,null,[[0,5]])}function tb(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.K,Kf);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Hf,null,[[0,5]])}function nb(){var e,t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ku(Cd.a);case 3:return e=a.sent,t=e.payload,n=t.applicationConfig,r=t.handshakeDetails,a.next=9,Ru(Jf,n,r);case 9:return a.next=11,_u([Nu($f),Nu(tb),Nu(eb)]);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 16:case"end":return a.stop()}}),Yf,null,[[0,13]])}var rb=n(796),ab=Object(a.a)().mark(ib),cb=Object(a.a)().mark(sb),ob=Object(a.a)().mark(ub);function ib(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,n=t.actionParams,n.actionType!==rb.a){r.next=5;break}return r.next=5,Tu(Object(Pd.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}}));case 5:case"end":return r.stop()}}),ab)}function sb(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,n=t.actionParams,n.actionType!==rb.b){r.next=5;break}return r.next=5,Tu(Object(Pd.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}}));case 5:case"end":return r.stop()}}),cb)}function ub(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_u([Ru(ib,e),Ru(sb,e)]);case 2:case"end":return t.stop()}}),ob)}var db=Object(a.a)().mark(fb),lb=Object(a.a)().mark(bb),pb=Object(a.a)().mark(Ob);function fb(e){var t,n,r,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.messageId,r=t.conversationId,a.next=3,Mu(dc.c);case 3:return c=a.sent,o=Object(ki.j)(Object(ki.l)(c,r),n),a.prev=5,a.next=8,Ru(mp,{chatMessage:o,conversationId:r,params:{opened:!0}});case 8:return i=a.sent,a.next=11,Ru(Xl,n);case 11:a.next=19;break;case 13:if(a.prev=13,a.t0=a.catch(5),!i){a.next=18;break}return a.next=18,Tu({type:Se.I,payload:{chatMessage:o,conversationId:r}});case 18:Object(Pt.b)(a.t0);case 19:case"end":return a.stop()}}),db,null,[[5,13]])}function bb(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload.attachment,n=l()(t,"opened"),r.prev=2,n){r.next=6;break}return r.next=6,Ru(fb,e);case 6:return r.abrupt("return");case 9:r.prev=9,r.t0=r.catch(2),Object(Pt.b)(r.t0);case 12:case"end":return r.stop()}}),lb,null,[[2,9]])}function Ob(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.V,bb);case 2:case"end":return e.stop()}}),pb)}var vb=n(784),hb=n(975),jb=n(815),gb=n(712),mb=n(1084),xb=n(914),yb=n(910),Ib=n(1517),wb=n(739),Cb="/livechat/event";function Eb(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wd.a.post("".concat(Cb,"/publish"),{p:Object.assign({type:e.type},e.payload)},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}));case 1:case"end":return t.stop()}}),t)})))}var kb=n(908),Tb=Object(a.a)().mark(SO),_b=Object(a.a)().mark(RO),Sb=Object(a.a)().mark(NO),Ab=Object(a.a)().mark(LO),Rb=Object(a.a)().mark(DO),Nb=Object(a.a)().mark(MO),Lb=Object(a.a)().mark(PO),Db=Object(a.a)().mark(UO),Mb=Object(a.a)().mark(BO),Pb=Object(a.a)().mark(FO),Ub=Object(a.a)().mark(GO),Bb=Object(a.a)().mark(WO),Fb=Object(a.a)().mark(zO),Gb=Object(a.a)().mark(VO),Wb=Object(a.a)().mark(HO),zb=Object(a.a)().mark(YO),Vb=Object(a.a)().mark(qO),Hb=Object(a.a)().mark(KO),Yb=Object(a.a)().mark(XO),qb=Object(a.a)().mark(ZO),Kb=Object(a.a)().mark(JO),Xb=Object(a.a)().mark(QO),Zb=Object(a.a)().mark($O),Jb=Object(a.a)().mark(ev),Qb=Object(a.a)().mark(tv),$b=Object(a.a)().mark(nv),eO=Object(a.a)().mark(rv),tO=Object(a.a)().mark(av),nO=Object(a.a)().mark(cv),rO=Object(a.a)().mark(ov),aO=Object(a.a)().mark(iv),cO=Object(a.a)().mark(sv),oO=Object(a.a)().mark(uv),iO=Object(a.a)().mark(dv),sO=Object(a.a)().mark(lv),uO=Object(a.a)().mark(fv),dO=Object(a.a)().mark(bv),lO=Object(a.a)().mark(Ov),pO=Object(a.a)().mark(vv),fO=Object(a.a)().mark(hv),bO=Object(a.a)().mark(jv),OO=Object(a.a)().mark(gv),vO=Object(a.a)().mark(mv),hO=Object(a.a)().mark(xv),jO=function(e){return Object(wb.e)(Object(dc.e)(e))};function gO(e){return e===rb.a||e===rb.b}function mO(e){return e===hb.a.OPEN_URL}function xO(e){return e===hb.a.DIAL}function yO(e){return e===hb.a.SURVEY_POST_BACK}function IO(e){return e===hb.a.FETCH_APPOINTMENT_TIME_SLOTS}function wO(e){return e===hb.a.RESERVE_APPOINTMENT_TIME_SLOT}function CO(e){return e===hb.a.START_VIDEO_CALL}function EO(e){return e===hb.a.START_AUDIO_CALL}function kO(e){return e===hb.a.REJOIN_CALL}function TO(e){return e===hb.a.SECURE_FORM_POST_BACK}function _O(e){return e===hb.a.ACCEPT_CO_BROWSE||e===hb.a.DENY_CO_BROWSE}function SO(e,t){var n,r,c=arguments;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:3,a.prev=1,a.next=4,Mu(jO);case 4:if(a.sent){a.next=15;break}case 6:return a.next=9,ku(Qd.e);case 9:if(r=a.sent,r.payload.status!==kb.a.CONNECTED){a.next=13;break}return a.abrupt("break",15);case 13:a.next=6;break;case 15:return a.next=17,Ru(e,t);case 17:return a.abrupt("return",a.sent);case 20:if(a.prev=20,a.t0=a.catch(1),!(Object(Gn.c)(a.t0)&&n>1)){a.next=26;break}return a.next=25,Ru(SO,e,t,n-1);case 25:return a.abrupt("return",a.sent);case 26:throw a.t0;case 27:case"end":return a.stop()}}),Tb,null,[[1,20]])}function AO(e,t){return op.a.makeSent().makeMessage({messageId:e.id,messagePayload:wl.a.getMessagePayload(e),conversationId:t,sender:wl.a.getSender(e),creationTime:wl.a.getCreationTime(e),clientMessageId:wl.a.getClientMessageId(e),deleted:wl.a.getDeleted(e)})}function RO(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.cursor,a.next=5,Ru(Ll,n,{size:t.size,cursor:r});case 5:return c=a.sent,o=Io()(c.results.map((function(e){return AO(e,n)}))),a.next=9,Ru(Ef,o);case 9:return a.next=11,Tu({payload:{conversationMessagesResponse:Object.assign(Object.assign({},c),{results:o}),conversationId:n,cursor:r},type:Se.m});case 11:e.promise&&e.promise.resolve(),a.next=20;break;case 14:return a.prev=14,a.t0=a.catch(0),e.promise&&e.promise.reject(),a.next=19,Tu({type:Se.n,payload:{conversationId:e.payload.conversationId}});case 19:Object(Pt.b)(a.t0);case 20:case"end":return a.stop()}}),_b,null,[[0,14]])}function NO(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,!(c=t.includeAll)){a.next=9;break}return a.next=6,Ru(Ul);case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,Ru(Pl,r);case 11:a.t0=a.sent;case 12:return o=a.t0,a.next=15,Tu(Object(Pd.a)({conversationId:r,includeAll:c,deleted:!0,surveyUrl:o.surveyUrl}));case 15:n&&n.resolve(),a.next=22;break;case 18:a.prev=18,a.t1=a.catch(0),e.promise&&e.promise.reject(),Object(Pt.b)(a.t1);case 22:case"end":return a.stop()}}),Sb,null,[[0,18]])}function LO(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.i,NO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Ab,null,[[0,5]])}function DO(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,!(c=t.includeAll)){a.next=9;break}return a.next=6,Ru(Ml);case 6:a.t0=a.sent,a.next=12;break;case 9:return a.next=11,Ru(Dl,r);case 11:a.t0=a.sent;case 12:return o=a.t0,a.next=15,Tu(Object(Pd.a)({conversationId:r,includeAll:c,closed:!0,surveyUrl:o.surveyUrl}));case 15:n&&n.resolve(),a.next=22;break;case 18:a.prev=18,a.t1=a.catch(0),e.promise&&e.promise.reject(),Object(Pt.b)(a.t1);case 22:case"end":return a.stop()}}),Rb,null,[[0,18]])}function MO(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.h,DO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Nb,null,[[0,5]])}function PO(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.l,RO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Lb,null,[[0,5]])}function UO(e){var t,n,r,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.query,r=t.conversationId,c=t.faqAttachment,o=t.locale,a.next=4,Ru(Hl,r,n,c,o);case 4:i=a.sent,e.promise&&e.promise.resolve(i),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),e.promise&&e.promise.reject(),Object(Pt.b)(a.t0);case 12:case"end":return a.stop()}}),Db,null,[[0,8]])}function BO(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.A,UO);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Mb,null,[[0,5]])}function FO(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=Gd()(e,(function(e,t){var n=gb.a.getParticipants(t);return oo()(n,(function(n){e.push({sender:n,conversationId:t.id})})),e}),[]),n.next=4,Ru(Zd,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),Pb,null,[[0,6]])}function GO(){var e,t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;case 1:return a.prev=2,a.next=5,ku(Se.f);case 5:return e=a.sent,a.next=8,Ru(Sl,e.payload);case 8:return t=a.sent,a.next=11,Ru(FO,t.results);case 11:return a.next=13,Mu(dc.h);case 13:return n=a.sent,r=Object(Os.b)(n),c=Object(Os.d)(n),a.next=18,Tu({payload:{conversationResponse:t,botUserIds:r,chatUserId:c},type:Se.g});case 18:a.next=23;break;case 20:a.prev=20,a.t0=a.catch(2),Object(Pt.b)(a.t0);case 23:a.next=1;break;case 25:a.next=30;break;case 27:a.prev=27,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 30:case"end":return a.stop()}}),Ub,null,[[0,27],[2,20]])}function WO(){var e,t,n,r,c,o,i,s,u;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;case 1:return e=void 0,t=void 0,n=void 0,a.next=5,ku(Se.s);case 5:return r=a.sent,t=r.payload.caseId,e=r.payload.conversationId,n=r.payload.context,a.next=11,Mu(dc.h);case 11:return c=a.sent,o=Object(Os.b)(c),i=Object(Os.d)(c),a.prev=14,a.next=17,Ru(Nl,r.payload.caseId);case 17:return s=a.sent,a.next=20,Tu({payload:{caseId:t,conversationResponse:s,botUserIds:o,chatUserId:i},type:Se.t});case 20:a.next=40;break;case 22:if(a.prev=22,a.t0=a.catch(14),a.prev=24,Object(Gn.a)(a.t0)){a.next=33;break}return a.next=28,Ru(Vl,Object.assign({createCase:!0,caseId:t},n));case 28:return u=a.sent,a.next=31,Tu({payload:{caseId:t,conversationResponse:u,botUserIds:o,chatUserId:i},type:Se.t});case 31:a.next=34;break;case 33:throw a.t0;case 34:a.next=40;break;case 36:return a.prev=36,a.t1=a.catch(24),a.next=40,Tu({payload:{conversationId:e,error:Mf(a.t1)},type:Se.u});case 40:a.next=1;break;case 42:a.next=47;break;case 44:a.prev=44,a.t2=a.catch(0),Object(Pt.b)(a.t2);case 47:case"end":return a.stop()}}),Bb,null,[[0,44],[14,22],[24,36]])}function zO(){var e,t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;case 1:return e=void 0,a.prev=3,a.next=6,ku(Se.v);case 6:return t=a.sent,e=t.payload.conversationId,a.next=10,Ru(Rl,t.payload.conversationId);case 10:return n=a.sent,a.next=13,Mu(dc.h);case 13:return r=a.sent,c=Object(Os.b)(r),o=Object(Os.d)(r),a.next=18,Tu({payload:{conversationResponse:n,botUserIds:c,chatUserId:o},type:Se.w});case 18:a.next=25;break;case 20:return a.prev=20,a.t0=a.catch(3),a.next=24,Tu({payload:{conversationId:e,error:Mf(a.t0)},type:Se.x});case 24:Object(Pt.b)(a.t0);case 25:a.next=1;break;case 27:a.next=32;break;case 29:a.prev=29,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 32:case"end":return a.stop()}}),Fb,null,[[0,29],[3,20]])}function VO(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;case 1:return a.next=4,Mu(jO);case 4:if(t=a.sent,a.prev=5,!t){a.next=16;break}return n=e.payload,r=n.conversationId,a.next=11,Ru(Fl,r,n.messageId);case 11:return c=a.sent,o=AO(c,r),a.next=15,Ru(Ef,o);case 15:return a.abrupt("return",o);case 16:return a.next=18,ku(Qd.e);case 18:a.next=25;break;case 20:if(a.prev=20,a.t0=a.catch(5),Object(Pt.b)(a.t0),Object(Gn.c)(a.t0)){a.next=25;break}return a.abrupt("break",27);case 25:a.next=1;break;case 27:return a.abrupt("return",null);case 30:return a.prev=30,a.t1=a.catch(0),Object(Pt.b)(a.t1),a.abrupt("return",null);case 34:case"end":return a.stop()}}),Gb,null,[[0,30],[5,20]])}function HO(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload,n.next=4,Tu(Object(Pd.k)({type:t.actionType,payload:Xt()(e.payload,["actionType"])}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),Wb,null,[[0,6]])}function YO(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ru(VO,e);case 3:if(!(t=n.sent)){n.next=7;break}return n.next=7,Tu({type:Se.I,payload:{chatMessage:t,conversationId:wl.a.getConversationId(t)}});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}}),zb,null,[[0,9]])}function qO(e){var t,n,r,c,o,i,s,u,d,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Mu(dc.c);case 3:return t=a.sent,n=Object(ki.p)(t),a.t0=Os.c,a.next=8,Mu(dc.h);case 8:if(a.t1=a.sent,r=(0,a.t0)(a.t1),c=e.payload,o=c.sender,i=c.deleted,s=c.closed,u=c.caseNumber,d=c.conversationId,l=Object(ki.f)(n,d),o===r.userId&&(!u||!l||l.caseNumber||i||s)){a.next=18;break}return a.next=15,Tu(Object(Pd.a)(e.payload));case 15:if(!u||!l||l.caseNumber){a.next=18;break}return a.next=18,Tu(Object(ir.c)({action:Xc.a.NEW_CONVERSATION_CREATED,conversationId:d,additional:{caseNumber:u}}));case 18:a.next=23;break;case 20:a.prev=20,a.t2=a.catch(0),Object(Pt.b)(a.t2);case 23:case"end":return a.stop()}}),Vb,null,[[0,20]])}function KO(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.videoCallEnabled,c=t.audioCallEnabled,a.next=4,Tu({type:Se.d,payload:{conversationId:n,videoCallEnabled:r,audioCallEnabled:c}});case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 9:case"end":return a.stop()}}),Hb,null,[[0,6]])}function XO(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.payload,!gO(t.actionParams.actionType)){n.next=7;break}return n.next=6,Ru(ub,e);case 6:e.promise.resolve();case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}}),Yb,null,[[0,9]])}function ZO(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.actionParams,r=t.conversationId,n.actionType!==hb.a.ACCOUNT_LINK){a.next=6;break}return c=Object(yb.a)(n.actionId,n.attachment),a.next=6,Tu(Object(ir.a)({ssoId:c.accountLinkUrl,conversationId:r,messageId:n.messageId})(e.promise));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 11:case"end":return a.stop()}}),qb,null,[[0,8]])}function JO(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.actionParams,n=t.attachment,r=t.values,c=n,a.next=5,Ru(Al,c.submitResponseUrl,c.httpHeaders,r.secureData);case 5:return o=a.sent,a.abrupt("return",{maskedData:r.maskedData,secureFormId:o});case 9:return a.prev=9,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",null);case 13:case"end":return a.stop()}}),Kb,null,[[0,9]])}function QO(e){var t,n,r,c,o,i,s,u;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.actionParams,r=n.messageId,c=n.actionType,o=n.values,i=t.conversationId,c!==hb.a.ACCEPT_CO_BROWSE){a.next=11;break}return a.next=5,Mu((function(e){return Object(ki.j)(Object(ki.l)(Object(dc.c)(e),i),r)}));case 5:return s=a.sent,u=wl.a.getSender(s),a.next=9,Tu(Object(Tc.d)({messageId:r,conversationId:i,agentId:u}));case 9:return a.next=11,Lu(of,{messageId:r});case 11:return a.abrupt("return",o);case 14:return a.prev=14,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",null);case 18:case"end":return a.stop()}}),Xb,null,[[0,14]])}function $O(e){var t,n,r,c,o,i,s,u,d,p;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.actionParams,r=n.attachment,c=n.actionId,o=n.values,i=n.messageId,s=t.conversationId,u=l()(Object(yb.a)(c,r),"surveyUrl",""),a.next=5,Tu(Object(Pd.e)({surveyUrl:u,conversationId:s}));case 5:return a.next=7,Tu({type:Se.V,payload:{messageId:i,conversationId:s,attachment:r}});case 7:return a.next=9,Su([ku(Se.W),ku(Se.T),ku(Se.X)]);case 9:if(d=a.sent,p=Object(qt.a)(d,1),p[0]){a.next=14;break}return a.abrupt("return",null);case 14:return a.abrupt("return",o);case 17:return a.prev=17,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",null);case 21:case"end":return a.stop()}}),Zb,null,[[0,17]])}function ev(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload.actionParams,n=t.actionType,r=t.values,!TO(n)){a.next=6;break}return a.next=5,Ru(JO,e);case 5:case 9:case 13:return a.abrupt("return",a.sent);case 6:if(!_O(n)){a.next=10;break}return a.next=9,Ru(QO,e);case 10:if(!yO(n)){a.next=14;break}return a.next=13,Ru($O,e);case 14:return a.abrupt("return",r);case 17:return a.prev=17,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",null);case 21:case"end":return a.stop()}}),Jb,null,[[0,17]])}function tv(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.actionParams,r=t.appContext,gO(o=n.actionType)||mO(o)||xO(o)||IO(o)||wO(o)||EO(o)||CO(o)||kO(o)){a.next=20;break}return a.prev=4,a.next=7,Ru(ev,e);case 7:if(c=a.sent,u()(c)){a.next=13;break}return a.next=11,Tu(Object(Pd.o)({conversationId:t.conversationId,sender:t.sender,postback:{attachment:n.attachment,values:c,additional:n.additional,appContext:r,messageId:n.messageId,postbackId:n.actionId,postbackType:n.actionType},inReplyToChatMessageId:t.inReplyToChatMessageId})(e.promise));case 11:a.next=14;break;case 13:e.promise&&e.promise.resolve();case 14:a.next=20;break;case 16:a.prev=16,a.t0=a.catch(4),Object(g.a)(a.t0),e.promise.reject();case 20:a.next=25;break;case 22:a.prev=22,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 25:case"end":return a.stop()}var o}),Qb,null,[[0,22],[4,16]])}function nv(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload,!mO((n=t.actionParams).actionType)){r.next=6;break}return r.next=6,Tu(Object(Pd.f)({attachment:n.attachment,actionId:n.actionId})(e.promise));case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 11:case"end":return r.stop()}}),$b,null,[[0,8]])}function rv(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=e.payload,!xO((n=t.actionParams).actionType)){r.next=6;break}return r.next=6,Tu(Object(Pd.d)({attachment:n.attachment,actionId:n.actionId})(e.promise));case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 11:case"end":return r.stop()}}),eO,null,[[0,8]])}function av(e){var t,n,r,c,o,i,s,u,d,p,f,b,O,v,h,j,g;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,r=e.payload,c=r.actionParams,o=c.actionId,i=c.actionType,s=c.attachment,u=c.messageId,d=c.values,p=r.conversationId,f=r.appContext,!kO(i)){a.next=12;break}return d.callMode&&d.participantPermissions||Object(Pt.b)("Call mode (".concat(d.callMode,") or participant permissions (").concat(d.participantPermissions,") unset")),b=d.audioOnly?pc.b.AUDIO:pc.b.VIDEO,O=null!==(t=d.callMode)&&void 0!==t?t:Object(xb.b)(b),a.next=9,Tu(Object(vb.o)({conversationId:p,isPhone:f.isPhone,type:b,isIncomingCall:d.isIncomingCall,videoConversationId:d.videoChatConversationId,participantPermissions:null!==(n=d.participantPermissions)&&void 0!==n?n:Object(xb.c)(O),callMode:O,prevState:Object(mb.a)(d.currentState,d.isIncomingCall)}));case 9:e.promise&&e.promise.resolve(),a.next=27;break;case 12:if(!CO(i)&&!EO(i)){a.next=27;break}return a.next=15,Mu(dc.b);case 15:if(v=a.sent,!Object(lc.a)(v)){a.next=20;break}return e.promise&&e.promise.reject(),a.abrupt("return");case 20:return h=CO(i)?pc.b.VIDEO:pc.b.AUDIO,j=l()(Object(yb.a)(o,s),"title",""),g={},o&&(g={sourceButtonId:o,messageId:u,messageText:j}),a.next=26,Tu(Object(vb.g)(Object.assign({conversationId:p,isPhone:f.isPhone,type:h},g)));case 26:e.promise&&e.promise.resolve();case 27:a.next=32;break;case 29:a.prev=29,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 32:case"end":return a.stop()}}),tO,null,[[0,29]])}function cv(e){var t,n,r,c,o,i,s,u,d,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.actionParams,r=t.conversationId,c=t.appContext,o=IO(n.actionType),i=wO(n.actionType),!o&&!i){a.next=34;break}return a.prev=6,a.next=9,Mu(dc.c);case 9:if(d=a.sent,s=Object(ki.j)(Object(ki.l)(d,r),n.messageId),!o){a.next=19;break}return a.next=14,Tu({type:Se.I,payload:{chatMessage:G()(s,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:r}});case 14:return a.next=16,Ru(Wl,{selectedDate:n.values.selectedDate,slotDefinitionId:n.attachment.slotDefinitionConfigId,timeZone:c.timeZone,appointmentAssetParams:n.attachment.params,messageId:n.messageId});case 16:return u=a.sent,a.next=19,Tu({type:Se.I,payload:{chatMessage:G()(s,{messagePayload:{attachment:{$merge:{slots:u}}}}),conversationId:r}});case 19:if(!i){a.next=27;break}return a.next=22,Ru(zl,{selectedDate:n.values.selectedDate,selectedSlot:n.values.selectedSlot,timeZone:c.timeZone,slotDefinitionId:n.attachment.slotDefinitionConfigId,appointmentAssetParams:n.attachment.params,messageId:n.messageId});case 22:if(u=a.sent,l=u.reservationId){a.next=27;break}return a.next=27,Tu({type:Se.I,payload:{chatMessage:G()(s,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},u.slots?{slots:u.slots}:{}),u.availableDates?{availableDates:u.availableDates}:{})}}}),conversationId:r}});case 27:e.promise.resolve({actionType:n.actionType,response:{reservationId:l,selectedSlot:n.values.selectedSlot,selectedDate:n.values.selectedDate,visibleSlots:n.values.visibleSlots}}),a.next=34;break;case 30:a.prev=30,a.t0=a.catch(6),Object(Pt.b)(a.t0),e.promise.reject({actionType:n.actionType,response:{error:u}});case 34:a.next=39;break;case 36:a.prev=36,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 39:case"end":return a.stop()}}),nO,null,[[0,36],[6,30]])}function ov(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u([Ru(XO,e),Ru(tv,e),Ru(nv,e),Ru(rv,e),Ru(ZO,e),Ru(cv,e),Ru(av,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),rO,null,[[0,5]])}function iv(e,t){var n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=G()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Xt()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),r=new Promise((function(e,t){n.promise={resolve:e,reject:t}})),a.next=5,Ru(ov,n);case 5:return a.abrupt("return",r);case 8:return a.prev=8,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",null);case 12:case"end":return a.stop()}}),aO,null,[[0,8]])}function sv(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(Object(a.a)().mark((function t(){var n,r,c,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={},r={},t.prev=2,c=e.payload.actionParams.actionTypes,o=0;case 5:if(!(o<yl()(c))){t.next=13;break}return t.next=8,Ru(iv,e,c[o]);case 8:t.sent.then((function(e){r=ro()(r,e)}),(function(e){n=ro()(n,e)}));case 10:o+=1,t.next=5;break;case 13:e.promise.resolve(r),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(2),e.promise.reject(n),Object(Pt.b)(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,16]])}))(),"t0",2);case 2:t.next=7;break;case 4:t.prev=4,t.t1=t.catch(0),Object(Pt.b)(t.t1);case 7:case"end":return t.stop()}}),cO,null,[[0,4]])}function uv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.c,sv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),oO,null,[[0,5]])}function dv(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.prev=1,r=e.payload.disclaimerStatus,a.next=5,Mu(dc.c);case 5:return c=a.sent,o=Object(ki.p)(c),t=e.payload.conversationId,n=l()(Object(ki.h)(o,t),"disclaimerStatus"),a.next=11,Tu({type:Se.r,payload:{conversationId:t,disclaimerStatus:r}});case 11:return a.next=13,Ru(Bl,t,r);case 13:e.promise.resolve(),a.next=22;break;case 16:return a.prev=16,a.t0=a.catch(1),e.promise.reject(),a.next=21,Tu({type:Se.r,payload:{conversationId:t,disclaimerStatus:n}});case 21:Object(Pt.b)(a.t0);case 22:a.next=27;break;case 24:a.prev=24,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 27:case"end":return a.stop()}}),iO,null,[[0,24],[1,16]])}function lv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.q,dv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),sO,null,[[0,5]])}var pv={field:"closed",values:[!0],filterType:jb.a.NIN};function fv(e){var t,n,r,c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.context,r=t.filters,a.next=4,Mu(dc.c);case 4:if(c=a.sent,o=Object(ki.u)(c),i=r||pv,!(s=wi()(o.ids,(function(e){var t=!1;return!!f()(i)||(Ib.a.createFilterAction(i,{getFilterBuilder:Ib.a.createFilterAction}).matches(o.byId[e],{logOnFailure:!0})&&(t=!0),t)})))){a.next=14;break}return a.next=11,Ru(SO,ql,{context:n,conversationId:s});case 11:e.promise.resolve(),a.next=15;break;case 14:e.promise.reject(Rf.a.NOT_FOUND);case 15:a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),e.promise.reject(Mf(a.t0)),Object(Pt.b)(a.t0);case 21:case"end":return a.stop()}}),uO,null,[[0,17]])}function bv(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ku(Se.g);case 3:return t.next=5,Ru(fv,e);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.promise.reject(Mf(t.t0)),Object(Pt.b)(t.t0);case 11:case"end":return t.stop()}}),dO,null,[[0,7]])}function Ov(e){var t,n,r,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.context,r=t.conversationId,c=t.includeDeleted,!r){a.next=7;break}return a.next=5,Ru(SO,ql,{context:n,conversationId:r});case 5:return e.promise.resolve(),a.abrupt("return");case 7:if(!c){a.next=12;break}return a.next=10,Ru(SO,Yl,{context:n,updateLatest:c});case 10:return e.promise.resolve(),a.abrupt("return");case 12:return a.next=14,Mu(dc.c);case 14:if(o=a.sent,i=Object(ki.p)(o),!Object(ki.b)(i)){a.next=21;break}return a.next=20,Ru(fv,e);case 20:return a.abrupt("return");case 21:return a.next=23,Nu(bv,e);case 23:a.next=29;break;case 25:a.prev=25,a.t0=a.catch(0),e.promise.reject(Mf(a.t0)),Object(Pt.b)(a.t0);case 29:case"end":return a.stop()}}),lO,null,[[0,25]])}function vv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.k,Ov);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),pO,null,[[0,5]])}function hv(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.lastReadMessageId,n.next=4,Ru(Eb,{type:"MESSAGE_READ",payload:{messageId:t}});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),fO,null,[[0,6]])}function jv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.O,hv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),bO,null,[[0,5]])}function gv(e){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ru(Zl);case 3:return t=e.sent,e.next=6,Tu({payload:{openConversationCount:t},type:Se.ab});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 11:case"end":return e.stop()}}),OO,null,[[0,8]])}function mv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Md(Se.B,gv);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),vO,null,[[0,5]])}function xv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(GO),Nu(zO),Nu(BO),Nu(nb),Nu(PO),Nu(LO),Nu(MO),Nu(dp),Nu(yp),Nu(Ep),Nu(uv),Nu(vv),Nu(WO),Nu(lv),Nu(jv),Nu(Ob),Nu(mv)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),hO,null,[[0,5]])}var yv=Object(a.a)().mark(Av),Iv=Object(a.a)().mark(Rv),wv=Object(a.a)().mark(Nv),Cv=Object(a.a)().mark(Lv),Ev=Object(a.a)().mark(Dv),kv=Object(a.a)().mark(Mv),Tv={},_v="START_TYPING",Sv="STOP_TYPING";function Av(e,t){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ru(Eb,{type:e,payload:{conversationId:t}});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 8:case"end":return n.stop()}}),yv,null,[[0,5]])}function Rv(e,t){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Nu(Av,_v,e);case 3:return n.next=5,Uu(25e3);case 5:return n.next=7,ku(t);case 7:n.next=0;break;case 9:case"end":return n.stop()}}),Iv)}function Nv(e,t){var n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=rd(bu.dropping(1)),a.next=4,Nu(Rv,e,n);case 4:r=a.sent;case 5:return a.next=8,ku(t);case 8:if((c=a.sent).type!==Se.bb){a.next=13;break}n.put(c),a.next=14;break;case 13:return a.abrupt("break",16);case 14:a.next=5;break;case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 21:return a.prev=21,a.next=24,Nu(Av,Sv,e);case 24:return n&&n.close(),r&&r.cancel(),a.finish(21);case 27:case"end":return a.stop()}}),wv,null,[[0,18,21,27]])}function Lv(e,t){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=1,void 0,n.next=5,ku(t);case 5:if(n.sent.type===Se.bb){n.next=8;break}return n.abrupt("continue",0);case 8:return n.next=10,Ru(Nv,e,t);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),Object(Pt.b)(n.t0);case 15:n.next=0;break;case 17:case"end":return n.stop()}}),Cv,null,[[1,12]])}function Dv(){var e,t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,Su([ku(Se.bb),ku(Se.cb)]);case 4:if(e=a.sent,t=Io()(e)[0],n=t.payload.conversationId,r=Tv[n]){a.next=13;break}return r=rd(bu.sliding(1)),Tv[n]=r,a.next=13,Nu(Lv,n,r);case 13:r.put(t),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),Object(Pt.b)(a.t0);case 19:a.next=0;break;case 21:case"end":return a.stop()}}),Ev,null,[[1,16]])}function Mv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Dv);case 2:case"end":return e.stop()}}),kv)}var Pv=n(734),Uv=n.n(Pv),Bv=n(797),Fv=n.n(Bv),Gv=Object(a.a)().mark(Xv),Wv=Object(a.a)().mark(Zv),zv=Object(a.a)().mark(Jv),Vv=Object(a.a)().mark(Qv),Hv=Object(a.a)().mark($v),Yv=Object(a.a)().mark(eh),qv={};function Kv(e,t){return"".concat(e,"_").concat(t)}function Xv(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uu(3e4);case 2:throw new Error("");case 3:case"end":return e.stop()}}),Gv)}function Zv(e,t,n,r){var c,o,i,s,u;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Tu({type:Se.a,payload:{conversationId:t,userId:n,actionTime:r}});case 2:return a.prev=2,a.next=5,Nu(Xv);case 5:c=a.sent;case 6:return a.next=9,ku(e);case 9:if((o=a.sent).type!==ut){a.next=21;break}if(c.isCancelled()){a.next=14;break}return a.next=14,Du(c);case 14:return a.next=16,Nu(Xv);case 16:return c=a.sent,a.next=19,Tu({type:Se.a,payload:{conversationId:t,userId:n,actionTime:o.payload.actionTime}});case 19:a.next=28;break;case 21:return a.next=23,Mu(dc.c);case 23:if(i=a.sent,s=Object(ki.l)(i,t),!((u=Object(ki.s)(s,n))&&wl.a.getCreationTime(u)<o.payload.actionTime)){a.next=28;break}return a.abrupt("break",30);case 28:a.next=6;break;case 30:a.next=35;break;case 32:a.prev=32,a.t0=a.catch(2),Object(Pt.b)(a.t0);case 35:return a.prev=35,a.next=38,Tu({type:Se.b,payload:{conversationId:t,userId:n}});case 38:if(c.isCancelled()){a.next=41;break}return a.next=41,Du(c);case 41:return a.finish(35);case 42:case"end":return a.stop()}}),Wv,null,[[2,32,35,42]])}function Jv(e,t,n){var r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,r=void 0,a.next=5,ku(e);case 5:if((r=a.sent).type===ut){a.next=8;break}return a.abrupt("continue",0);case 8:return a.next=10,Ru(Zv,e,t,n,r.payload.actionTime);case 10:a.next=14;break;case 12:a.prev=12,a.t0=a.catch(1);case 14:a.next=0;break;case 16:case"end":return a.stop()}}),zv,null,[[1,12]])}function Qv(e){var t,n,r,c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.conversationId,r=t.sender,a.next=3,Mu(dc.h);case 3:if(c=a.sent,o=Tf()(Object(Pf.e)(c,r)),i=Kv(n,o),s=qv[i]){a.next=12;break}return s=rd(bu.sliding(1)),qv[i]=s,a.next=12,Nu(Jv,s,n,o);case 12:s.put(e);case 13:case"end":return a.stop()}}),Vv)}function $v(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.map((function(e){return Ru(Qv,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Hv,null,[[0,5]])}function eh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.map((function(e){return Ru(Qv,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Yv,null,[[0,5]])}var th=function(){var e=new Set;return{add:function(t){return e.add(t)},has:function(t){return e.has(t)},delete:function(t){return e.delete(t)},clear:function(){return e.clear()}}}(),nh=function(){var e=[];return{set:function(t){e=t},get:function(){return e},push:function(t){e=[].concat(Object(r.a)(e),Object(r.a)(Bd()(t)))},clear:function(){e=[]}}}(),rh=Object(a.a)().mark(hh),ah=Object(a.a)().mark(jh),ch=Object(a.a)().mark(gh),oh=Object(a.a)().mark(mh),ih=Object(a.a)().mark(xh),sh=Object(a.a)().mark(yh),uh=Object(a.a)().mark(Ih),dh=Object(a.a)().mark(wh),lh=Object(a.a)().mark(Ch),ph=Object(a.a)().mark(Eh),fh=Object(a.a)().mark(kh);function bh(e){return e.type===ct}function Oh(e){return e.type===ut}function vh(e){return e.type===dt}function hh(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(t=e.data)){a.next=9;break}return a.next=5,Mu(dc.h);case 5:return n=a.sent,r=Object(Pf.e)(n,wl.a.getSender(t)),a.next=9,Tu(Object(Pd.g)(t,r));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 14:case"end":return a.stop()}}),rh,null,[[0,11]])}function jh(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.filter(bh),r.next=4,_u(t.map((function(e){return Ru(hh,e)})));case 4:if(n=t.reduce((function(e,t){var n=t.data;return n&&e.push(wl.a.getId(n)),e}),[]),f()(n)){r.next=8;break}return r.next=8,Ru(Jl,n);case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 13:case"end":return r.stop()}}),ah,null,[[0,10]])}function gh(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,(t=e.filter(Oh)).length){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,Ru($v,t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 11:case"end":return n.stop()}}),ch,null,[[0,8]])}function mh(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,(t=e.filter(vh)).length){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,Ru(eh,t);case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 11:case"end":return n.stop()}}),oh,null,[[0,8]])}function xh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u([Ru(jh,e),Ru(gh,e),Ru(mh,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),ih,null,[[0,5]])}function yh(e){var t,n,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.id,n=e.data,th.add(t),oo()(nh.get(),(function(e){if(e.id===t)return e.data=n,!1})),t!==l()(Tf()(nh.get()),"id")){a.next=9;break}return c=Gd()(nh.get(),(function(e,t){return th.has(t.id)&&f()(e.unresolvedEvents)?(th.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[].concat(Object(r.a)(e.resolvedEvents),[t])})):Object.assign(Object.assign({},e),{unresolvedEvents:[].concat(Object(r.a)(e.unresolvedEvents),[t])})}),{resolvedEvents:[],unresolvedEvents:[]}),o=c.resolvedEvents,i=c.unresolvedEvents,nh.set(i),a.next=9,Nu(xh,o);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 14:case"end":return a.stop()}}),sh,null,[[0,11]])}function Ih(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!bh(e)){n.next=7;break}return n.next=4,Ru(VO,e);case 4:return t=n.sent,n.next=7,Ru(yh,{id:e.id,data:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}}),uh,null,[[0,9]])}function wh(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!Oh(e)){n.next=7;break}return t=Fv()(e.payload,["conversationId","sender"]),n.next=5,Ru(Zd,t);case 5:return n.next=7,Ru(yh,{id:e.id,data:{}});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}}),dh,null,[[0,9]])}function Ch(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!vh(e)){t.next=4;break}return t.next=4,Ru(yh,{id:e.id,data:{}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 9:case"end":return t.stop()}}),lh,null,[[0,6]])}function Eh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u([Ru(Ih,e),Ru(wh,e),Ru(Ch,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),ph,null,[[0,5]])}function kh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,nh.push(e),t.next=4,_u(e.map((function(e){return Nu(Eh,e)})));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 9:case"end":return t.stop()}}),fh,null,[[0,6]])}var Th=n(1211),_h=n.n(Th),Sh=Object(a.a)().mark(Gh),Ah=Object(a.a)().mark(Wh),Rh=Object(a.a)().mark(zh),Nh=Object(a.a)().mark(Vh),Lh=Object(a.a)().mark(Hh),Dh=Object(a.a)().mark(Yh);function Mh(e){return e.type===ot}function Ph(e){return e.type===vt}function Uh(e){return e.type===st}function Bh(e){return e.type===it}function Fh(e){return e.type===ft}function Gh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Bh).map((function(e){return Ru(HO,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Sh,null,[[0,5]])}function Wh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Mh).map((function(e){return Ru(YO,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Ah,null,[[0,5]])}function zh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(_h()(e.filter(Uh).map((function(e){return[Ru(Jd,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),Tu(Object(ir.c)({conversationId:e.payload.conversationId,action:Xc.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]}))));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Rh,null,[[0,5]])}function Vh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Fh).map((function(e){return Ru(qO,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Nh,null,[[0,5]])}function Hh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Ph).map((function(e){return Ru(KO,e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Lh,null,[[0,5]])}function Yh(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u([Ru(Gh,e),Ru(Wh,e),Ru(zh,e),Ru(Vh,e),Ru(Hh,e)]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Dh,null,[[0,5]])}var qh=Object(a.a)().mark(Qh),Kh=Object(a.a)().mark($h),Xh=Object(a.a)().mark(ej),Zh=Object(a.a)().mark(tj),Jh=[ct,ut,dt];function Qh(e){var t,n,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.events,n=[],c=[],oo()(t,(function(e){Tl()(Jh,e.type)?n=[].concat(Object(r.a)(n),[Object.assign(Object.assign({},e),{id:Uv()()})]):c=[].concat(Object(r.a)(c),[e])})),a.next=7,Ru(kh,n);case 7:return a.next=9,Ru(Yh,c);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 14:case"end":return a.stop()}}),qh,null,[[0,11]])}function $h(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Qd.k,Qh);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Kh,null,[[0,5]])}function ej(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ku(Cd.c);case 3:th.clear(),nh.clear(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 9:case"end":return e.stop()}}),Xh,null,[[0,6]])}function tj(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu($h),Nu(ej)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Zh,null,[[0,5]])}var nj=n(713),rj=n(765),aj=Object(a.a)().mark(uj),cj=Object(a.a)().mark(dj),oj=Object(a.a)().mark(lj),ij=Object(a.a)().mark(pj),sj=function(e){var t=sn.a.getNoDisplayConfigFilter(e);return!f()(t)&&Object(rj.c)(t,nj.a.IS_CONVERSATION_OPEN)};function uj(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Mu(dc.c);case 3:if(t=r.sent,n=Object(ki.p)(t),Object(ki.b)(n)){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,Tu(Object(Pd.b)({shouldFetchNumberOfOpenConversation:sj(e.applicationConfig),size:n.ids.length}));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 14:case"end":return r.stop()}}),aj,null,[[0,11]])}function dj(){var e,t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Mu(dc.c);case 3:if(e=a.sent,t=Object(ki.p)(e),n=Object(ki.n)(e),!(r=Gd()(n,(function(e,n,r){var a=n.messages;if(!r.startsWith(Na.e)&&Object(ki.a)(a)&&!Object(ki.y)(t,r)){var c=Object(Pd.c)(r,{size:Object(ki.k)(a).length})();e.push(Tu(c))}return e}),[])).length){a.next=10;break}return a.next=10,_u(r);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 15:case"end":return a.stop()}}),cj,null,[[0,12]])}function lj(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_u([Nu(uj,e),Nu(dj)]);case 2:case"end":return t.stop()}}),oj)}function pj(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ku(Cd.a);case 2:return e=n.sent,t=e.payload.applicationConfig,n.next=6,Ld(Qd.l,lj,{applicationConfig:t});case 6:case"end":return n.stop()}}),ij)}var fj=Object(a.a)().mark(bj);function bj(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(xv),Nu(Mv),Nu(tj),Nu(pj)]);case 2:case"end":return e.stop()}}),fj)}var Oj=Object(a.a)().mark(hj),vj=Object(a.a)().mark(jj);function hj(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.t0=Os.c,r.next=5,Mu(dc.h);case 5:return r.t1=r.sent,n=(0,r.t0)(r.t1),r.next=9,Ru(Wd.c,Object.assign(Object.assign({},n),{customContext:t}));case 9:return r.next=11,Tu(Object(ir.c)({action:Xc.a.USER_PROFILE_UPDATED}));case 11:r.next=16;break;case 13:r.prev=13,r.t2=r.catch(0),Object(Pt.b)(r.t2);case 16:case"end":return r.stop()}}),Oj,null,[[0,13]])}function jj(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(W.d,hj);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),vj,null,[[0,5]])}var gj=Object(a.a)().mark(xj),mj=Object(a.a)().mark(yj);function xj(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,Ru(Wd.b,t);case 4:return n=a.sent,e.promise.resolve(n),r=n.results,a.next=9,Tu({type:W.e,payload:{users:r}});case 9:a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),e.promise.reject(a.t0),Object(Pt.b)(a.t0);case 15:case"end":return a.stop()}}),gj,null,[[0,11]])}function yj(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(W.c,xj);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),mj,null,[[0,5]])}var Ij=Object(a.a)().mark(wj);function wj(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(jj),Nu(yj)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Ij,null,[[0,5]])}var Cj=n(913),Ej=Object(a.a)().mark(Fj),kj=Object(a.a)().mark(Gj),Tj=Object(a.a)().mark(Wj),_j=Object(a.a)().mark(zj),Sj=Object(a.a)().mark(Vj),Aj=Object(a.a)().mark(Hj),Rj=Object(a.a)().mark(Yj),Nj=Object(a.a)().mark(qj);function Lj(e){return e.type===bt}function Dj(e){return e.type===Ot}function Mj(e){return e.type===jt}function Pj(e){return e.type===gt}function Uj(e){return e.type===ht}function Bj(e){return e.type===wt}function Fj(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.t0=Os.c,n.next=4,Mu(dc.h);case 4:return n.t1=n.sent,t=(0,n.t0)(n.t1),n.next=8,_u(e.filter(Lj).map((function(e){var n,r,a=e.payload.participantInfos.find((function(e){return e.snId===t.userId})),c=e.payload.type,o=null!==(n=null===a||void 0===a?void 0:a.callMode)&&void 0!==n?n:Object(xb.b)(c),i=null!==(r=null===a||void 0===a?void 0:a.permissions)&&void 0!==r?r:Object(xb.c)(o);return Tu(Object(vb.n)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,callMode:o,permissions:i,participantInfos:e.payload.participantInfos,type:c}))})));case 8:n.next=13;break;case 10:n.prev=10,n.t2=n.catch(0),Object(Pt.b)(n.t2);case 13:case"end":return n.stop()}}),Ej,null,[[0,10]])}function Gj(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Dj).map((function(e){return Tu(Object(vb.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId}))})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),kj,null,[[0,5]])}function Wj(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Mu(dc.b);case 3:return t=r.sent,n=Object(lc.f)(t),r.next=7,_u(e.filter(Pj).map((function(e){return Tu(n.videoConversationId===e.payload.videoConversationId?Object(vb.i)({videoConversationId:e.payload.videoConversationId,reason:pc.e.AGENT_ASSIGNMENT_FAILED}):Object(vb.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId}))})));case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 12:case"end":return r.stop()}}),Tj,null,[[0,9]])}function zj(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Mj).map((function(e){return Tu(Object(vb.i)({videoConversationId:e.payload.videoConversationId,reason:pc.e.AGENT_ASSIGNMENT_FAILED}))})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),_j,null,[[0,5]])}function Vj(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Uj).map((function(e){return Tu(Object(vb.t)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}}))})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Sj,null,[[0,5]])}function Hj(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(Bj).map((function(e){return Tu({type:Cj.v,payload:{videoConversationId:e.payload.videoConversationId,participantPermissions:e.payload.permissions,callMode:e.payload.callMode}})})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),Aj,null,[[0,5]])}function Yj(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,_u([Ru(Gj,t),Ru(Fj,t),Ru(zj,t),Ru(Vj,t),Ru(Wj,t),Ru(Hj,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),Rj,null,[[0,6]])}function qj(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Qd.k,Yj);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Nj,null,[[0,5]])}var Kj="video-chat/conversation";function Xj(e){var t=e.videoConversationId,n=e.shouldWaitForConnection;return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(Kj,"/accept/").concat(t,"?shouldWaitForConnection=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))}function Zj(e){var t=e.videoConversationId;return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wd.a.post("".concat(Kj,"/leave/").concat(t)));case 1:case"end":return e.stop()}}),e)})))}function Jj(e){var t=e.conversationId,n=e.audioOnly,r=e.messageText,c=e.sourceButtonId,o=e.postBackChatMessageId,i=e.shouldWaitForConnection,s=e.videoConversationId,u=e.activityEventType;return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function e(){var d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wd.a.post("".concat(Kj,"/initiate/").concat(t),{audioOnly:n,messageText:r,clickedButtonId:c,postBackChatMessageId:o,shouldWaitForConnection:i,videoChatConversationId:s,activityEventType:u});case 2:return d=e.sent,e.abrupt("return",d.data);case 4:case"end":return e.stop()}}),e)})))}function Qj(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.get("".concat(Kj,"/participant/connected/").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}function $j(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wd.a.get("".concat(Kj,"/fetch/ongoing/conversation?caseId=").concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}var eg=Object(a.a)().mark(fg),tg=Object(a.a)().mark(bg),ng=Object(a.a)().mark(Og),rg=Object(a.a)().mark(vg),ag=Object(a.a)().mark(hg),cg=Object(a.a)().mark(jg),og=Object(a.a)().mark(gg),ig=Object(a.a)().mark(mg),sg=Object(a.a)().mark(xg),ug=Object(a.a)().mark(yg),dg=Object(a.a)().mark(Ig),lg=Object(a.a)().mark(wg),pg=Object(a.a)().mark(Cg);function fg(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.notifyAgent,r=t.isIncomingCall,c=t.callDetails,o=t.videoConversationId,n){a.next=4;break}return a.abrupt("return");case 4:if(r||c.hasInitiateSucceeded||c.state!==pc.f.WAITING){a.next=10;break}return a.next=7,ku((function(e){return(e.type===Cj.v||e.type===Cj.o)&&l()(e,"payload.videoConversationId")===o}));case 7:if(a.sent.type!==Cj.o){a.next=10;break}return a.abrupt("return");case 10:if(!r||c.state!==pc.d.ACCEPTED){a.next=16;break}return a.next=13,ku((function(e){return(e.type===Cj.k||e.type===Cj.h)&&l()(e,"payload.videoConversationId")===o}));case 13:if(a.sent.type!==Cj.h){a.next=16;break}return a.abrupt("return");case 16:return a.next=18,Ru(Zj,{videoConversationId:o});case 18:a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 23:case"end":return a.stop()}}),eg,null,[[0,20]])}function bg(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.payload.isOutgoingWaiting){t.next=4;break}return t.next=4,Ru(fg,e);case 4:return t.next=6,Tu({type:Se.Z,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 11:case"end":return t.stop()}}),tg,null,[[0,8]])}function Og(e){var t,n,r,c,o,i,s,u,d,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.actionParams,r=n.messageId,c=n.actionId,o=t.conversationId,a.next=4,Mu(dc.b);case 4:if(i=a.sent,s=Object(lc.f)(i),!(u=s.messageId)||r!==u||c===s.sourceButtonId){a.next=15;break}return a.next=10,Mu(dc.c);case 10:if(d=a.sent,!(l=Object(ki.j)(Object(ki.l)(d,o),r))||Cl.a.getAttachment(wl.a.getMessagePayload(l)).reSubmittable){a.next=15;break}return a.next=15,Tu(Object(vb.l)({notifyAgent:!0,callDetails:s,videoConversationId:s.videoConversationId}));case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 20:case"end":return a.stop()}}),ng,null,[[0,17]])}function vg(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tu(Object(vb.p)({conversationId:e.payload.conversationId,controls:Object(mb.e)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:Uv.a.v4()}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),rg,null,[[0,5]])}function hg(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.videoConversationId,a.next=4,Tu(Object(vb.b)({videoConversationId:t,controls:Object(mb.e)(e.payload.isPhone)}));case 4:return a.next=6,Ru(Xj,{videoConversationId:t,shouldWaitForConnection:!0});case 6:return n=a.sent,a.next=9,Tu({type:Cj.v,payload:{callMode:n.participant.callMode,participantPermissions:n.participant.permissions,videoConversationId:n.conversation.id}});case 9:return a.next=11,Tu(Object(vb.s)({videoConversationId:t}));case 11:a.next=20;break;case 13:if(a.prev=13,a.t0=a.catch(0),Object(Pt.b)(a.t0),!Object(Gn.f)(a.t0)){a.next=20;break}return r=l()(a.t0,"response.data.error"),a.next=20,Tu(Object(vb.d)({videoConversationId:e.payload.videoConversationId,reason:"CALL_ALREADY_ENDED"===r?pc.c.ACCEPT_FAILED_DUE_TO_CALL_END:pc.c.ACCEPT_FAILED_DUE_TO_OTHER_REASONS}));case 20:case"end":return a.stop()}}),ag,null,[[0,13]])}function jg(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tu(Object(vb.f)({videoConversationId:e.payload.videoConversationId}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),cg,null,[[0,5]])}function gg(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tu(Object(vb.k)({videoConversationId:e.payload.videoConversationId}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),og,null,[[0,5]])}function mg(e){var t,n,r,c,o,i,s,u,d;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n=e.payload.videoConversationId,a.next=4,Mu(dc.b);case 4:return r=a.sent,c=Object(lc.f)(r),o=c.messageId,i=c.conversationId,s=Object(lc.j)(r,n),a.next=9,Tu(Object(ir.c)({conversationId:i,action:s?Xc.a.AUDIO_CALL_OUTGOING_STARTING:Xc.a.VIDEO_CALL_OUTGOING_STARTING}));case 9:if(!o){a.next=16;break}return a.next=12,Mu(dc.c);case 12:return u=a.sent,t=Object(ki.j)(Object(ki.l)(u,i),o),a.next=16,Ru(mp,{chatMessage:t,conversationId:i,params:{buttonId:c.sourceButtonId}});case 16:return a.next=18,Ru(Jj,{conversationId:i,audioOnly:s,messageText:c.messageText,sourceButtonId:c.sourceButtonId,postBackChatMessageId:o,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});case 18:return d=a.sent,a.next=21,Tu({type:Cj.v,payload:{agentWaitTime:d.conversation.agentWaitTime,callMode:d.participant.callMode,participantPermissions:d.participant.permissions,videoConversationId:d.conversation.id}});case 21:a.next=32;break;case 23:if(a.prev=23,a.t0=a.catch(0),!t){a.next=28;break}return a.next=28,Tu({type:Se.I,payload:{chatMessage:t,conversationId:e.payload.conversationId}});case 28:if(Object(Pt.b)(a.t0),!Object(Gn.f)(a.t0)){a.next=32;break}return a.next=32,Tu(Object(vb.i)({videoConversationId:e.payload.videoConversationId,reason:pc.e.INITIATE_FAILED}));case 32:case"end":return a.stop()}}),ig,null,[[0,23]])}function xg(e){var t,n,r,c,o,i,s,u,d,p,b,O,v,h,j;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.type,c=t.isPhone,o=t.prevState,i=t.videoConversationId,s=t.participantPermissions,u=t.callMode,a.next=4,Mu(dc.b);case 4:if(d=a.sent,p=Object(lc.c)(d),b=l()(p,"state")===pc.d.FAILED,!Object(mb.f)({callDetails:p,rejoiningVideoConversationId:i})){a.next=9;break}return a.abrupt("return",void 0);case 9:if(!b){a.next=12;break}return a.next=12,Tu(Object(vb.l)({notifyAgent:!1,videoConversationId:i,callDetails:p,isIncomingCall:!0}));case 12:return O=r===pc.b.AUDIO,v=Object(mb.b)(o),a.next=16,Tu(Object(ir.c)({conversationId:n,action:Object(mb.c)(O,v)}));case 16:return a.next=18,Tu(Object(vb.q)({conversationId:n,videoConversationId:i,state:v?pc.d.ACCEPTED:pc.d.SETUP,controls:Object(mb.e)(c),type:r,participantPermissions:s,callMode:u}));case 18:return a.next=20,Ru($j,n);case 20:if(h=a.sent,!f()(h)){a.next=25;break}return a.next=24,Tu(Object(vb.d)({videoConversationId:i,reason:pc.c.REJOINING_FAILED_DUE_TO_CALL_END,prevState:o}));case 24:case 43:case 54:return a.abrupt("return",a.sent);case 25:return a.next=27,Tu({type:Cj.v,payload:{callMode:h.participant.callMode,participantPermissions:h.participant.permissions,videoConversationId:h.conversation.id}});case 27:if(!v){a.next=46;break}return a.prev=28,a.next=31,Ru(Xj,{videoConversationId:h.conversation.id,shouldWaitForConnection:!0});case 31:return h=a.sent,a.next=34,Tu({type:Cj.v,payload:{callMode:h.participant.callMode,participantPermissions:h.participant.permissions,videoConversationId:h.conversation.id}});case 34:a.next=44;break;case 36:if(a.prev=36,a.t0=a.catch(28),Object(Pt.b)(a.t0),!Object(Gn.f)(a.t0)){a.next=44;break}return j=l()(a.t0,"response.data.error"),a.next=43,Tu(Object(vb.d)({videoConversationId:i,reason:"CALL_ALREADY_ENDED"===j?pc.c.ACCEPT_FAILED_DUE_TO_CALL_END:pc.c.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,prevState:o}));case 44:return a.next=46,Tu(Object(vb.s)({videoConversationId:h.conversation.id}));case 46:a.next=55;break;case 48:if(a.prev=48,a.t1=a.catch(0),Object(Pt.b)(a.t1),!Object(Gn.f)(a.t1)){a.next=55;break}return a.next=54,Tu(Object(vb.d)({videoConversationId:e.payload.videoConversationId,reason:pc.c.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}));case 55:return a.abrupt("return",void 0);case 56:case"end":return a.stop()}}),sg,null,[[0,48],[28,36]])}function yg(e){var t,n,r,c,o,i,s,u,d,p,b,O,v;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.type,c=t.isPhone,o=t.prevState,i=t.videoConversationId,s=t.participantPermissions,u=t.callMode,a.next=4,Mu(dc.b);case 4:if(d=a.sent,p=Object(lc.c)(d),b=l()(p,"state")===pc.f.FAILED,!Object(mb.f)({callDetails:p,rejoiningVideoConversationId:i})){a.next=9;break}return a.abrupt("return",void 0);case 9:if(!b){a.next=12;break}return a.next=12,Tu(Object(vb.l)({notifyAgent:!1,videoConversationId:i,callDetails:p}));case 12:return O=r===pc.b.AUDIO,a.next=15,Tu(Object(ir.c)({conversationId:n,action:Object(mb.c)(O)}));case 15:return a.next=17,Tu(Object(vb.r)({conversationId:n,videoConversationId:i,state:Object(mb.d)(o),controls:Object(mb.e)(c),type:r,participantPermissions:s,callMode:u}));case 17:return a.next=19,Ru($j,e.payload.conversationId);case 19:if(v=a.sent,!f()(v)){a.next=24;break}return a.next=23,Tu(Object(vb.i)({videoConversationId:i,reason:pc.e.REJOINING_FAILED_DUE_TO_CALL_END,prevState:o}));case 23:case 34:return a.abrupt("return",a.sent);case 24:return a.next=26,Tu({type:Cj.v,payload:{agentWaitTime:v.conversation.agentWaitTime,callMode:v.participant.callMode,participantPermissions:v.participant.permissions,videoConversationId:v.conversation.id}});case 26:a.next=35;break;case 28:if(a.prev=28,a.t0=a.catch(0),Object(Pt.b)(a.t0),!Object(Gn.f)(a.t0)){a.next=35;break}return a.next=34,Tu(Object(vb.i)({videoConversationId:e.payload.videoConversationId,reason:pc.e.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}));case 35:return a.abrupt("return",void 0);case 36:case"end":return a.stop()}}),ug,null,[[0,28]])}function Ig(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.isIncomingCall,r=Object(Il.__rest)(t,["isIncomingCall"]),!n){a.next=7;break}return a.next=5,Tu(Object(vb.e)(r));case 5:a.next=9;break;case 7:return a.next=9,Tu(Object(vb.j)(r));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 14:case"end":return a.stop()}}),dg,null,[[0,11]])}function wg(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ru(Qj,e.payload.videoConversationId);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),lg,null,[[0,5]])}function Cg(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Cj.e,hg);case 3:return e.next=5,Ld(Cj.g,jg);case 5:return e.next=7,Ld(Cj.n,gg);case 7:return e.next=9,Ld(Cj.b,fg);case 9:return e.next=11,Ld(Cj.m,vg);case 11:return e.next=13,Ld(Cj.t,mg);case 13:return e.next=15,Ld(Cj.c,bg);case 15:return e.next=17,Ld(Cj.u,Ig);case 17:return e.next=19,Ld(Cj.j,xg);case 19:return e.next=21,Ld(Cj.q,yg);case 21:return e.next=23,Ld(Se.c,Og);case 23:return e.next=25,Ld(Cj.w,wg);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 30:case"end":return e.stop()}}),pg,null,[[0,27]])}var Eg=Object(a.a)().mark(kg);function kg(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(qj),Nu(Cg)]);case 2:case"end":return e.stop()}}),Eg)}var Tg=Object(a.a)().mark(Rg),_g=Object(a.a)().mark(Ng),Sg=Object(a.a)().mark(Lg);function Ag(e){return e.type===mt}function Rg(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mu(dc.f);case 2:if(e=t.sent,f()(e)){t.next=6;break}return t.next=6,Tu(Object(Tc.g)());case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),Tg)}function Ng(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,_u(t.filter(Ag).map((function(e){var t=e.payload.status;return"LIVE"===t?Ru(Rg):"COMPLETED"===t?Tu(Object(Tc.c)({endedByAgent:!0})):null})));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),_g,null,[[0,6]])}function Lg(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Qd.k,Ng);case 2:case"end":return e.stop()}}),Sg)}var Dg=Object(a.a)().mark(Mg);function Mg(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(If),Nu(Lg)]);case 2:case"end":return e.stop()}}),Dg)}var Pg=Object(a.a)().mark(Gg),Ug=Object(a.a)().mark(Wg),Bg=Object(a.a)().mark(zg);function Fg(e){return e.type===yt}function Gg(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_u(e.filter(Fg).map((function(e){return Tu({type:Ge,payload:e.payload})})));case 2:case"end":return t.stop()}}),Pg)}function Wg(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.events,n.next=4,_u([Ru(Gg,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),Ug,null,[[0,6]])}function zg(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Qd.k,Wg);case 2:case"end":return e.stop()}}),Bg)}var Vg=new(n(1202).a),Hg="/livechat/cart",Yg=function(e){return Object(Il.__awaiter)(void 0,void 0,void 0,Object(a.a)().mark((function t(){var n,r,c,o,i,s,u,d,l,p,f,b;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.params,r=n.httpMethod,c=void 0===r?"GET":r,o=n.httpUrl,i=void 0===o?"":o,s=n.httpPayload,u=void 0===s?Cn.a:s,d=n.actionIdentifier,l=n.requestId,t.prev=1,"POST"!==c&&"PUT"!==c){t.next=8;break}return t.next=5,Vg[c.toLowerCase()](i,u,{withCredentials:!0});case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,Vg[c.toLowerCase()](i,{withCredentials:!0});case 10:t.t0=t.sent;case 11:b=t.t0,p=b.request.status,f=b.request.responseText,t.next=20;break;case 16:t.prev=16,t.t1=t.catch(1),Object(Pt.b)(t.t1),Object(Gn.f)(t.t1)?(p=t.t1.request.status,f=t.t1.request.responseText):(p=500,f="");case 20:return t.prev=20,t.next=23,a={status:p,responseText:f,actionIdentifier:d,requestId:l},O=e.conversationId,wd.a.post("".concat(Hg,"/on-add-to-cart/").concat(O),a);case 23:return t.finish(20);case 24:case"end":return t.stop()}var a,O}),t,null,[[1,16,20,24]])})))},qg=function(e){return wd.a.post("".concat(Hg,"/update-cart"),{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},Kg=function(e){return wd.a.post("".concat(Hg,"/remove-from-cart"),{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})},Xg=Object(a.a)().mark(Jg),Zg=Object(a.a)().mark(Qg);function Jg(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.type,r=t.params,c=t.conversationId,"HTTP_REQUEST"!==n){a.next=5;break}return a.next=5,Ru(Yg,{params:r,conversationId:c});case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 10:case"end":return a.stop()}}),Xg,null,[[0,7]])}function Qg(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Ge,Jg);case 2:case"end":return e.stop()}}),Zg)}var $g={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},em={modifiedTime:{type:"number"},productItems:{array:{each:{sku:$g,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},tm={modifiedTime:{type:"number"},productItems:{array:{each:{sku:$g,quantity:{type:"number"}}}}},nm=Object(a.a)().mark(am),rm=Object(a.a)().mark(cm);function am(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.payload,!(t=Ze()(r,em))){n.next=5;break}return Object(g.a)("Invalid payload passed to update cart, please check",t),n.abrupt("return");case 5:return n.next=7,Ru(qg,e.payload);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}var r}),nm,null,[[0,9]])}function cm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(We,am);case 2:case"end":return e.stop()}}),rm)}var om=Object(a.a)().mark(sm),im=Object(a.a)().mark(um);function sm(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=e.payload,!(t=Ze()(r,tm))){n.next=5;break}return Object(g.a)("Invalid payload passed to remove from cart, please check",t),n.abrupt("return");case 5:return n.next=7,Ru(Kg,e.payload);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}var r}),om,null,[[0,9]])}function um(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(ze,sm);case 2:case"end":return e.stop()}}),im)}var dm=Object(a.a)().mark(lm);function lm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(zg),Nu(Qg),Nu(cm),Nu(um)]);case 2:case"end":return e.stop()}}),dm)}var pm=Object(a.a)().mark(bm),fm=Object(a.a)().mark(Om);function bm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(ml),Nu(bj),Nu(wj),Nu(kg),Nu(Mg),Nu(lm)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),pm,null,[[0,5]])}function Om(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nu(bm);case 3:return e=t.sent,t.next=6,ku(Cd.c);case 6:return t.next=8,Du(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 13:case"end":return t.stop()}}),fm,null,[[0,10]])}var vm=n(761),hm=Object(a.a)().mark(gm);function jm(e,t){var n=Object(Ar.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};var r=l()(n.params,"conversationId"),a=l()(n.params,"transientId");return"all"===r?{isConversationPath:!1,matchedConversationId:void 0}:"new"===r?{isConversationPath:!0,matchedConversationId:t?t.slice(1):a}:{isConversationPath:!0,matchedConversationId:r}}function gm(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=Os.e,t.next=4,Mu(jr.g);case 4:return t.t1=t.sent,e=(0,t.t0)(t.t1),t.abrupt("return",Object(fe.a)(Object(fe.a)({},Object(pn.a)()),{},{locale:e}));case 9:return t.prev=9,t.t2=t.catch(0),Object(Pt.b)(t.t2),t.abrupt("return",void 0);case 13:case"end":return t.stop()}}),hm,null,[[0,9]])}var mm=n(1198),xm=Object(a.a)().mark(Bm),ym=Object(a.a)().mark(Fm),Im=Object(a.a)().mark(Gm),wm=Object(a.a)().mark(Wm),Cm=Object(a.a)().mark(zm),Em=Object(a.a)().mark(Vm),km=Object(a.a)().mark(Hm),Tm=Object(a.a)().mark(Ym),_m=Object(a.a)().mark(qm),Sm=Object(a.a)().mark(Km),Am=Object(a.a)().mark(Xm),Rm=Object(a.a)().mark(Zm),Nm=Object(a.a)().mark(Jm),Lm=Object(a.a)().mark(Qm),Dm=Object(a.a)().mark($m),Mm=Object(a.a)().mark(ex);function Pm(e,t){return!(wl.a.getSender(e)===t)&&!Object(El.f)(e)}var Um=function(e,t,n){if(n){var r=Object(vm.d)(e[n],t);return r?[{conversationId:n,count:r}]:[]}return Gd()(e,(function(e,n){var r=Object(vm.d)(n,t);return r&&e.push({conversationId:n.id,count:r}),e}),[])};function Bm(e){var t,n,r,c,o,i,s,u,d,l,p,b,v,h,j,g;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,r=t.chatMessage,a.t0=Os.d,a.next=5,Mu(jr.g);case 5:return a.t1=a.sent,c=(0,a.t0)(a.t1),a.next=9,Mu(jr.c);case 9:if(o=a.sent,!(i=Object(ki.f)(o.conversations,n))){a.next=35;break}if(s=ds()(i.defaultMessages,"id"),u=wl.a.getId(r),!s.includes(u)){a.next=18;break}return a.next=17,Tu({type:Se.O,payload:{conversationId:n,lastReadMessageId:u}});case 17:return a.abrupt("return");case 18:if(!Pm(r,c)){a.next=35;break}return a.next=21,Mu(vm.e);case 21:return d=a.sent,l=d.isConversationPath,p=d.conversationId,a.next=26,Mu(jr.b);case 26:if(b=a.sent,v=b.isMinimized,h=Object(Ee.b)(),j=!!l,g=!f()(i),!(Object(O.B)()?g&&n===p:g)){a.next=35;break}return a.next=34,Tu({type:Se.P,payload:{conversationId:n,count:1}});case 34:v&&!j&&h.push("/conversation/".concat(n));case 35:a.next=40;break;case 37:a.prev=37,a.t2=a.catch(0),Object(Pt.b)(a.t2);case 40:case"end":return a.stop()}}),xm,null,[[0,37]])}function Fm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.D,Bm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),ym,null,[[0,5]])}function Gm(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t=Object(wn.b)(),Object(wn.c)(t)?t.open(Object(bn.c)(e.payload.url),e.payload.target):window.open(Object(bn.c)(e.payload.url)),e.promise.resolve()}catch(r){e.promise.reject(),Object(Pt.b)(r)}case 1:case"end":return n.stop()}}),Im)}function Wm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.Q,Gm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),wm,null,[[0,5]])}function zm(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{window.open(Object(bn.b)(e.payload.phoneNumber)),e.promise.resolve()}catch(n){e.promise.reject(),Object(Pt.b)(n)}case 1:case"end":return t.stop()}}),Cm)}function Vm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.p,zm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Em,null,[[0,5]])}function Hm(e){var t,n,r,c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.surveyUrl,r=t.shouldReplace,c=t.conversationId,o=Object(Ee.b)(),i=Object(O.B)()||Object(O.F)()?"".concat(n,"&showCancel=true"):n,s="/survey/".concat(encodeURIComponent("".concat(i,"&hideThankYouPage=true"))),a.abrupt("return",r?o.replace(s):o.push(c?"/conversation/".concat(c).concat(s):s));case 6:return a.prev=6,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",void 0);case 10:case"end":return a.stop()}}),km,null,[[0,6]])}function Ym(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.U,Hm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Tm,null,[[0,5]])}function qm(e){var t,n,r,c,o,i,s,u,d;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.payload,n=t.deleted,r=t.closed,c=t.surveyUrl,o=t.conversationId,a.prev=2,!n&&!r){a.next=13;break}if(i=Object(Ee.b)(),s=jm(i.location.pathname,i.location.hash),u=s.matchedConversationId,d=n&&o&&u===o&&!Object(O.B)(),!c){a.next=12;break}return a.next=10,Tu(Object(Ql.n)({surveyUrl:c,shouldReplace:d,conversationId:o}));case 10:a.next=13;break;case 12:d&&i.goBack();case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(2),Object(Pt.b)(a.t0);case 18:a.next=23;break;case 20:a.prev=20,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 23:case"end":return a.stop()}}),_m,null,[[0,20],[2,15]])}function Km(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.j,qm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Sm,null,[[0,5]])}function Xm(){var e,t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ku(Cd.a);case 3:if(e=a.sent,t=e.payload,t.applicationConfig,!t.handshakeDetails){a.next=24;break}if(!Object(O.E)()){a.next=12;break}return n=Object(O.g)(),a.next=12,Tu(Object(Ql.b)(n));case 12:if(!Object(O.D)()){a.next=20;break}return r=Object(O.f)(),c=Object(O.c)(r),a.next=17,Ru(gm);case 17:return o=a.sent,a.next=20,Tu(Object(Ql.a)(r,c,o));case 20:return a.next=22,Uu(1e3);case 22:return a.next=24,Tu(Object(Ql.g)());case 24:a.next=29;break;case 26:a.prev=26,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 29:case"end":return a.stop()}}),Am,null,[[0,26]])}function Zm(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=e.promise,r=t.conversationId,a.next=5,Ru(mm.b,r);case 5:n&&n.resolve(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),e.promise&&e.promise.reject(),Object(Pt.b)(a.t0);case 12:case"end":return a.stop()}}),Rm,null,[[0,8]])}function Jm(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Se.o,Zm);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Nm,null,[[0,5]])}function Qm(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Mu(jr.g);case 3:return t=a.sent,n=Object(Os.d)(t),a.next=7,Mu(jr.c);case 7:if(r=a.sent,c=Object(ki.p)(r),o=Um(c.byId,n,e),f()(o)){a.next=13;break}return a.next=13,Tu({type:Se.N,payload:o});case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.warn(a.t0);case 18:case"end":return a.stop()}}),Lm,null,[[0,15]])}function $m(){var e,t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!Object(O.B)()){a.next=25;break}if(!Object(O.H)()){a.next=14;break}case 3:return a.next=6,ku(Se.g);case 6:return a.next=8,Mu(vm.e);case 8:return e=a.sent,t=e.conversationId,a.next=12,Ru(Qm,t);case 12:a.next=3;break;case 14:if(!Object(O.E)()&&!Object(O.D)()){a.next=24;break}return a.next=17,Su([ku(Se.t),ku(Se.u),ku(Se.w),ku(Se.x)]);case 17:return a.next=19,Mu(vm.e);case 19:return n=a.sent,r=n.conversationId,a.next=23,Ru(Qm,r);case 23:case 24:return a.abrupt("return");case 25:if(!Object(O.E)()&&!Object(O.D)()){a.next=31;break}return a.next=28,_u([Su([ku(Se.t),ku(Se.w),ku(Se.u),ku(Se.x)]),ku(Se.g)]);case 28:return a.next=30,Ru(Qm);case 30:return a.abrupt("return");case 31:if(!(Object(O.J)()||Object(O.G)()||Object(O.H)())){a.next=39;break}case 32:return a.next=35,ku(Se.g);case 35:return a.next=37,Ru(Qm);case 37:a.next=32;break;case 39:a.next=44;break;case 41:a.prev=41,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 44:case"end":return a.stop()}}),Dm,null,[[0,41]])}function ex(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(Xm),Nu(Fm),Nu(Wm),Nu(Vm),Nu(Jm),Nu(Ym),Nu(Km),Nu($m)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Mm,null,[[0,5]])}var tx=Object(a.a)().mark(dx),nx=Object(a.a)().mark(lx),rx=Object(a.a)().mark(px),ax=Object(a.a)().mark(fx),cx=Object(a.a)().mark(bx),ox=Object(a.a)().mark(Ox),ix=Object(a.a)().mark(vx),sx=Object(a.a)().mark(hx),ux=Object(a.a)().mark(jx);function dx(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,a.prev=1,n=t.payload,(o=n).type===rb.h||o.type===rb.i){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,Mu(jr.c);case 7:if(r=a.sent,c=Object(ki.d)(Object(ki.u)(r)),n.type!==rb.h){a.next=12;break}return a.next=12,Ru(dn.m,n.payload.contextId||c,n.payload.abortedProcessContext,[]);case 12:if(n.type!==rb.i){a.next=15;break}return a.next=15,Ru(dn.j,n.payload.contextId||c);case 15:a.next=20;break;case 17:a.prev=17,a.t0=a.catch(1),Object(Pt.b)(a.t0);case 20:case"end":return a.stop()}var o}),tx,null,[[1,17]])}function lx(e){var t,n,c,o,i,s,u;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,c=t.chatMessage,a.next=4,Ru(dn.e,n);case 4:if(!(o=a.sent)){a.next=12;break}if(i=Cl.a.getAttachment(wl.a.getMessagePayload(c)),!(Object(In.c)(wl.a.getSender(c))&&i&&Object(yb.c)(i))){a.next=12;break}return s=wl.a.getId(c),u=o.messageIds,a.next=12,Ru(dn.m,n,o.context,[].concat(Object(r.a)(u),[s]));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 17:case"end":return a.stop()}}),nx,null,[[0,14]])}function px(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.conversationId,t.chatMessage,a.next=4,Ru(dn.e,n);case 4:if(!(r=a.sent)){a.next=8;break}return a.next=8,Ru(dn.m,n,r.context,[]);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 13:case"end":return a.stop()}}),rx,null,[[0,10]])}function fx(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.D,lx);case 2:case"end":return e.stop()}}),ax)}function bx(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.G,px);case 2:case"end":return e.stop()}}),cx)}function Ox(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ru(dn.e,e);case 3:if(!(t=n.sent)){n.next=11;break}return n.next=7,_u(t.messageIds.map((function(e){return Ru(Kl,e)})));case 7:return n.next=9,Ru(ql,{context:t.context,conversationId:e});case 9:return n.next=11,Ru(dn.j,e);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 16:case"end":return n.stop()}}),ox,null,[[0,13]])}function vx(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload.conversationResponse.results,n.next=4,_u(t.map((function(e){return Ru(Ox,e.id)})));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),ix,null,[[0,6]])}function hx(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Se.g,vx);case 2:case"end":return e.stop()}}),sx)}function jx(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(fx),Nu(bx),Nu(hx)]);case 2:case"end":return e.stop()}}),ux)}var gx=n(762),mx=n.n(gx),xx=n(751),yx=n.n(xx),Ix=n(1056),wx=Object(a.a)().mark(Nx),Cx=Object(a.a)().mark(Lx),Ex=Object(a.a)().mark(Dx),kx=Object(a.a)().mark(Mx),Tx=Object(a.a)().mark(Px),_x=Object(a.a)().mark(Ux),Sx=Object(a.a)().mark(Bx),Ax=Object(a.a)().mark(Fx),Rx=function(e){return e.map((function(e){return aa()(e)?{message:{text:e},isSentByUser:!1}:aa()(e.message)?Object(fe.a)(Object(fe.a)({},e),{},{message:{text:e.message}}):e}))};function Nx(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mu(jr.b);case 3:if(e=t.sent,!e.isMinimized){t.next=8;break}return t.next=8,Tu({type:K.d,payload:{}});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 13:case"end":return t.stop()}}),wx,null,[[0,10]])}function Lx(){var e,t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Mu(jr.c);case 3:return e=a.sent,t=Object(ki.d)(Object(ki.u)(e)),a.next=7,Ru(Ee.b);case 7:return n=a.sent,r="/conversation/".concat(t),c=jm(n.location.pathname,n.location.hash),c.isConversationPath?n.replace(r):n.push(r),a.next=13,Ru(Nx);case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 18:case"end":return a.stop()}}),Cx,null,[[0,15]])}function Dx(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ku(Se.g);case 3:return e.next=5,Ru(Lx);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 10:case"end":return e.stop()}}),Ex,null,[[0,7]])}function Mx(e){var t,n,r,c,o,i,s,u,d,l,p,b,O,v;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.initialMessages,n=e.conversationContext,r=e.createCase,c=e.additional,o=e.assignToUser,i=e.conversationId,a.prev=1,a.next=4,Mu(jr.g);case 4:if(s=a.sent,u=Object(Os.d)(s),p=yx()(t,(function(e){var t=aa()(e)?e:e.message;return!f()(zn()(t))})),!(!f()(p)||f()(t)&&Oe()(t))){a.next=13;break}b=Rx(p),d=Io()(b.map((function(e,t){return e.isSentByUser?op.a.makeOutgoing().makeTextMessage({text:e.message.text||"",conversationId:i,sender:u,disableManualResponse:e.message.disableManualResponse}):Df(e.message.text,i,"".concat(t),e.message.disableManualResponse)}))),l=!0,a.next=19;break;case 13:return a.next=15,Mu(jr.c);case 15:O=a.sent,v=Object(ki.l)(O,Na.e),d=Object(ki.k)(v),l=Object(ki.w)(v);case 19:return a.next=21,Tu({type:Se.J,payload:{conversationId:i,messages:d,conversationContext:n,hasInitialItems:l,createCase:r,assignToUser:o,additional:c}});case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(1),Object(Pt.b)(a.t0);case 26:case"end":return a.stop()}}),kx,null,[[1,23]])}function Px(e,t){var n,r,c,o,i,s,u,d,p,f,b,O,v,h,j;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.payload.silent,r=t.promise,a.prev=1,a.next=4,Mu((function(e){return e}));case 4:if(c=a.sent,o=sn.a.getCustomizationConfig(e),i=function(e,t){return l()(e,t)},s=Object(ki.p)(Object(jr.c)(c)),!_e()(Object(ki.t)(s))){a.next=16;break}return a.next=11,Tu({type:Se.B,payload:{}});case 11:return a.next=13,ku(Se.ab);case 13:return a.next=15,Mu((function(e){return e}));case 15:c=a.sent;case 16:if(u=Object(vm.g)(c,o,i),!u.isLocked){a.next=23;break}if(n){a.next=22;break}return d=Object(ki.b)(s),a.next=22,Ru(d?Lx:Dx);case 22:throw Rf.a.LIMIT_REACHED;case 23:return p="".concat(Na.e,"_").concat(mx()()),a.next=26,Ru(Mx,Object(fe.a)(Object(fe.a)({},t.payload),{},{conversationId:p}));case 26:return a.next=28,Ru(gm);case 28:if(f=a.sent,!n){a.next=32;break}return a.next=32,Tu({type:Se.K,payload:{conversationId:p,appContext:f},promise:r});case 32:if(n){a.next=40;break}return b=Object(Ee.b)(),O=jm(b.location.pathname,b.location.hash),v=O.isConversationPath,h=!!v,j="/conversation/new/".concat(p),h?b.replace(j):b.push(j),a.next=40,Ru(Nx);case 40:a.next=46;break;case 42:a.prev=42,a.t0=a.catch(1),r&&r.reject(Mf(a.t0)),Object(Pt.b)(a.t0);case 46:case"end":return a.stop()}}),Tx,null,[[1,42]])}function Ux(e){var t,n,r,c,o,i,s,u,d,p,b,v,h,j,g,m,x,y,I,w,C,E;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=e.promise,a.prev=1,a.next=4,Mu(jr.c);case 4:if(c=a.sent,o=Object(ki.p)(c),r=t.conversationId){a.next=16;break}if(Object(ki.b)(o)){a.next=15;break}return a.next=11,ku(Se.g);case 11:return a.next=13,Mu(jr.c);case 13:c=a.sent,o=Object(ki.p)(c);case 15:r=Object(ki.d)(Object(ki.u)(c));case 16:if(r){a.next=19;break}return n&&n.reject(Rf.a.NOT_FOUND),a.abrupt("return");case 19:if(i=Object(Ee.b)(),s=jm(i.location.pathname,i.location.hash),u=s.isConversationPath,d=s.matchedConversationId,p=!!u,b="/conversation/".concat(r),v=r,h=[],d===r){a.next=57;break}if(!Object(O.z)(r)){a.next=39;break}if(j=Object(O.d)(r),g=Object(O.c)(j),m=Object(ki.i)(o,j),v=g,Tl()(o.ids,m)){a.next=37;break}return a.next=33,Ru(gm);case 33:return x=a.sent,a.next=36,Tu(Object(Ql.a)(j,g,x));case 36:h=[Se.t,Se.u];case 37:a.next=43;break;case 39:if(Tl()(o.ids,r)){a.next=43;break}return a.next=42,Tu(Object(Ql.b)(r));case 42:h=[Se.w,Se.x];case 43:if(f()(h)){a.next=57;break}return a.next=46,Su([ku(h[0]),ku(h[1])]);case 46:if(y=a.sent,I=Object(qt.a)(y,2),w=I[0],C=I[1],E=l()(w,"payload.conversationResponse.id")||l()(C,"payload.conversationId"),v!==E){a.next=55;break}if(!C){a.next=54;break}throw C.payload.error;case 54:return a.abrupt("break",57);case 55:a.next=43;break;case 57:return p?i.replace(b):i.push(b),a.next=60,Ru(Nx);case 60:n&&n.resolve(r),a.next=67;break;case 63:a.prev=63,a.t0=a.catch(1),Object(Pt.b)(a.t0),n&&n.reject(Mf(a.t0));case 67:return a.prev=67,a.next=70,Cu(wu,{});case 70:return a.sent&&n&&n.reject(Rf.a.UNEXPECTED_ERROR),a.finish(67);case 73:case"end":return a.stop()}}),_x,null,[[1,63,67,73]])}function Bx(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ku(Cd.a);case 3:return e=n.sent,t=e.payload.applicationConfig,n.next=7,Ld(Ix.c,Px,t);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 12:case"end":return n.stop()}}),Sx,null,[[0,9]])}function Fx(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dd(Ix.a,Ux);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Ax,null,[[0,5]])}var Gx,Wx=n(976),zx=Object(B.a)({},pp.c.PROGRESS_BAR,(function(e){var t=wl.a.getMessagePayload(e).attachment;return t.status===Wx.a.ABORTED||t.status===Wx.a.ERROR})),Vx=function(e){var t=wl.a.getMessagePayload(e).attachment,n=t&&zx[t.type];return n&&n(e)},Hx=Object(a.a)().mark(Zx),Yx=Object(a.a)().mark(Jx),qx=Object(a.a)().mark(Qx),Kx=function(){function e(){Object($t.a)(this,e),this.queueItems=void 0,this.queueItems=[]}return Object(Qt.a)(e,[{key:"isEmpty",value:function(){return 0===this.queueItems.length}},{key:"put",value:function(e){var t=Q()(this.queueItems,(function(t){return wl.a.getId(e.message)===wl.a.getId(t.message)}));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}},{key:"take",value:function(){return this.queueItems.shift()}}]),e}(),Xx="EXTERNAL_MESSAGE_SEND";function Zx(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.message,n=e.externalMessageId,a.next=4,Ru(ap,t);case 4:if(!(r=a.sent)){a.next=8;break}return a.next=8,Tu({type:Xx,payload:{id:n,message:r}});case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 13:case"end":return a.stop()}}),Hx,null,[[0,10]])}function Jx(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,ku(e);case 4:if(t=n.sent,Vx(t.message)){n.next=8;break}return n.next=8,Ru(Zx,t);case 8:n.next=1;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 15:case"end":return n.stop()}}),Yx,null,[[0,12]])}function Qx(e){var t,n,r,c,o,i,s,u,d,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,Gx){a.next=7;break}return a.next=4,Ru(rd,new Kx);case 4:return Gx=a.sent,a.next=7,Lu(Jx,Gx);case 7:return a.next=9,Mu(jr.c);case 9:return t=a.sent,n=Object(ki.d)(Object(ki.u)(t)),a.next=13,Mu(jr.g);case 13:if(r=a.sent,c=Object(Os.d)(r),o=op.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:e.message,conversationId:e.contextId||n,messageContext:e.messageContext,sender:e.isSentByUser?c:Na.b})){a.next=18;break}return a.abrupt("return",void 0);case 18:if(i={externalMessageId:e.id,message:o},e.sprMsgId&&!Vx(o)){a.next=24;break}return a.next=22,Nu(Zx,i);case 22:a.next=26;break;case 24:return a.next=26,Tu(Gx,i);case 26:return a.next=28,ku(Xx);case 28:return s=a.sent,u=s.payload,d=u.id,l=u.message,a.abrupt("return",{id:d,message:l});case 35:return a.prev=35,a.t0=a.catch(0),Object(Pt.b)(a.t0),a.abrupt("return",void 0);case 39:case"end":return a.stop()}}),qx,null,[[0,35]])}var $x=Object(a.a)().mark(ey);function ey(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,a.prev=1,t.payload.type===rb.d){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,Ru(Qx,t.payload.payload);case 6:if(n=a.sent){a.next=10;break}return Object(je.a)({topic:me,payload:{error:M,request:t.payload}}),a.abrupt("return");case 10:return r=n.id,c=n.message,a.next=13,Tu(Object(Pd.l)({id:r,conversationId:null===c||void 0===c?void 0:c.conversationId,messageId:null===c||void 0===c?void 0:c.id}));case 13:Object(je.a)({topic:me,payload:{data:{id:r,conversationId:null===c||void 0===c?void 0:c.conversationId,messageId:null===c||void 0===c?void 0:c.id},request:t.payload}}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),Object(Pt.b)(a.t0);case 19:case"end":return a.stop()}}),$x,null,[[1,16]])}var ty=Object(a.a)().mark(ny);function ny(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.action,a.prev=1,t.payload.type===rb.c){a.next=4;break}return a.abrupt("return");case 4:if(n=t.payload.payload,r=op.a.makeOutgoing().makeDynamicMessage({externalMessageId:n.id,messagePayload:{events:Bd()(n.event)},conversationId:n.contextId,sender:Na.b})){a.next=8;break}return a.abrupt("return");case 8:return a.next=10,Ru(ap,r);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),Object(Pt.b)(a.t0);case 15:case"end":return a.stop()}}),ty,null,[[1,12]])}var ry,ay=n(1066),cy=n.n(ay),oy=n(1289),iy=n.n(oy),sy=/\$\{(\w+)\}/g,uy=function(e,t){var n=Object.keys(t);return iy()(e,sy,(function(e,r){return n.includes(r)?t[r]:e}))},dy=function(e,t){var n=t.totalUnits,r=t.completedUnits,a=t.action,c=t.status,o=e["progress.".concat(a,".").concat(c,".title")];return uy(o,{completedUnits:r,totalUnits:n})},ly=function(e,t){var n=t.totalUnits,r=t.completedUnits,a=t.action,c=t.status,o=e["progress.".concat(a,".").concat(c,".description")];return uy(o,{completedUnits:r,totalUnits:n})},py=Object(a.a)().mark(hy),fy=Object(a.a)().mark(jy),by=function(){function e(){Object($t.a)(this,e),this.queueItems=void 0,this.queueItems=[]}return Object(Qt.a)(e,[{key:"isEmpty",value:function(){return 0===this.queueItems.length}},{key:"put",value:function(e){var t=Q()(this.queueItems,(function(t){return e.action.payload.contextId===t.action.payload.contextId}));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}},{key:"take",value:function(){return this.queueItems.shift()}}]),e}(),Oy=function(e,t){return"".concat(e,"_").concat(t)},vy=cy()((function(){var e={};return{get:function(t){return e[t]},set:function(t,n){e[t]=n},remove:function(t){delete e[t]}}}));function hy(e){var t,n,r,c,o,i,s,u,d,l,p,f,b;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,ku(e);case 4:return t=a.sent,n=t.action,r=t.localeData,c=n.payload,o=c.contextId,i=c.id,s=c.data,u=c.progressContext,d={type:pp.c.PROGRESS_BAR,title:dy(r,s),description:ly(r,s),progress:s.progress,status:s.status,action:s.action,enableCancel:s.enableCancel,enableRetry:s.enableRetry},l={attachment:d,disableManualResponse:s.disableManualResponse},a.next=12,Ru(Qx,{contextId:o,id:i,sprMsgId:vy().get(Oy(o,d.action)),message:l,messageContext:u});case 12:if(p=a.sent){a.next=16;break}return Object(je.a)({topic:me,payload:{error:M,request:n}}),a.abrupt("return");case 16:return f=p.id,b=p.message,a.next=19,Tu(Object(Pd.m)({id:f,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id}));case 19:Object(je.a)({topic:me,payload:{data:{id:i,conversationId:null===b||void 0===b?void 0:b.conversationId,messageId:null===b||void 0===b?void 0:b.id},request:n}}),(O=d).status!==Wx.a.COMPLETED&&(O.status!==Wx.a.ABORTED&&O.status!==Wx.a.ERROR||O.enableRetry)?vy().set(Oy(o,d.action),null===b||void 0===b?void 0:b.id):vy().remove(Oy(o,d.action)),a.next=26;break;case 23:a.prev=23,a.t0=a.catch(1),Object(Pt.b)(a.t0);case 26:a.next=0;break;case 28:case"end":return a.stop()}var O}),py,null,[[1,23]])}function jy(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.action,n=e.localeData,r.prev=1,t.payload.type===rb.f){r.next=4;break}return r.abrupt("return");case 4:if(ry){r.next=10;break}return r.next=7,Ru(rd,new by);case 7:return ry=r.sent,r.next=10,Lu(hy,ry);case 10:return r.next=12,Tu(ry,{action:t.payload,localeData:n});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),Object(Pt.b)(r.t0);case 17:case"end":return r.stop()}}),fy,null,[[1,14]])}var gy=Object(a.a)().mark(yy),my=Object(a.a)().mark(Iy),xy=Object(a.a)().mark(wy);function yy(e,t){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_u([Ru(ey,{action:t,localeData:e}),Ru(ny,{action:t,localeData:e}),Ru(jy,{action:t,localeData:e}),Ru(dx,{action:t})]);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 8:case"end":return n.stop()}}),gy,null,[[0,5]])}function Iy(e,t){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=4;break}return n.next=4,Ld(e,yy,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),my,null,[[0,6]])}function wy(){var e,t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Pu(Se.y);case 3:e=a.sent;case 4:return a.prev=5,a.next=8,ku(W.b);case 8:if(n=a.sent,r=n.payload.data,!t){a.next=13;break}return a.next=13,Du(t);case 13:return a.next=15,Nu(Iy,e,r);case 15:t=a.sent,a.next=21;break;case 18:a.prev=18,a.t0=a.catch(5),Object(Pt.b)(a.t0);case 21:a.next=4;break;case 23:a.next=28;break;case 25:a.prev=25,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 28:case"end":return a.stop()}}),xy,null,[[0,25],[5,18]])}var Cy=Object(a.a)().mark(ky),Ey=Object(a.a)().mark(Ty);function ky(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(b.a)(),t.next=3,Object(dn.g)(e.appId);case 3:case"end":return t.stop()}}),Cy)}function Ty(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(K.f,ky);case 2:case"end":return e.stop()}}),Ey)}var _y=Object(a.a)().mark(Sy);function Sy(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(Bx),Nu(Fx),Nu(wy),Nu(Ty)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),_y,null,[[0,5]])}var Ay=Object(a.a)().mark(Dy),Ry=Object(a.a)().mark(My),Ny=Object(a.a)().mark(Py);function Ly(e){return Object(ki.v)(Object(ki.p)(Object(jr.c)(e)))}function Dy(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Mu(Ly);case 3:e=n.sent;case 4:return n.prev=5,n.next=8,Su({notificationReceived:ku(Se.P),notificationRead:ku(Se.O),notificationsReceived:ku(Se.N)});case 8:return n.sent,n.next=11,Mu(Ly);case 11:t=n.sent,e!==t&&(Object(je.a)({topic:ae.l,payload:{data:{count:t}}}),e=t),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),Object(Pt.b)(n.t0);case 18:n.next=4;break;case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(0),Object(Pt.b)(n.t1);case 25:case"end":return n.stop()}}),Ay,null,[[0,22],[5,15]])}function My(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:return t.prev=2,t.next=5,ku(Se.z);case 5:return e=t.sent,t.t0=je.a,t.t1=ae.f,t.t2=e.payload.type,t.t3=fe.a,t.t4=Object(fe.a)({},e.payload.payload),t.t5={},t.next=14,Object(dn.a)(Jt.a.getAppId(Object(b.a)()));case 14:t.t6=t.sent,t.t7={userAuthToken:t.t6},t.t8=(0,t.t3)(t.t4,t.t5,t.t7),t.t9={type:t.t2,payload:t.t8},t.t10={data:t.t9},t.t11={topic:t.t1,payload:t.t10},(0,t.t0)(t.t11),t.next=26;break;case 23:t.prev=23,t.t12=t.catch(2),Object(Pt.b)(t.t12);case 26:t.next=1;break;case 28:t.next=33;break;case 30:t.prev=30,t.t13=t.catch(0),Object(Pt.b)(t.t13);case 33:case"end":return t.stop()}}),Ry,null,[[0,30],[2,23]])}function Py(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(Dy),Nu(My)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Ny,null,[[0,5]])}var Uy=n(294),By=n.n(Uy);function Fy(e){return Gy.apply(this,arguments)}function Gy(){return(Gy=Object(c.a)(Object(a.a)().mark((function e(t){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.post("/livechat/upload/policy?fileName=".concat(encodeURIComponent(t)),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wy(e,t){return zy.apply(this,arguments)}function zy(){return(zy=Object(c.a)(Object(a.a)().mark((function e(t,n){var r,c,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.bucket,c=t.domainName,e.next=3,Ke.a.post("https://".concat(r,".").concat(null!==c&&void 0!==c?c:"s3.amazonaws.com","/"),n);case 3:return o=e.sent,e.abrupt("return",decodeURIComponent(o.headers.location));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vy=Object(a.a)().mark(Zy),Hy=Object(a.a)().mark(Jy),Yy=[{key:"Cache-Control",value:By()("max-age=".concat(31536e3,", no-transform, public"))},{key:"Content-Type",value:function(e){return e.type}}],qy=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function Ky(e,t){var n=new FormData;return qy.forEach((function(t){n.append(t,e[t])})),Yy.forEach((function(e){n.append(e.key,e.value(t))})),n.append("file",t),n}function Xy(e){return"AZURE"===e.type}function Zy(e,t){var r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!Xy(e)){a.next=9;break}return a.next=4,Promise.all([n.e(4),n.e(15)]).then(n.bind(null,2095));case 4:return r=a.sent,c=r.uploadFileOnAzure,a.next=8,Ru(c,e,t);case 8:case 11:return a.abrupt("return",a.sent);case 9:return a.next=11,Ru(Wy,e,Ky(e,t));case 14:return a.prev=14,a.t0=a.catch(0),a.abrupt("return",void 0);case 17:case"end":return a.stop()}}),Vy,null,[[0,14]])}function Jy(e){var t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Ru(Fy,e.name);case 3:if(!(t=r.sent)){r.next=9;break}return r.next=7,Ru(Zy,t,e);case 7:return n=r.sent,r.abrupt("return",n);case 9:return r.abrupt("return",void 0);case 12:return r.prev=12,r.t0=r.catch(0),r.abrupt("return",void 0);case 15:case"end":return r.stop()}}),Hy,null,[[0,12]])}var Qy=n(897),$y=n(874),eI=Object(a.a)().mark(nI);function tI(e){return new Promise((function(t){var n=document.createElement("img");n.onload=function(e){e.target&&t({height:e.target.naturalHeight,width:e.target.naturalWidth})},n.src=e}))}function nI(e,t,n,r){var c,o,i,s,u,d,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,p=n.type,!Tl()($y.c,p)){a.next=25;break}return c=URL.createObjectURL(n),a.next=5,Ru(tI,c);case 5:return o=a.sent,i=o.height,s=o.width,a.next=10,Ru(Ql.p,op.a.makeOutgoing().makeImageAttachmentMessage({attachmentProperties:{height:i,width:s,url:c},conversationId:e,sender:t,inReplyToChatMessageId:r}));case 10:return u=a.sent,a.next=13,Tu(u);case 13:return a.next=15,Ru(Jy,n);case 15:if(!(d=a.sent)){a.next=23;break}return l=Object(Qy.f)(u.payload.chatMessage,d,pp.c.IMAGE),a.next=20,Ru(cp,l);case 20:URL.revokeObjectURL(c),a.next=25;break;case 23:return a.next=25,Tu({payload:{conversationId:e,transientId:u.payload.chatMessage.id},type:Se.F});case 25:a.next=30;break;case 27:a.prev=27,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 30:case"end":return a.stop()}var p}),eI,null,[[0,27]])}var rI=Object(a.a)().mark(oI),aI=Object(a.a)().mark(iI);function cI(e){return new Promise((function(t){var n=document.createElement("video");n.onloadeddata=function(){n.currentTime=0},n.onseeked=function(e){var r=document.createElement("canvas");r.height=n.videoHeight,r.width=n.videoWidth;var a=r.getContext("2d");a&&(a.drawImage(n,0,0,r.width,r.height),(r.toBlob||r.msToBlob).bind(r)((function(e){var r=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:r,height:n.videoHeight,width:n.videoWidth})})))},n.src=e,n.load()}))}function oI(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ru(Jy,e);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),Object(Pt.b)(t.t0),t.abrupt("return",void 0);case 10:case"end":return t.stop()}}),rI,null,[[0,6]])}function iI(e,t,n,r){var c,o,i,s,u,d,l,p,f,b,O,v;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,h=n.type,!Tl()($y.e,h)){a.next=31;break}return c=URL.createObjectURL(n),a.next=5,Ru(cI,c);case 5:return o=a.sent,i=o.previewImageFile,s=o.height,u=o.width,d=URL.createObjectURL(i),a.next=12,Ru(Ql.p,op.a.makeOutgoing().makeVideoAttachmentMessage({attachmentProperties:{height:s,width:u,previewImageUrl:d,url:c},conversationId:e,sender:t,inReplyToChatMessageId:r}));case 12:return l=a.sent,a.next=15,Tu(l);case 15:return a.next=17,_u([Ru(Jy,n),Ru(oI,i)]);case 17:if(p=a.sent,f=Object(qt.a)(p,2),b=f[0],O=f[1],!b){a.next=29;break}return v=Object(Qy.g)(Object(Qy.f)(l.payload.chatMessage,b,pp.c.VIDEO),O),a.next=25,Ru(cp,v);case 25:URL.revokeObjectURL(c),URL.revokeObjectURL(d),a.next=31;break;case 29:return a.next=31,Tu({payload:{conversationId:e,transientId:l.payload.chatMessage.id},type:Se.F});case 31:a.next=36;break;case 33:a.prev=33,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 36:case"end":return a.stop()}var h}),aI,null,[[0,33]])}var sI=n(1290),uI=Object(a.a)().mark(lI),dI={"application/pdf":sI.a.PDF,"text/plain":sI.a.DOCUMENT,"application/msword":sI.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":sI.a.WORD_DOCUMENT,"application/vnd.ms-excel":sI.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":sI.a.EXCEL,"application/vnd.ms-powerpoint":sI.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":sI.a.PRESENTATION,"application/onenote":sI.a.ONENOTE,"application/json":sI.a.DOCUMENT};function lI(e,t,n,r){var c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,u=n.type,!Tl()($y.b,u)){a.next=20;break}return c=URL.createObjectURL(n),a.next=5,Ru(Ql.p,op.a.makeOutgoing().makeDocumentAttachmentMessage({attachmentProperties:{url:c,title:n.name,documentType:dI[n.type]},conversationId:e,sender:t,inReplyToChatMessageId:r}));case 5:return o=a.sent,a.next=8,Tu(o);case 8:return a.next=10,Ru(Jy,n);case 10:if(!(i=a.sent)){a.next=18;break}return s=Object(Qy.f)(o.payload.chatMessage,i,pp.c.DOCUMENT),a.next=15,Ru(cp,s);case 15:URL.revokeObjectURL(c),a.next=20;break;case 18:return a.next=20,Tu({payload:{conversationId:e,transientId:o.payload.chatMessage.id},type:Se.F});case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 25:case"end":return a.stop()}var u}),uI,null,[[0,22]])}var pI=Object(a.a)().mark(fI);function fI(e,t,n,r){var c,o,i,s;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,u=n.type,!Tl()($y.a,u)){a.next=20;break}return c=URL.createObjectURL(n),a.next=5,Ru(Ql.p,op.a.makeOutgoing().makeAudioAttachmentMessage({attachmentProperties:{url:c,mimeType:n.type,title:n.name},conversationId:e,sender:t,inReplyToChatMessageId:r}));case 5:return o=a.sent,a.next=8,Tu(o);case 8:return a.next=10,Ru(Jy,n);case 10:if(!(i=a.sent)){a.next=18;break}return s=Object(Qy.f)(o.payload.chatMessage,i,pp.c.AUDIO),a.next=15,Ru(cp,s);case 15:URL.revokeObjectURL(c),a.next=20;break;case 18:return a.next=20,Tu({payload:{conversationId:e,transientId:o.payload.chatMessage.id},type:Se.F});case 20:a.next=25;break;case 22:a.prev=22,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 25:case"end":return a.stop()}var u}),pI,null,[[0,22]])}var bI=Object(a.a)().mark(vI),OI=Object(a.a)().mark(hI);function vI(e){var t,n,r,c,o;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.conversationId,r=t.chatUserId,c=t.file,o=t.inReplyToChatMessageId,a.next=3,_u([Ru(nI,n,r,c,o),Ru(iI,n,r,c,o),Ru(fI,n,r,c,o),Ru(lI,n,r,c,o)]);case 3:case"end":return a.stop()}}),bI)}function hI(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Ix.b,vI);case 2:case"end":return e.stop()}}),OI)}var jI,gI=hI,mI=Object(a.a)().mark(yI),xI=Object(a.a)().mark(II);function yI(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,e=void 0,t.next=5,ku(Qd.b);case 5:return jI=Date.now(),t.next=8,ku(Qd.a);case 8:if(e=Date.now(),!(jI&&e-jI>=3e5)){t.next=13;break}return jI=void 0,t.next=13,Tu({type:Qd.l});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),Object(Pt.b)(t.t0);case 18:t.next=0;break;case 20:case"end":return t.stop()}}),mI,null,[[1,15]])}function II(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(yI)]);case 2:case"end":return e.stop()}}),xI)}var wI=n(1264),CI=Object(a.a)().mark(RI),EI=Object(a.a)().mark(NI),kI=Object(a.a)().mark(LI),TI=Object(a.a)().mark(DI),_I=Object(a.a)().mark(MI),SI=Object(a.a)().mark(PI),AI=Object(a.a)().mark(UI);function RI(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.prev=2,e.next=5,ku(K.g);case 5:if(e.sent,!Object(O.K)()){e.next=10;break}Object(je.a)({topic:ae.d}),e.next=12;break;case 10:return e.next=12,Tu(Object(fc.b)());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),Object(Pt.b)(e.t0);case 17:e.next=1;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),Object(Pt.b)(e.t1);case 24:case"end":return e.stop()}}),CI,null,[[0,21],[2,14]])}function NI(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:return t.prev=2,t.next=5,ku(K.k);case 5:e=t.sent,e.payload.isMediaOpen?Object(je.a)({topic:ae.h}):Object(je.a)({topic:ae.g}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),Object(Pt.b)(t.t0);case 13:t.next=1;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(0),Object(Pt.b)(t.t1);case 20:case"end":return t.stop()}}),EI,null,[[0,17],[2,10]])}function LI(e,t){return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Tu(Object(fc.i)(e,t));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 8:case"end":return n.stop()}}),kI,null,[[0,5]])}function DI(e,t,n){var r,c,o,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mu(jr.b);case 3:return r=t.sent,c=Object(hr.e)(r),t.t0=Os.c,t.next=8,Mu(dc.h);case 8:return t.t1=t.sent,o=(0,t.t0)(t.t1).userId,i={},oo()(c,(function(e,t){i=Object(fe.a)(Object(fe.a)({},i),{},Object(B.a)({},t,e.enabled))})),t.next=14,Object(dn.n)(o,i);case 14:t.next=21;break;case 16:return t.prev=16,t.t2=t.catch(0),t.next=20,Ru(LI,e,n);case 20:Object(Pt.b)(t.t2);case 21:case"end":return t.stop()}}),TI,null,[[0,16]])}function MI(){var e,t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0;case 1:return a.next=4,ku(K.p);case 4:return e=a.sent,t=e.payload,n=t.userPreferenceKey,r=t.newValue,c=t.oldValue,a.next=8,Ru(LI,n,r);case 8:return a.next=10,Ru(DI,n,r,c);case 10:a.next=1;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 17:case"end":return a.stop()}}),_I,null,[[0,14]])}function PI(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ku(Cd.a);case 3:e=n.sent,t=e.payload.applicationConfig,setTimeout((function(){var e=l()(t,"otherConfigs.theme.icons",{});oo()(e,(function(e){Object(wI.a)(e)}))}),1e4),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 11:case"end":return n.stop()}}),SI,null,[[0,8]])}function UI(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(RI),Nu(NI),Nu(MI),Nu(PI)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),AI,null,[[0,5]])}var BI=Object(a.a)().mark(GI),FI=Object(a.a)().mark(WI);function GI(e){var t,n,r,c,o,i,s,u,d,l;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload||{},n=t.user,r=t.userContext,a.t0=Os.c,a.next=5,Mu(dc.h);case 5:if(a.t1=a.sent,c=(0,a.t0)(a.t1),o=zd.a.getId(c),i=Object(O.M)(r),!(Object(In.a)(n)&&!Object(In.b)(o)||Object(In.b)(o)&&Object(In.e)(n,c))){a.next=21;break}return s=G()(Object(b.a)(),{userContext:{$merge:i},user:{$set:Object(fe.a)(Object(fe.a)({},Object(b.a)().user||{}),n)}}),Object(b.f)(s),a.next=14,Ru(Wd.c,Object(fe.a)(Object(fe.a)(Object(fe.a)({},c),n),{},{customContext:i}));case 14:return u=a.sent,d=u.data,a.next=18,Tu(Object(ir.c)({action:Xc.a.USER_PROFILE_UPDATED}));case 18:return a.next=20,Tu({type:W.e,payload:{users:[d]}});case 20:return a.abrupt("return");case 21:return l=G()(Object(b.a)(),{userContext:{$set:i},user:{$set:n}}),Object(b.f)(l),Object(On.e)({shouldReboot:!0,shouldContinueSession:!Object(In.a)(n)&&!Object(In.b)(o)}),a.abrupt("return");case 27:a.prev=27,a.t2=a.catch(0),Object(Pt.b)(a.t2);case 30:case"end":return a.stop()}}),BI,null,[[0,27]])}function WI(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Y,GI);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),FI,null,[[0,5]])}var zI=Object(a.a)().mark(HI),VI=Object(a.a)().mark(YI);function HI(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad((function(e){var t=function(){e(Object(ir.g)(!0))},n=function(){e(Object(ir.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),function(){window.removeEventListener("online",t),window.removeEventListener("offline",n)}})));case 1:case"end":return e.stop()}}),zI)}function YI(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ru(HI);case 3:e=n.sent;case 4:return n.next=7,ku(e);case 7:return t=n.sent,n.next=10,Tu(t);case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 17:return n.prev=17,e&&e.close(),n.finish(17);case 20:case"end":return n.stop()}}),VI,null,[[0,14,17,20]])}var qI=Object(a.a)().mark(XI);function KI(){return ad((function(e){var t=Object(b.b)();if(!t)return ee.a;var n=function(){var t=document.visibilityState;"hidden"===t&&e({type:Qd.b}),"visible"===t&&e({type:Qd.a})};return t.document.addEventListener("visibilitychange",n),function(){t.document.removeEventListener("visibilitychange",n)}}))}function XI(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ru(KI);case 3:e=n.sent;case 4:return n.next=7,ku(e);case 7:return t=n.sent,n.next=10,Tu(t);case 10:n.next=4;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 17:return n.prev=17,e&&e.close(),n.finish(17);case 20:case"end":return n.stop()}}),qI,null,[[0,14,17,20]])}var ZI=Object(a.a)().mark($I),JI=Object(a.a)().mark(ew),QI=Object(a.a)().mark(tw);function $I(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.ssoId,r=t.conversationId,c=t.messageId,a.next=4,yn({ssoId:n,conversationId:r,messageId:c});case 4:e.promise&&e.promise.resolve(),Object(On.e)({shouldReboot:!0,shouldContinueSession:!0}),a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Tu({type:Qd.c,payload:{}});case 12:e.promise&&e.promise.reject();case 13:case"end":return a.stop()}}),ZI,null,[[0,8]])}function ew(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Qd.d,$I);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),JI,null,[[0,5]])}function tw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(ew)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),QI,null,[[0,5]])}var nw=Object(a.a)().mark(sw),rw=Object(a.a)().mark(uw),aw=Object(a.a)().mark(dw),cw=Object(a.a)().mark(lw),ow=Object(a.a)().mark(pw),iw=!0;function sw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,ku(K.b);case 4:return e.next=6,Tu({type:K.c});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(Pt.b)(e.t0);case 11:e.next=0;break;case 13:case"end":return e.stop()}}),nw,null,[[1,8]])}function uw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,ku(K.d);case 4:return e.next=6,Tu({type:K.e});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(Pt.b)(e.t0);case 11:e.next=0;break;case 13:case"end":return e.stop()}}),rw,null,[[1,8]])}function dw(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return iw=!1,t.next=3,Tu(Object(ir.a)({ssoId:un.a.getAutoLoginSSOId(sn.a.getCustomizationConfig(e))})());case 3:case"end":return t.stop()}}),aw)}function lw(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ku(Cd.a);case 3:if(e=n.sent,t=e.payload.applicationConfig,!Object(O.K)()){n.next=7;break}return n.abrupt("return");case 7:if(iw&&gn(t)){n.next=11;break}return n.next=10,Nu(uw);case 10:return n.abrupt("return");case 11:return n.next=13,ku(K.d);case 13:return n.next=15,Ru(dw,t);case 15:return n.next=17,ku(Qd.c);case 17:return n.next=19,Nu(uw);case 19:return n.next=21,Tu({type:K.d});case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 26:case"end":return n.stop()}}),cw,null,[[0,23]])}function pw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(lw),Nu(sw)]);case 2:case"end":return e.stop()}}),ow)}function fw(e){return{type:ue.b,payload:{promptId:e}}}var bw=n(1291),Ow=n(1079),vw=Object(a.a)().mark(jw),hw=Object(a.a)().mark(gw);function jw(e){var t,n,c,o,i,s,u;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,n=t.type,c=t.buttonId,o=t.promptId,a.next=7,Mu(jr.d);case 7:if(i=a.sent,s=wi()(i,(function(e){return e.id===o}))){a.next=11;break}return a.abrupt("return");case 11:if(n===Ow.a.TRIGGERED){a.next=14;break}return a.next=14,Tu(fw(o));case 14:if(u=wi()(s.buttons,(function(e){return e.id===c})),n!==Ow.a.ENGAGED||!u||u.type!==Ow.b.URL||!u.value){a.next=19;break}window.open(Object(bn.c)(u.value)),a.next=22;break;case 19:if(n!==Ow.a.ENGAGED||u&&u.type===Ow.b.CLOSE){a.next=22;break}return a.next=22,Tu(Object(ge.b)({initialMessages:Io()([].concat(Object(r.a)(ds()(s.messages,(function(e){var t=e.text,n=e.disableManualResponse;return{message:{text:t,disableManualResponse:void 0!==n&&n}}}))),[u?{isSentByUser:!0,message:u.label}:void 0])),createCase:!!l()(s.additional,"createCase"),additional:Object(fe.a)(Object(fe.a)({},Fv()(s.additional,["interceptId","creativeId"])),{},{interceptTargetId:c,clickedOnPrompt:!0})}));case 22:Object(je.a)({topic:ae.j,payload:{data:{type:n,id:o,button:u}}}),a.next=28;break;case 25:a.prev=25,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 28:case"end":return a.stop()}}),vw,null,[[0,25]])}function gw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(bw.a,jw);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),hw,null,[[0,5]])}var mw=Object(a.a)().mark(Cw),xw=Object(a.a)().mark(Ew),yw=Object(a.a)().mark(kw),Iw=Object(a.a)().mark(Tw),ww=Object(a.a)().mark(_w);function Cw(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=Object(b.a)(),t=e.appId,n.next=4,Ru(kc.remove,t);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),mw,null,[[0,6]])}function Ew(e){var t,n,r,c,o,i;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.state,n=t.conversationId,r=t.messageId,c=t.agentId,o=Object(b.a)(),i=o.appId,a.next=5,Ru(kc.set,i,JSON.stringify({conversationId:n,messageId:r,agentId:c}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 10:case"end":return a.stop()}}),xw,null,[[0,7]])}function kw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld([Mp.g,Mp.h],Cw);case 2:case"end":return e.stop()}}),yw)}function Tw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(Mp.j,Ew);case 2:case"end":return e.stop()}}),Iw)}function _w(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(kw),Nu(Tw)]);case 2:case"end":return e.stop()}}),ww)}var Sw=n(1292),Aw=Object(a.a)().mark(Lw),Rw=null;function Nw(e){var t=e.sessionExpiryTimeInMinutes,n=e.sessionExpiryAlertTime;if(t&&n)try{Object(Sw.a)(),Rw=setTimeout((function(){Nw({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n})}),function(e,t){var n=60*e*1e3-t,r=60*e*1e3/3;return n<=r?Math.max(n-2e3,0):r}(t,n))}catch(r){Object(Pt.b)(r)}}function Lw(){var e,t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ku(Cd.a);case 3:e=a.sent,t=e.payload.applicationConfig,n=sn.a.getAutoExpireUserSessionTimeInMinutes(t),r=l()(t,"otherConfigs.settings.autoExpiryConfig.alertTime");case 7:if(!n||!r){a.next=16;break}return a.next=10,Su([ku(Cj.e),ku(Cj.t),ku(Cj.u)]);case 10:return Nw({sessionExpiryTimeInMinutes:n,sessionExpiryAlertTime:r}),a.next=13,Su([ku(Cj.h),ku(Cj.o),ku(Cj.b)]);case 13:Rw&&clearTimeout(Rw),a.next=7;break;case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 21:return a.prev=21,Rw&&clearTimeout(Rw),a.finish(21);case 24:case"end":return a.stop()}}),Aw,null,[[0,18,21,24]])}var Dw=n(904),Mw=Object(a.a)().mark(Bw),Pw=Object(a.a)().mark(Fw);function Uw(e){return e.type===It}function Bw(e){var t,n,r;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload.events,a.next=4,Mu(jr.g);case 4:return n=a.sent,r=Object(Os.c)(n),a.next=8,_u(t.filter(Uw).map((function(e){return Object(In.d)(r)||Dw.d.emit({type:Dw.a}),null})));case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 13:case"end":return a.stop()}}),Mw,null,[[0,10]])}function Fw(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ld(Qd.k,Bw);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),Pw,null,[[0,5]])}var Gw,Ww=n(1190),zw=function(e,t){return"".concat(sn.a.getParnterId(t),"_").concat(sn.a.getAppId(t),"_").concat(zd.a.getId(Uf.a.getChatUser(e)),"_").concat(Date.now(),"_").concat(Math.random().toString(16).substr(2,8))},Vw=function(e,t){var n=Uf.a.getChatSessionToken(e),r=zw(e,t),a=Uf.a.getInboxServerUrl(e),c=Uf.a.getUserInbox(e);return Gw=new Ww.a({userName:n,clientId:r,inboxServerUrl:a,userInbox:c})},Hw=function(){return Gw};function Yw(e){var t=function(){Hw().disconnect().then((function(){Object(g.a)("MQTT Client | Disconnected")})).catch((function(e){Object(Gn.f)(e)?console.warn(e):console.error("MQTT Client | Disconnection Error ".concat(e))}))};try{Hw().connect().catch((function(e){Object(Gn.f)(e)?console.warn(e):console.error("MQTT Client | Connection Error ".concat(e))})),function(){var e=Hw();e.on("error",(function(){Object(g.a)("MQTT Client | Error")})),e.on("offline",(function(){Object(g.a)("MQTT Client | Offline")})),e.on("reconnect",(function(){Object(g.a)("MQTT Client | Reconnect")})),e.on("close",(function(){Object(g.a)("MQTT Client | Closed")}))}(),Hw().subscribe().catch((function(e){Object(Gn.f)(e)?console.warn(e):console.error("MQTT client | Subscribe Error ".concat(e))})),Hw().on("message",(function(t,n){try{var r=JSON.parse(n.toString());e(r)}catch(a){Object(Pt.b)(a)}}))}catch(n){Object(Pt.b)(n),t()}return t}var qw=Object(Qt.a)((function e(t,n){var r,a=this;if(Object($t.a)(this,e),this.poll=function(){a.isActive&&(a.timeoutId=window.setTimeout((function(){a.handler().finally((function(){a.enableBackOff&&(a.interval=a.interval+a.baseInterval),a.poll()}))}),a.interval))},this.start=function(e){a.isActive||(a.isActive=!0,a.timeoutId=window.setTimeout((function(){a.handler().finally((function(){a.poll()}))}),e||0))},this.stop=function(){a.isActive=!1,a.timeoutId&&(window.clearTimeout(a.timeoutId),a.timeoutId=void 0),a.enableBackOff&&(a.interval=a.baseInterval)},!t)throw new Error("No poll handler defined");this.handler=(r=t,function(){return r().catch((function(){}))}),this.baseInterval=n.pollInterval,this.enableBackOff=n.enableBackOff,this.interval=n.pollInterval,this.timeoutId=void 0,this.isActive=!1})),Kw=qw,Xw=function(){return"A_".concat((e=Date.now(),"".concat(Math.floor(e/1e3).toString(16),"0000000000000000")));var e},Zw=cy()((function(){var e=Xw();return{set:function(t){e=t||e},get:function(){return e}}})),Jw=!0;function Qw(e,t){var n=Zw();return new Kw((function(){return function(e){return Object(Il.__awaiter)(this,void 0,void 0,Object(a.a)().mark((function t(){var n,r,c,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e||Cn.a,r=n.cursor,c=n.lastActiveDiff,t.next=3,wd.a.post("".concat(Cb,"/fetch-notifications").concat(r?"?cursor=".concat(r):""),{p:{lastActiveDiff:c},"x-chat-auto":!0},{backoff:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}}),t)})))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((function(t){var r=t.results,a=t.afterCursor;e(null,r,{isFirstCall:Jw}),Jw=!1,n.set(a)})).catch((function(t){e(Object(Gn.c)(t)?t:null,[],{})}))}),Object(fe.a)(Object(fe.a)({},t||{}),{},{pollInterval:15e3}))}var $w,eC=n(2134),tC=Object(eC.a)(["payload","type"]),nC=Object(en.a)("conversationId"),rC=Object(en.a)("sender"),aC=Object(en.a)("payload"),cC=Object(en.a)("creationTime"),oC=Object(Qt.a)((function e(){Object($t.a)(this,e)}));oC.getMessageType=Object(tn.a)(tC),oC.getConversationId=Object(tn.a)(nC),oC.getSender=Object(tn.a)(rC),oC.getCreationTime=Object(tn.a)(cC),oC.getPayload=function(e){return Object(tn.a)(aC)(e)};var iC=($w={},Object(B.a)($w,ct,(function(e){return{payload:{conversationId:oC.getConversationId(e),messageId:oC.getPayload(e).messageId},type:ct}})),Object(B.a)($w,ot,(function(e){return{payload:{conversationId:oC.getConversationId(e),messageId:oC.getPayload(e).messageId},type:ot}})),Object(B.a)($w,it,(function(e){return{payload:Object(fe.a)(Object(fe.a)({},Xt()(e.payload.externalEvent,["type","action","conversationId","payload"])),{},{actionType:oC.getPayload(e).externalEvent.action,externalParams:oC.getPayload(e).externalEvent.payload,contextId:oC.getConversationId(e)}),type:it}})),Object(B.a)($w,"UI_CONTROL",(function(e){return{type:oC.getPayload(e).event.action,payload:oC.getPayload(e).event.payload?JSON.parse(oC.getPayload(e).event.payload):{}}})),Object(B.a)($w,st,(function(e){return{payload:{conversationId:oC.getConversationId(e),chatUserId:oC.getPayload(e).chatUserId},type:st}})),Object(B.a)($w,ut,(function(e){return{payload:{conversationId:oC.getConversationId(e),sender:oC.getSender(e),actionTime:oC.getCreationTime(e)},type:ut}})),Object(B.a)($w,dt,(function(e){return{payload:{conversationId:oC.getConversationId(e),sender:oC.getSender(e),actionTime:oC.getCreationTime(e)},type:dt}})),Object(B.a)($w,ft,(function(e){return{payload:{conversationId:oC.getConversationId(e),sender:oC.getSender(e),closed:oC.getPayload(e).closed,deleted:oC.getPayload(e).deleted,caseNumber:oC.getPayload(e).caseNumber,expireAssetUntilLastMessageId:oC.getPayload(e).lastMessageId},type:ft}})),Object(B.a)($w,bt,(function(e){var t=oC.getPayload(e).audioOnly;return{payload:{videoConversationId:oC.getPayload(e).videoConversationId,conversationId:oC.getConversationId(e),participantInfos:oC.getPayload(e).participantInfos,type:t?pc.b.AUDIO:pc.b.VIDEO},type:bt}})),Object(B.a)($w,Ot,(function(e){return{payload:{conversationId:oC.getConversationId(e),videoConversationId:oC.getPayload(e).videoConversationId},type:Ot}})),Object(B.a)($w,vt,(function(e){return{payload:{conversationId:oC.getConversationId(e),videoCallEnabled:oC.getPayload(e).videoEnabled,audioCallEnabled:oC.getPayload(e).audioEnabled},type:vt}})),Object(B.a)($w,wt,(function(e){return{payload:{conversationId:oC.getConversationId(e),permissions:oC.getPayload(e).permissions,callMode:oC.getPayload(e).callMode,videoConversationId:oC.getPayload(e).videoConversationId},type:wt}})),Object(B.a)($w,ht,(function(e){return{payload:{conversationId:oC.getConversationId(e),videoConversationId:oC.getPayload(e).conversation.id,conversation:oC.getPayload(e).conversation,participant:oC.getPayload(e).participant},type:ht}})),Object(B.a)($w,jt,(function(e){return{payload:{conversationId:oC.getConversationId(e),videoConversationId:oC.getPayload(e).videoConversationId},type:jt}})),Object(B.a)($w,gt,(function(e){return{payload:{conversationId:oC.getConversationId(e),videoConversationId:oC.getPayload(e).videoConversationId},type:gt}})),Object(B.a)($w,mt,(function(e){return{payload:{status:oC.getPayload(e).status},type:mt}})),Object(B.a)($w,xt,(function(e){return{payload:{conversationId:oC.getConversationId(e),unassignedFrom:oC.getPayload(e).unassignedFrom,assignedTo:oC.getPayload(e).assignedTo,newAssigneeType:oC.getPayload(e).newAssigneeType,oldAssigneeType:oC.getPayload(e).oldAssigneeType,assignmentTime:oC.getPayload(e).assignmentTime},type:xt}})),Object(B.a)($w,yt,(function(e){var t=oC.getPayload(e).action;return{payload:{params:t.params,conversationId:oC.getConversationId(e),type:t.actionType},type:yt}})),Object(B.a)($w,It,(function(e){oC.getPayload(e).action;return{payload:{},type:It}})),$w);function sC(e){try{var t=oC.getMessageType(e),n=iC[t];if(n)return n(e)}catch(r){Object(Pt.b)(r)}}var uC=Object(a.a)().mark(SC),dC=Object(a.a)().mark(AC),lC=Object(a.a)().mark(RC),pC=Object(a.a)().mark(NC),fC=Object(a.a)().mark(LC),bC=Object(a.a)().mark(DC),OC=Object(a.a)().mark(MC),vC=Object(a.a)().mark(PC),hC=Object(a.a)().mark(UC),jC=Object(a.a)().mark(BC),gC=Object(a.a)().mark(FC),mC=function(){var e=new Set;return{add:function(t){return e.add(t)},clear:function(){return e.clear()},has:function(t){return e.has(t)}}}(),xC=function(){var e=0,t=!0;return{getLastActiveTimeDifference:function(){return t?0:Date.now()-e},setAppActive:function(n){t=n,n||(e=Date.now())}}}(),yC=function(e,t){return function(e,t){var n;function r(){n&&n.stop()}try{(n=Qw(e,t)).start(15e3)}catch(a){r()}return r}((function(t,n,r){var a=r.isFirstCall;if(e(Object(ir.g)(!t)),!t){var c=n.filter((function(e){return!mC.has(e.id)})).map(sC).filter((function(e){return!!e})).filter((function(e){return!a||!function(e){return e.type===ht||e.type===bt}(e)}));e(c),mC.clear()}}),Object(fe.a)(Object(fe.a)({},t),{},{getLastActiveTimeDifference:xC.getLastActiveTimeDifference}))};function IC(){return ad((function(e){var t=function(e){return Yw((function(t){var n=sC(t);n&&(mC.add(t.id),e(n))}))}(e);return function(){t()}}))}function wC(){return ad((function(e){var t=yC(e);return function(){t()}}))}function CC(){return ad((function(e){var t,n=yC(e,{enableBackOff:!0});return t=window.setTimeout((function(){n()}),432e5),function(){t&&window.clearTimeout(t),n()}}))}var EC=function(e){return e.type===Qd.e},kC=function(e){return!EC(e)},TC=function(){var e;return"CONVERSATION"===(null===(e=window.sprChatSettings)||void 0===e?void 0:e.scope)},_C=function(e,t,n){var r=l()(e.payload,"contextId")||l()(e.payload,"conversationId");return!!t&&(!r||!n||n.startsWith(Na.e)||r===n)};function SC(e){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_u(e.filter(EC).map((function(e){return Tu(e)})));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 8:case"end":return t.stop()}}),uC,null,[[0,5]])}function AC(e){var t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,t=e.filter(kC),!TC()){a.next=9;break}return a.next=5,Mu(vm.e);case 5:n=a.sent,r=n.isConversationPath,c=n.conversationId,t=t.filter((function(e){return _C(e,r,c)}));case 9:if(f()(t)){a.next=14;break}return a.next=12,Tu({type:Qd.k,payload:{events:t}});case 12:return a.next=14,Tu(Object(ir.e)());case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),Object(Pt.b)(a.t0);case 19:case"end":return a.stop()}}),dC,null,[[0,16]])}function RC(e){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=Bd()(e),n.next=4,_u([Ru(SC,t),Ru(AC,t)]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 9:case"end":return n.stop()}}),lC,null,[[0,6]])}function NC(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.prev=1,n.next=4,Ru(CC);case 4:return e=n.sent,n.next=7,Ld(e,RC);case 7:return t=n.sent,n.next=10,ku(Qd.a);case 10:n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:if(n.prev=14,e&&e.close(),!t||t.isCancelled()){n.next=19;break}return n.next=19,Du(t);case 19:return n.finish(14);case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(0),Object(Pt.b)(n.t1);case 25:case"end":return n.stop()}}),pC,null,[[0,22],[1,12,14,20]])}function LC(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,ku(Qd.b);case 4:return n.next=6,Su([ku(Qd.a),Uu(18e5)]);case 6:if(e=n.sent,t=Object(qt.a)(e,2),t[0],!t[1]){n.next=12;break}return n.abrupt("break",14);case 12:n.next=1;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 19:case"end":return n.stop()}}),fC,null,[[0,16]])}function DC(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.prev=1,n.next=4,Ru(wC);case 4:return e=n.sent,n.next=7,Ld(e,RC);case 7:return t=n.sent,n.next=10,Ru(LC);case 10:n.next=14;break;case 12:n.prev=12,n.t0=n.catch(1);case 14:if(n.prev=14,e&&e.close(),!t||t.isCancelled()){n.next=19;break}return n.next=19,Du(t);case 19:return n.finish(14);case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(0),Object(Pt.b)(n.t1);case 25:case"end":return n.stop()}}),bC,null,[[0,22],[1,12,14,20]])}function MC(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.next=4,ku(Qd.b);case 4:return n.next=6,Su([ku(Qd.a),Uu(108e5)]);case 6:if(e=n.sent,t=Object(qt.a)(e,2),t[0],!t[1]){n.next=12;break}return n.abrupt("break",14);case 12:n.next=1;break;case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),Object(Pt.b)(n.t0);case 19:case"end":return n.stop()}}),OC,null,[[0,16]])}function PC(){var e,t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:return n.prev=2,n.next=5,Su([ku(Qd.i),ku(Qd.a)]);case 5:return n.next=7,Ru(IC);case 7:return e=n.sent,n.next=10,Ld(e,RC);case 10:return t=n.sent,n.next=13,Ru(MC);case 13:n.next=17;break;case 15:n.prev=15,n.t0=n.catch(2);case 17:if(n.prev=17,e&&e.close(),!t||t.isCancelled()){n.next=22;break}return n.next=22,Du(t);case 22:return n.finish(17);case 23:n.next=1;break;case 25:n.next=30;break;case 27:n.prev=27,n.t1=n.catch(0),Object(Pt.b)(n.t1);case 30:case"end":return n.stop()}}),vC,null,[[0,27],[2,15,17,23]])}function UC(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Su([ku(Qd.h),ku(Qd.a)]);case 3:return e.next=6,Ru(DC);case 6:return e.next=8,Ru(NC);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 15:case"end":return e.stop()}}),hC,null,[[0,12]])}function BC(){var e,t,n;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0;case 1:return r.next=4,Su([ku(Qd.a),ku(Qd.b)]);case 4:e=r.sent,t=Object(qt.a)(e,2),n=t[0],t[1],xC.setAppActive(!!n),r.next=1;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(0),Object(Pt.b)(r.t0);case 16:case"end":return r.stop()}}),jC,null,[[0,13]])}function FC(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(PC),Nu(UC),Nu(BC)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),gC,null,[[0,5]])}var GC=n(99),WC=n.n(GC),zC=function(){var e=Object(c.a)(Object(a.a)().mark((function e(t){var r,c,o,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.applicationConfig,c=t.preloadedState,e.prev=1,j.a.reset(),R(k),e.next=6,Pn(Object(b.a)());case 6:o=e.sent,kn({handshakeDetails:o}),Vn(o.chatUser),r.hasPrompts&&n.e(49).then(n.bind(null,2107)).then((function(e){(0,e.default)(r,o)})),oE(null,{applicationConfig:r,handshakeDetails:o,chatSettings:Object(b.a)(),subscribeToEvent:Bn,preloadedState:c}),e.next=22;break;case 13:if(e.prev=13,e.t0=e.catch(1),i=Jt.a.getUserSettings(Object(b.a)()),!(Object(Gn.e)(e.t0)&&i&&on.getOneTimeToken(i))){e.next=20;break}oE(e.t0,{applicationConfig:r,handshakeDetails:o,chatSettings:Object(b.a)(),subscribeToEvent:Bn,preloadedState:c}),e.next=22;break;case 20:return e.next=22,Fn();case 22:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),VC=zC,HC=Object(a.a)().mark(ZC),YC=Object(a.a)().mark(JC),qC=Object(a.a)().mark(QC),KC=Object(a.a)().mark($C),XC=Object(a.a)().mark(eE);function ZC(){var e,t,n,r,c;return Object(a.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ku(Cd.a);case 3:e=a.sent,t=e.payload.applicationConfig;case 5:return a.prev=6,a.next=9,ku(Cd.b);case 9:if(n=a.sent,r=n.payload.shouldContinueSession,c=void 0,!r){a.next=16;break}return a.next=15,Mu(WC.a);case 15:c=a.sent;case 16:return a.next=18,VC({applicationConfig:t,preloadedState:c});case 18:a.next=23;break;case 20:a.prev=20,a.t0=a.catch(6),Object(Pt.b)(a.t0);case 23:a.next=5;break;case 25:a.next=30;break;case 27:a.prev=27,a.t1=a.catch(0),Object(Pt.b)(a.t1);case 30:case"end":return a.stop()}}),HC,null,[[0,27],[6,20]])}function JC(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(ex),Nu(gw),Nu(Sy),Nu(Py),Nu(gI),Nu(YI),Nu(XI),Nu(II),Nu(UI),Nu(WI),Nu(jx),Nu(_w),Nu(Lw),Nu(Fw),Nu(FC)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),YC,null,[[0,5]])}function QC(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ku(Cd.c);case 3:R(S),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 9:case"end":return e.stop()}}),qC,null,[[0,6]])}function $C(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_u([Nu(ZC),Nu(pw),Nu(tw),Nu(QC)]);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(Pt.b)(e.t0);case 8:case"end":return e.stop()}}),KC,null,[[0,5]])}function eE(){var e;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nu($C);case 3:return t.next=5,Nu(JC);case 5:return e=t.sent,t.next=8,ku(Cd.c);case 8:return t.next=10,Du(e);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Object(Pt.b)(t.t0);case 15:case"end":return t.stop()}}),XC,null,[[0,12]])}var tE=Object(a.a)().mark(nE);function nE(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u([Nu(Om),Nu(eE)]);case 2:case"end":return e.stop()}}),tE)}var rE=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(new Ed).setReducer(jr.a).setSaga(nE).setPreloadedState(r).setHTTPClient(Ke.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build()};function aE(e){var t=e.applicationConfig,n=e.store,r=e.history,a=Object(b.b)().document,c=Object(O.K)()?O.a:O.b;Xn.a.render(Object(sr.jsx)(hs,{applicationConfig:t,history:r,store:n}),c(a,"spr-live-chat-app"))}function cE(e,t){var n=t.applicationConfig,r=t.handshakeDetails,a=t.chatSettings,c=t.subscribeToEvent,o=rE(n,r,a),i=Object(Ee.b)({isUnauthorized:!!e});Vw(r,n);c((function(t){e||o.dispatch(t)})),aE({applicationConfig:n,store:o,history:i})}function oE(e,t){var n=t.applicationConfig,r=t.handshakeDetails,a=t.chatSettings,c=t.subscribeToEvent,o=t.preloadedState,i=rE(n,r,a,o),s=Object(Ee.b)({isUnauthorized:!!e,reset:!o});Vw(r,n);c((function(t){e||i.dispatch(t)})),aE({applicationConfig:n,store:i,history:s}),o?s.goBack():s.go(s.entries.length-1)}function iE(){return(iE=Object(c.a)(Object(a.a)().mark((function e(){var t,r,c,o,i,s,u,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=Object(b.a)(),!f()(t)){e.next=4;break}throw new Error;case 4:return e.next=6,Sn(t);case 6:return kn({getSessionToken:function(){return Object(dn.a)(t.appId)}}),e.next=9,Un(t);case 9:if(o=e.sent,i=Object(qt.a)(o,2),s=i[0],u=i[1],r=s.value,c=u.value,"rejected"!==u.status){e.next=17;break}throw u.reason;case 17:if("rejected"!==s.status){e.next=19;break}throw new Error;case 19:Hn(c,r),_n(r),kn({applicationConfig:r,handshakeDetails:c}),r.hasPrompts&&n.e(49).then(n.bind(null,2107)).then((function(e){(0,e.default)(r,c)})),cE(null,{applicationConfig:r,handshakeDetails:c,chatSettings:t,subscribeToEvent:Bn}),e.next=35;break;case 26:if(e.prev=26,e.t0=e.catch(0),d=Jt.a.getUserSettings(t),!(Object(Gn.e)(e.t0)&&d&&on.getOneTimeToken(d))){e.next=33;break}cE(e.t0,{applicationConfig:r,handshakeDetails:c,chatSettings:t,subscribeToEvent:Bn}),e.next=35;break;case 33:return e.next=35,Fn();case 35:case"end":return e.stop()}}),e,null,[[0,26]])})))).apply(this,arguments)}var sE=function(){!function(){function e(){return t.apply(this,arguments)}function t(){return t=Object(c.a)(Object(a.a)().mark((function e(){var t=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ht.apply(void 0,t);case 1:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}var n=Object(b.e)();e.q=n?n.q:[],e.loaded=!0,Object(b.b)().sprChat=e}();var e=Object(O.w)();n(1270)("./".concat(e.toLowerCase(),"/pages"));var t=Object(b.e)();h.apply(void 0,Object(r.a)(t.q)),function(){iE.apply(this,arguments)}();var o=Object(b.a)(),s=o.meetingId,d=o.user,p=o.otp,v=l()(d,"oneTimeToken");f()(s)&&f()(v)&&f()(p)||t("open");var j,g=Object(b.a)().autoTrigger;j=!0===g?0:i()(g)?1e3*Math.max(g,0):null,u()(j)||setTimeout((function(){t("openNewConversation")}),j)}},2134:function(e,t,n){"use strict";var r=n(720),a=n(864),c=n(903),o=n(962),i=Number.isInteger||function(e){return e<<0===e},s=n(1217),u=n(1644),d=Object(a.a)((function e(t,n,r){if(0===t.length)return n;var a=t[0];if(t.length>1){var d=!Object(u.a)(r)&&Object(c.a)(a,r)?r[a]:i(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,d)}if(i(a)&&Object(o.a)(r)){var l=[].concat(r);return l[a]=n,l}return Object(s.a)(a,n,r)})),l=n(1529),p=n(1216),f=Object(r.a)((function(e){return Object(l.a)(Object(p.a)(e),d(e))}));t.a=f},617:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(607),a=n(778),c=n(1195),o=n(20),i=n(867);function s(e){return Object(o.I)()||Object(c.b)(e)&&!Object(i.a)()}t.a=function(){var e=Object(a.a)();return Object(r.useMemo)((function(){return s(e)}),[e])}},618:function(e,t,n){"use strict";var r=n(607),a=n(816);t.a=function(){return Object(r.useContext)(a.a)}},619:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return a}));var r=n(958),a={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",LANGUAGE:"language",MINIMIZE:"minimize",MAXIMIZE:"maximize",SNACKBAR_SUCCESS:"snackbarSuccess",SNACKBAR_FAILURE:"snackbarFailure"}},623:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(607),a=n(795);function c(){return Object(r.useContext)(a.b).otherConfigs}},624:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(607),a=n(732),c=n(612),o=function(e){var t=Object(c.c)();return Object(r.useMemo)((function(){return Object(a.b)(e,t)}),[e,t])}},630:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return O}));var r=n(978),a=n.n(r),c=n(690),o=n(776);function i(e){return{type:e?c.b:c.d,payload:{}}}function s(){return{type:c.j,payload:{}}}var u=a()(i,!0);a()(i,!1);function d(){return{type:c.g,payload:{}}}function l(e){return{type:c.k,payload:e}}function p(e,t,n){return{type:c.p,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function f(e,t){return{type:c.q,payload:{userPreferenceKey:e,value:t}}}var b=function(e){return{type:o.b,payload:e}},O=function(e){var t=e.value;return{type:c.n,payload:{value:t}}}},633:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(615),a=n(614),c=n(2138),o=n(2051),i=Object(c.a)("field"),s=Object(c.a)("values"),u=Object(c.a)("filterType"),d=Object(c.a)("filters"),l=Object(c.a)("details"),p=Object(c.a)("id"),f=Object(r.a)((function e(){Object(a.a)(this,e)}));f.getField=Object(o.a)(i),f.getValues=Object(o.a)(s),f.getFilterType=Object(o.a)(u),f.getFilters=Object(o.a)(d),f.getDetails=Object(o.a)(l),f.getId=Object(o.a)(p)},639:function(e,t,n){"use strict";var r=n(607),a=n(664),c=n.n(a),o=n(39),i=n.n(o),s=n(275),u=n.n(s),d=n(618),l=n(831);t.a=function(){var e=Object(d.a)(),t=e.locale,n=e.language;return Object(r.useCallback)((function(e,r){var a=u()(e,"langVsTranslatedFieldValues");if(!i()(a))return u()(e,r);var o=u()(a,t)||u()(a,n);return o||(o=c()(a,(function(e,t){return Object(l.b)(t)===n}))),u()(o,r)||u()(e,r)}),[t,n])}},643:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(607),a=n(795);function c(){return Object(r.useContext)(a.b)}},647:function(e,t,n){"use strict";var r=n(607),a=n(1530);t.a=function(){return Object(r.useContext)(a.a)}},648:function(e,t,n){"use strict";var r=n(611);t.a=Object(r.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"},messageDeleteDescription:{id:"messageDeleteDescription",defaultMessage:"This message was deleted"},confirmationDialog:{id:"confirmationDialog",defaultMessage:"Confirmation dialog"}})},659:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"s",(function(){return f})),n.d(t,"p",(function(){return b})),n.d(t,"A",(function(){return O})),n.d(t,"z",(function(){return v})),n.d(t,"v",(function(){return h})),n.d(t,"t",(function(){return j})),n.d(t,"u",(function(){return g})),n.d(t,"w",(function(){return m})),n.d(t,"x",(function(){return x})),n.d(t,"o",(function(){return y})),n.d(t,"l",(function(){return I})),n.d(t,"n",(function(){return w})),n.d(t,"D",(function(){return C})),n.d(t,"B",(function(){return E})),n.d(t,"C",(function(){return k})),n.d(t,"E",(function(){return T})),n.d(t,"y",(function(){return _})),n.d(t,"k",(function(){return S})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return R})),n.d(t,"q",(function(){return N})),n.d(t,"c",(function(){return L})),n.d(t,"r",(function(){return D})),n.d(t,"m",(function(){return M})),n.d(t,"j",(function(){return P}));var r=n(655),a=n(796),c=n(910),o=n(636),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldFetchNumberOfOpenConversation,n=void 0!==t&&t,a=e.size,c=e.cursor;return{payload:{shouldFetchNumberOfOpenConversation:n,size:a,cursor:c},type:r.f}},s=function(e,t){var n=t.cursor,a=t.size;return function(t){return{payload:{conversationId:e,cursor:n,size:a},type:r.l,promise:t}}},u=function(e){var t=e.conversationId,n=e.query,a=e.faqAttachment,c=e.locale;return function(e){return{payload:{conversationId:t,query:n,faqAttachment:a,locale:c},type:r.A,promise:e}}},d=function(e){var t=e.conversationId,n=e.includeAll;return function(e){return{payload:{conversationId:t,includeAll:n},type:r.i,promise:e}}},l=function(e){var t=e.conversationId,n=e.includeAll;return function(e){return{payload:{conversationId:t,includeAll:n},type:r.h,promise:e}}},p=function(e){return{type:r.j,payload:e}},f=function(e){return function(t){return{payload:{conversationId:e},type:r.o,promise:t}}},b=function(e){return{type:r.H,payload:{chatMessage:e,conversationId:o.a.getConversationId(e)}}},O=function(e){var t=e.text,n=e.conversationId,a=e.sender,c=e.disableManualResponse,o=e.inReplyToChatMessageId;return{type:r.Z,payload:{text:t,conversationId:n,sender:a,disableManualResponse:c,inReplyToChatMessageId:o}}},v=function(e){var t=e.postback,n=e.conversationId,a=e.sender,c=e.inReplyToChatMessageId;return function(e){return{type:r.Y,payload:{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:c},promise:e}}},h=function(e){return{type:r.z,payload:e}},j=function(e){var t=e.action,n=e.conversationId,r=Object(c.a)(t.actionId,t.attachment);return h({type:a.a,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},g=function(e){var t=e.action,n=e.conversationId,r=Object(c.a)(t.actionId,t.attachment);return h({type:a.b,payload:{contextId:n,actionId:r.params,actionPayload:t.values}})},m=function(e){var t=e.id,n=e.conversationId,r=e.messageId;return h({type:a.e,payload:{id:t,contextId:n,sprMsgId:r}})},x=function(e){var t=e.id,n=e.conversationId,r=e.messageId;return h({type:a.g,payload:{id:t,contextId:n,sprMsgId:r}})},y=function(e){var t=e.attachment,n=e.actionId;return function(e){var a=Object(c.a)(n,t);return{type:r.Q,payload:{url:a.url,target:a.target},promise:e}}},I=function(e){var t=e.attachment,n=e.actionId;return function(e){var a=Object(c.a)(n,t);return{type:r.p,payload:{phoneNumber:a.phoneNumber},promise:e}}},w=function(e){var t=e.surveyUrl,n=e.shouldReplace,a=e.conversationId;return{type:r.U,payload:{surveyUrl:t,shouldReplace:n,conversationId:a}}},C=function(){return{type:r.W,payload:{}}},E=function(){return{type:r.T,payload:{}}},k=function(){return{type:r.X,payload:{}}},T=function(e){var t=e.actionParams,n=e.conversationId,a=e.sender,o=e.appContext,i=e.inReplyToChatMessageId;return function(e){return{type:r.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(c.b)(t)}),conversationId:n,sender:a,appContext:o,inReplyToChatMessageId:i},promise:e}}},_=function(e){var t=e.postback,n=e.conversationId,a=e.sender,c=e.inReplyToChatMessageId;return{type:r.R,payload:{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:c}}},S=function(e,t){return function(n){return{type:r.K,payload:{conversationId:e,appContext:t},promise:n}}},A=function(e){return{type:r.v,payload:{conversationId:e}}},R=function(e,t,n){return{type:r.s,payload:{conversationId:t,caseId:e,context:n}}},N=function(e,t){return{type:r.D,payload:{chatMessage:e,conversationId:o.a.getConversationId(e),alternateUserIds:t}}},L=function(e,t){return function(n){return{type:r.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}}},D=function(e,t){return{type:r.E,payload:{chatMessageId:t,conversationId:e}}};function M(e,t){return{type:r.O,payload:{conversationId:e,lastReadMessageId:t}}}function P(){return{type:r.B,payload:{}}}},660:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_CREATED:{id:"NEW_CONVERSATION_CREATED",label:"New conversation created"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},VIDEO_CALL_CARD_CTA_CLICKED:{id:"VIDEO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from video call card"},AUDIO_CALL_CARD_CTA_CLICKED:{id:"AUDIO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from audio call card"},VIDEO_CALL_LAUNCH_CLICKED:{id:"VIDEO_CALL_LAUNCH_CLICKED",label:"Video call launch clicked"},AUDIO_CALL_LAUNCH_CLICKED:{id:"AUDIO_CALL_LAUNCH_CLICKED",label:"Audio call launch clicked"},VIDEO_CALL_LAUNCHED:{id:"VIDEO_CALL_LAUNCHED",label:"Video call launched"},AUDIO_CALL_LAUNCHED:{id:"AUDIO_CALL_LAUNCHED",label:"Audio call launched"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"},GUIDED_WORKFLOW_BACK_PRESSED:{id:"GUIDED_WORKFLOW_BACK_PRESSED",label:"Guided workflow back pressed"},VIDEO_CALL_JOIN_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_CTA_CLICKED",label:"Video call join CTA clicked"},VIDEO_CALL_JOIN_BACK_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_BACK_CTA_CLICKED",label:"Video call join back CTA clicked"},AUDIO_CALL_JOIN_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_CTA_CLICKED",label:"Audio call join CTA clicked"},AUDIO_CALL_JOIN_BACK_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_BACK_CTA_CLICKED",label:"Audio call join back CTA clicked"},VIDEO_CALL_END_CLICKED:{id:"VIDEO_CALL_END_CLICKED",label:"Video call end clicked"},AUDIO_CALL_END_CLICKED:{id:"AUDIO_CALL_END_CLICKED",label:"Audio call end clicked"},INFO_CARD_OPENED:{id:"INFO_CARD_OPENED",label:"Info card opened"},INFO_CARD_CLOSED:{id:"INFO_CARD_CLOSED",label:"Info card closed"},USER_PROFILE_UPDATED:{id:"USER_PROFILE_UPDATED",label:"User Profile Updated"},WIDGET_MAXIMIZED:{id:"WIDGET_MAXIMIZED",label:"Widget maximized"},WIDGET_MINIMIZED:{id:"WIDGET_MINIMIZED",label:"Widget minimized"},PROACTIVE_PROMPT_TRIGGERED:{id:"PROACTIVE_PROMPT_TRIGGERED",label:"Proactive prompt triggered"},PROACTIVE_PROMPT_ENGAGED:{id:"PROACTIVE_PROMPT_ENGAGED",label:"Proactive prompt engaged"},PROACTIVE_PROMPT_CLOSED:{id:"PROACTIVE_PROMPT_CLOSED",label:"Proactive prompt closed"},PAGE_OPENED:{id:"PAGE_OPENED",label:"Page opened"},CHAT_TRIGGER_REMOVED:{id:"CHAT_TRIGGER_REMOVED",label:"Chat trigger removed"}}},669:function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"j",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return O}));var r="unreadCountChanged",a="externalEventTriggered",c="loaded",o="loadCompleted",i="closed",s="availabilityChanged",u="promptActionTriggered",d="mediaShown",l="mediaClosed",p="eventTriggered",f="registerDeviceTriggered",b="unregisterDeviceTriggered",O="onPermissionSeeked"},691:function(e,t,n){"use strict";var r=n(966),a=new(n(1053).a);a.on((function(e){var t=e.topic,n=e.payload,a=void 0===n?{}:n;t&&Object(r.a)({topic:t,payload:{response:{data:a.data,error:a.error},request:a.request}})})),t.a=function(e){a.emit(e)}},695:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(607),a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.useCallback)((function(e){t.forEach((function(t){t&&("function"===typeof t?t(e):t.current=e)}))}),[].concat(t))}},699:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s}));var r=/^https?:\/\//i,a=function(e){return e.match(r)?e:"https://".concat(e)},c=function(e){return"tel:".concat(e)},o=function(e){return e.map((function(e){return"".concat(e.key,"=").concat(e.value)})).join("&")},i=function(e){return!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www"))},s=function(e,t){var n=new URL(e);return t.forEach((function(e){n.searchParams.set(e.key,e.value)})),n.toString()}},701:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(183),a=n(607),c=n.n(a),o=n(642),i=n.n(o),s=n(608),u={SUCCESS:"SUCCESS",FAILURE:"FAILURE"},d=c.a.createContext({notification:void 0,setNotification:i.a}),l=function(e){var t=Object(a.useState)(void 0),n=Object(r.a)(t,2),c=n[0],o=n[1],i=Object(a.useMemo)((function(){return{notification:c,setNotification:o}}),[c,o]);return Object(s.jsx)(d.Provider,{value:i},e.children)};t.c=d},703:function(e,t,n){"use strict";var r=n(659);n.d(t,"a",(function(){return r.f})),n.d(t,"b",(function(){return r.g})),n.d(t,"c",(function(){return r.h})),n.d(t,"d",(function(){return r.l})),n.d(t,"e",(function(){return r.n})),n.d(t,"f",(function(){return r.o})),n.d(t,"g",(function(){return r.q})),n.d(t,"h",(function(){return r.r})),n.d(t,"i",(function(){return r.t})),n.d(t,"j",(function(){return r.u})),n.d(t,"k",(function(){return r.v})),n.d(t,"l",(function(){return r.w})),n.d(t,"m",(function(){return r.x})),n.d(t,"n",(function(){return r.y})),n.d(t,"o",(function(){return r.z})),n.d(t,"p",(function(){return r.B})),n.d(t,"q",(function(){return r.C})),n.d(t,"r",(function(){return r.D})),n.d(t,"s",(function(){return r.E}));n(1081)},710:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return p}));var r=n(694),a=n(908),c=function(e){var t=e.ssoId,n=e.conversationId,a=e.messageId;return function(e){return{type:r.d,payload:{ssoId:t,conversationId:n,messageId:a},promise:e}}};function o(){return{type:r.h,payload:{}}}function i(e){return{type:r.e,payload:{status:e?a.a.CONNECTED:a.a.DISCONNECTED}}}function s(e){var t=e.waitTime,n=e.reason;return{type:r.j,payload:{waitTime:t,reason:n}}}function u(){return{type:r.m,payload:{}}}function d(e){return{type:r.g,payload:e}}function l(){return{type:r.f,payload:{}}}function p(){return{type:r.i,payload:{}}}},711:function(e,t,n){"use strict";var r=n(660);n.d(t,"a",(function(){return r.a}))},713:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},723:function(e,t,n){"use strict";var r=n(1277),a=n(607);t.a=function(){return Object(a.useContext)(r.a)}},724:function(e,t,n){"use strict";var r=n(135),a=n(185),c=n(183),o=n(607),i=n(652),s=n(673),u=n(661);t.a=function(e,t,n){var d=t.onSuccess,l=t.onFailure,p=t.ignoreResults,f=Object(o.useRef)(0),b=Object(o.useState)(),O=Object(c.a)(b,2),v=O[0],h=O[1],j=i.a.getType(e),g=i.a.getUrl(e),m=Object(o.useCallback)((function(){return f.current+=1,f.current}),[]),x=Object(o.useCallback)((function(e){return f.current===e}),[]),y=Object(o.useCallback)(function(){var e=Object(a.a)(Object(r.a)().mark((function e(t){var a,c,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m(),e.prev=1,e.next=4,j===u.a.POST&&"application/x-www-form-urlencoded"===(null===n||void 0===n||null===(c=n.headers)||void 0===c?void 0:c["Content-Type"])&&t?s.a[j](g,{p:t},n):s.a[j](g,t,n);case 4:return o=e.sent,!p&&x(a)&&h(o.data),d&&d(o.data),e.abrupt("return",o.data);case 10:throw e.prev=10,e.t0=e.catch(1),l&&l(e.t0),!p&&x(a)&&h(void 0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),[j,g,m,x]);return[y,{data:v}]}},741:function(e,t,n){"use strict";var r=n(607),a=n(701);t.a=function(){return Object(r.useContext)(a.c)}},760:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(616),a=n(608),c=n(640),o=n(607),i=n.n(o),s=n(632),u=n.n(s),d=n(702),l=n(619),p=n(609),f=n(613);var b=Object(p.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",f.k,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),O={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"},v=["iconName","iconCss","Icon","onLoad","onClick"],h=i.a.forwardRef((function(e,t){var n=e.iconName,i=e.iconCss,s=e.Icon,p=e.onLoad,f=e.onClick,h=Object(c.a)(e,v),j=Object(d.a)().isKeyboardEventLast,g=Object(o.useCallback)((function(e){j||e.currentTarget.blur(),f&&f(e)}),[j,f]);return Object(a.jsx)(b,Object(r.a)({},h,{ref:t,className:u()("center-x-y",e.className),onClick:g}),Object(a.jsx)(l.b,{alt:s,name:n,css:Object(a.css)([O,i],""),onLoad:p,"aria-hidden":!0,focusable:!1}),e.children)}))},761:function(e,t,n){"use strict";n.d(t,"h",(function(){return W})),n.d(t,"c",(function(){return z})),n.d(t,"g",(function(){return V})),n.d(t,"d",(function(){return H})),n.d(t,"e",(function(){return Y})),n.d(t,"b",(function(){return q})),n.d(t,"a",(function(){return K})),n.d(t,"i",(function(){return X})),n.d(t,"f",(function(){return Z}));var r,a=n(63),c=(n(136),n(275)),o=n.n(c),i=n(664),s=n.n(i),u=n(677),d=n.n(u),l=n(1687),p=n.n(l),f=n(188),b=n.n(f),O=n(611),v=n(619),h=n(607),j=["title","titleId"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function x(e,t){var n=e.title,a=e.titleId,c=m(e,j);return h.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 11.063",ref:t,"aria-labelledby":a},c),n?h.createElement("title",{id:a},n):null,r||(r=h.createElement("g",null,h.createElement("path",{d:"M6.979 4.274c-1.128 0-2.081.951-2.083 2.08A2.101 2.101 0 0 0 7 8.48a2.1 2.1 0 0 0 2.102-2.099 2.1 2.1 0 0 0-2.123-2.107z"}),h.createElement("path",{d:"M13.5 2.063h-3.052c-.02-.016-.039-.031-.057-.058C9.99 1.386 9.581.772 9.184.151 9.108.032 9.024 0 8.891 0 7.616.004 6.34.004 5.065.001c-.09 0-.143.026-.192.101-.42.635-.844 1.267-1.262 1.903a.202.202 0 0 1-.059.058H.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5zM7.351 9.858c-2.052.198-3.653-1.335-3.832-3.115a3.501 3.501 0 0 1 3.396-3.865 3.496 3.496 0 0 1 3.582 3.372 3.494 3.494 0 0 1-3.146 3.608z"}))))}var y,I,w=h.forwardRef(x),C=(n.p,n(1078)),E=n(637),k=n(739),T=n(629),_=n(635),S=n(736),A=n(712),R=n(190),N=n(644),L=n(20),D=n(1271),M=/^CASE_(\w+)/,P=/^CONVERSATION_(\w+)/,U=Object(O.g)({image:{id:"image",defaultMessage:"Image"},video:{id:"video",defaultMessage:"Video"},attachment:{id:"attachment",defaultMessage:"Attachment"},card:{id:"card",defaultMessage:"Card"},carousel:{id:"carousel",defaultMessage:"Carousel"},progressBar:{id:"progressBar",defaultMessage:"Progress Bar"},audio:{id:"audio",defaultMessage:"Audio"},document:{id:"document",defaultMessage:"Document"},form:{id:"form",defaultMessage:"Form"},contactDetailsForm:{id:"contactDetailsForm",defaultMessage:"Contact Details Form"},feedbackSurvey:{id:"feedbackSurvey",defaultMessage:"Feedback Survey"},secureForm:{id:"secureForm",defaultMessage:"Secure Form"},survey:{id:"survey",defaultMessage:"Survey"},cobrowseInvite:{id:"cobrowseInvite",defaultMessage:"Co-browse invite"},quickSelectCard:{id:"quickSelectCard",defaultMessage:"Quick Select Card"},disclaimerCard:{id:"disclaimerCard",defaultMessage:"Disclaimer Card"},appointment:{id:"appointment",defaultMessage:"Appointment"},faq:{id:"faq",defaultMessage:"Frequently Asked Questions"},productCard:{id:"productCard",defaultMessage:"Product Card"},productShowcaseCard:{id:"productShowcaseCard",defaultMessage:"Product Showcase Card"},productBanner:{id:"productBanner",defaultMessage:"Product Banner"},productList:{id:"productList",defaultMessage:"Product List"}}),B=(y={},Object(a.a)(y,N.c.IMAGE,U.image),Object(a.a)(y,N.c.VIDEO,U.video),Object(a.a)(y,N.c.CARD,U.card),Object(a.a)(y,N.c.CAROUSEL,U.carousel),Object(a.a)(y,N.c.RICH_TEXT_CAROUSEL,U.carousel),Object(a.a)(y,N.c.PROGRESS_BAR,U.progressBar),Object(a.a)(y,N.c.AUDIO,U.audio),Object(a.a)(y,N.c.DOCUMENT,U.document),Object(a.a)(y,N.c.CONTACT_DETAILS_FORM,U.contactDetailsForm),Object(a.a)(y,N.c.FORM,U.form),Object(a.a)(y,N.c.FEEDBACK_FORM,U.feedbackSurvey),Object(a.a)(y,N.c.SECURE_FORM,U.secureForm),Object(a.a)(y,N.c.SURVEY,U.survey),Object(a.a)(y,N.c.CO_BROWSE_INVITE,U.cobrowseInvite),Object(a.a)(y,N.c.QUICK_SELECT_CARD,U.quickSelectCard),Object(a.a)(y,N.c.DISCLAIMER_CARD,U.disclaimerCard),Object(a.a)(y,N.c.APPOINTMENT,U.appointment),Object(a.a)(y,N.c.FAQ,U.faq),Object(a.a)(y,N.c.PRODUCT_CARD,U.productCard),Object(a.a)(y,N.c.PRODUCT_SHOWCASE_CARD,U.productShowcaseCard),Object(a.a)(y,N.c.PRODUCT_BANNER,U.productBanner),Object(a.a)(y,N.c.PRODUCT_LIST,U.productList),Object(a.a)(y,"DEFAULT",U.attachment),y),F=(I={},Object(a.a)(I,N.c.IMAGE,{Component:w,label:U.image,name:v.a.CAMERA}),Object(a.a)(I,N.c.VIDEO,{Component:C.a,label:U.video,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.CARD,{Component:C.a,label:U.card,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.CAROUSEL,{Component:C.a,label:U.carousel,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.RICH_TEXT_CAROUSEL,{Component:C.a,label:U.carousel,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.PROGRESS_BAR,{Component:C.a,label:U.progressBar,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.AUDIO,{Component:C.a,label:U.audio,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.DOCUMENT,{Component:C.a,label:U.document,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.CONTACT_DETAILS_FORM,{Component:C.a,label:U.contactDetailsForm,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.FORM,{Component:C.a,label:U.form,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.FEEDBACK_FORM,{Component:C.a,label:U.feedbackSurvey,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.SECURE_FORM,{Component:C.a,label:U.secureForm,name:v.a.ATTACHMENT}),Object(a.a)(I,N.c.SURVEY,{Component:C.a,label:U.survey,name:v.a.ATTACHMENT}),Object(a.a)(I,"DEFAULT",{Component:C.a,label:U.attachment,name:v.a.ATTACHMENT}),I),G=function(e){return e&&!!e.match(P)},W=function(e){return e&&!!e.match(M)},z=function(e){return W(e)?e.match(M)[0].split("_")[1]:void 0};function V(e,t,n){var r,a=Object(T.e)(e),c=Object(_.p)(Object(T.c)(e)),i=Object(k.a)(a),s=Object(k.d)(a),u=E.a.getMaximumOpenConversations(t),l=o()(u,"limit"),p=Object(_.t)(c),f=!!l&&!d()(p)&&l<=p,b=!!o()(u,"replaceNewConversationButton");return i?r=s:f&&(r=b?void 0:n(u,"label")),{isLocked:i||f,lockReason:r}}var H=function(e,t){var n=s()(A.a.getReadStatusList(e),(function(e){return e.userId===t}));return o()(n,"unreadCount",0)},Y=function(e){var t=Object(T.c)(e),n=Object(_.p)(t),r=Object(S.b)().location.pathname,a=Object(D.a)(r,{path:"/conversation/:conversationId/:transientId?"});if(!a)return{isConversationPath:!1,conversationId:void 0};var c=o()(a,"params.conversationId"),i=o()(a,"params.transientId");return"survey"===i?{isConversationPath:!0,conversationId:c}:"all"===c?{isConversationPath:!1,conversationId:void 0}:"new"===c?{isConversationPath:!0,conversationId:i||R.e}:"last"===c?{isConversationPath:!0,conversationId:Object(_.b)(n)?Object(_.d)(Object(_.u)(t))||R.e:void 0}:G(c)?{isConversationPath:!0,conversationId:c}:W(c)?{isConversationPath:!0,conversationId:Object(_.i)(n,z(c))}:{isConversationPath:!0,conversationId:c}},q=function(e){return F[e]||F.DEFAULT},K=function(e){return B[e]||B.DEFAULT},X=function(e,t){return-1===p()(Object(_.q)(e),t)},Z=function(e){var t=e.chatConversations.conversations.byId,n=e.chatConversations.conversations.ids;if(Object(L.B)()){var r=Y(e).conversationId;if(!r)return!1;n=[r]}var a=!1;return b()(n,(function(e){if(!t[e].closed&&!t[e].deleted&&t[e].agentAssigned)return a=!0,!1})),a}},765:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(188),a=n.n(r),c=n(137),o=n.n(c),i=n(633),s=n(713),u=function e(t,n){var r=i.a.getField(t);if(r)return r===n;var c=!1;return a()(i.a.getFilters(t),(function(t){return!e(t,n)||(c=!0,!1)})),c},d=function(e){return!!e&&!!e.match(/PROFILE\.(\w+)/)},l=function(e){return d(e)?e.match(/PROFILE\.(\w+)/)[1]:""},p=function(e){var t=e.currentValueMap,n=e.filter,r=i.a.getField(n);return r&&d(r)?t[s.a.PROFILE_CUSTOM_FIELD](n):o()(t[r])?t[r](n):t[r]}},766:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r,a=n(63),c=n(711),o={DELETE_ALL:"DELETE_ALL",CLOSE_ALL:"CLOSE_ALL",CLEAR_SESSION:"CLEAR_SESSION",CHANGE_LOCALE:"CHANGE_LOCALE",TOGGLE_SOUND_NOTIFICATION:"TOGGLE_SOUND_NOTIFICATION",MAXIMIZE:"MAXIMIZE"},i=(r={},Object(a.a)(r,o.DELETE_ALL,c.a.CONVERSATIONS_DELETED),Object(a.a)(r,o.CLOSE_ALL,c.a.CONVERSATIONS_CLOSED),r)},767:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(607),a=n(1280);function c(){return Object(r.useContext)(a.a)}},768:function(e,t,n){"use strict";var r=n(183),a=n(607),c={childList:!0,subtree:!0,attributes:!0};t.a=function(e,t){var n=Object(a.useState)(),o=Object(r.a)(n,2),i=o[0],s=o[1];return Object(a.useLayoutEffect)((function(){var n=[];if(i){if(e.MutationObserver){var r=new e.MutationObserver(t);r.observe(i,c),n.push((function(){return r.disconnect()}))}else e.document.addEventListener("DOMSubtreeModified",t),n.push((function(){return e.document.removeEventListener("DOMSubtreeModified",t)}));n.push((function(){return e.removeEventListener("resize",t)}),(function(){return e.document.removeEventListener("transitionend",t)}))}return function(){n.forEach((function(e){return e()}))}}),[i,t]),Object(a.useCallback)((function(e){e&&s(e)}),[])}},773:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(616),a=n(640),c=(n(607),n(75)),o=n.n(c),i=n(1533),s=n(638),u=n(609),d=n(651),l=n(610);var p=Object(u.a)("div",{target:"enf2rlz0"})("top:0;left:0;margin:0;padding:0;overflow:hidden;position:absolute;width:100%;height:100%;background-color:",(function(e){return Object(d.k)(.48,Object(l.b)("charcoal")(e))}),";"),f=Object(u.a)("div",{target:"enf2rlz1"})({name:"3f9jy3",styles:"top:50%;left:50%;position:absolute;transform:translate(-50%,-50%);"}),b=n(608),O=function(){return Object(b.jsx)(p,null,Object(b.jsx)(f,null,Object(b.jsx)(s.c,null)))},v=n(618),h=n(623),j=["shouldHideLocaleLoader"],g=function(e){var t,n=Object(v.a)(),c=n.direction,s=n.localeDataLoading,u=Object(h.a)(),d=function(e){return o()(e,(function(e,t,n){return e[n]=o()(t,(function(e,t){var n=t.type,r=t.src;return"SCRIPT"===n?"".concat(e,' <script defer src="').concat(r,'"><\/script>'):"CSS"===n?"".concat(e,' <link rel="stylesheet" href="').concat(r,'">'):e}),""),e}),{})}(null===u||void 0===u||null===(t=u.settings)||void 0===t?void 0:t.externalResources),l=e.shouldHideLocaleLoader,p=Object(a.a)(e,j);return Object(b.jsx)(i.a,Object(r.a)({},p,{direction:c,externalResources:d}),e.children,!l&&s&&Object(b.jsx)(O,null))}},774:function(e,t,n){"use strict";var r=n(183),a=n(607),c=n(1262);var o=function(){return Object(a.useContext)(c.a)};t.a=function(e){var t=o(),n=Object(r.a)(t,2),c=n[0],i=n[1],s=Object(a.useCallback)((function(t){i({stateKey:e,state:t})}),[e,i]);return[c&&c.stateKey===e?c.state:null,s]}},778:function(e,t,n){"use strict";var r=n(607),a=n(968);t.a=function(){return Object(r.useContext)(a.a)}},779:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(607),a=n(1265),c=function(){return Object(r.useContext)(a.a)}},783:function(e,t,n){"use strict";var r=n(623),a=n(612),c=n(639),o=n(761),i=function(e){return e};t.a=function(){var e=Object(c.a)(),t=Object(r.a)(),n=Object(a.d)(i);return Object(o.g)(n,t,e)}},784:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"k",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"v",(function(){return d})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return O})),n.d(t,"s",(function(){return v})),n.d(t,"t",(function(){return h})),n.d(t,"p",(function(){return j})),n.d(t,"u",(function(){return g})),n.d(t,"i",(function(){return m})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return y})),n.d(t,"o",(function(){return I})),n.d(t,"e",(function(){return w})),n.d(t,"j",(function(){return C}));var r=n(913);function a(e){return{type:r.e,payload:e}}function c(e){return{type:r.f,payload:e}}function o(e){return{type:r.l,payload:e}}function i(e){return{type:r.s,payload:e}}function s(e){return{type:r.g,payload:e}}function u(e){return{type:r.n,payload:e}}function d(e){return{type:r.w,payload:e}}function l(e){return{type:r.b,payload:e}}function p(e){return{type:r.c,payload:e}}function f(e){return{type:r.d,payload:e}}function b(e){return{type:r.h,payload:e}}function O(e){return{type:r.m,payload:e}}function v(e){return{type:r.k,payload:e}}function h(e){return{type:r.r,payload:e}}function j(e){return{type:r.t,payload:e}}function g(e){return{type:r.a,payload:e}}function m(e){return{type:r.o,payload:e}}function x(e){return{type:r.i,payload:e}}function y(e){return{type:r.p,payload:e}}function I(e){return{type:r.u,payload:e}}function w(e){return{type:r.j,payload:e}}function C(e){return{type:r.q,payload:e}}},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(616),a=n(607),c=n.n(a),o=n(608),i=c.a.createContext(void 0),s=function(e){return function(t){return Object(o.jsx)(i.Consumer,null,(function(n){return Object(o.jsx)(e,Object(r.a)({},t,{customization:n.otherConfigs}))}))}};t.b=i},800:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=new(n(1184).a)({middlewares:[],getContext:function(){return Promise.resolve({})}}),a=function(e){r.clone(e)};t.a=r},815:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},816:function(e,t,n){"use strict";n.d(t,"a",(function(){return H})),n.d(t,"c",(function(){return X})),n.d(t,"b",(function(){return K}));var r=n(616),a=n(135),c=n(34),o=n(185),i=n(183),s=n(627),u=n(607),d=n.n(u),l=n(612),p=n(611),f=n(75),b=n.n(f),O=n(275),v=n.n(O),h=n(782),j=n.n(h),g=n(664),m=n.n(g),x=n(642),y=n.n(x),I=n(677),w=n.n(I),C=n(657),E=n(637),k=n(624),T=n(643),_=n(741),S=n(1185),A=n(832),R=n(650),N=n(622),L=n(630),D=n(20),M=n(73),P=n(753),U=n(766),B=n(831),F=n(184),G=n(763),W=n(701),z=n(608),V=Object(B.a)(),H=d.a.createContext({locale:V,language:Object(B.b)(V),defaultLocale:V,direction:G.b.LTR,localeDataLoading:!0,changeLocale:y.a}),Y={onLocaleDataLoaded:L.d},q=function(e){return m()(function(e,t){return j()(b()(t,(function(t,n){var r=v()(e,"".concat(n,".actionsToShowByVariant")),a=Object(D.x)();return[].concat(Object(s.a)(t),Object(s.a)(a&&(v()(r,a)||v()(r,M.a))||P.a))}),[]),"type")}(e,["allScreens","homeScreen","conversationScreen"]),{type:U.a.CHANGE_LOCALE})},K=function(e){var t=Object(l.d)(N.g),n=Object(R.c)(t),r=n.locale,s=Object(T.a)(),d=Object(u.useState)({localeDataLoading:!0,localeData:void 0}),f=Object(i.a)(d,2),b=f[0],O=f[1],v=Object(u.useRef)(!1),h=Object(_.a)().setNotification,j=Object(k.a)(Y).onLocaleDataLoaded,g=C.a.getDefaultLocale(s)||V,m=E.a.getExternalLocaleData(C.a.getCustomizationConfig(s)),x=q(C.a.getCustomizationConfig(s))||{},y=x.errorNotificationMessage,I=x.successNotificationMessage,L=Object(S.a)({externalLocaleData:m}),D=Object(u.useCallback)(function(){var e=Object(o.a)(Object(a.a)().mark((function e(t){var r,o,i,s=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(s.length>1&&void 0!==s[1])||s[1],O((function(e){return Object(c.a)(Object(c.a)({},e),{},{localeDataLoading:!0})})),e.prev=2,e.next=5,L(t);case 5:if(o=e.sent,i=o.localeData,!r){e.next=11;break}return e.next=10,Object(A.c)(Object(c.a)(Object(c.a)({},n),{},{locale:t}));case 10:I&&h({message:I,type:W.a.SUCCESS});case 11:j({locale:t,data:i.messages}),i&&O((function(e){return Object(c.a)(Object(c.a)({},e),{},{localeData:i})})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),r&&y&&h({message:y,type:W.a.FAILURE}),Object(F.b)(e.t0);case 19:O((function(e){return Object(c.a)(Object(c.a)({},e),{},{localeDataLoading:!1})}));case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),[L,j,I,y,n]);v.current||(v.current=!0,D(r,!1));var M=Object(u.useMemo)((function(){return Object(c.a)(Object(c.a)({},b.localeData||{}),{},{defaultLocale:g,locale:r,localeDataLoading:b.localeDataLoading,changeLocale:D})}),[g,r,D,b]);return w()(b.localeData)?null:Object(z.jsx)(H.Provider,{value:M},Object(z.jsx)(p.e,{defaultLocale:g,locale:r,messages:M.messages},e.children))},X=function(e){return function(t){return Object(z.jsx)(H.Consumer,null,(function(n){return Object(z.jsx)(e,Object(r.a)({},t,{intlContext:n}))}))}};H.Consumer},817:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e&&e[t]},n=t(e,"fullName"),r=t(e,"firstName"),a=t(e,"lastName");if(n)return n;var c=a?" ".concat(a):"",o=r||"";return"".concat(o).concat(c)}},818:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(616),a=n(607),c=n.n(a),o=n(828),i=n(608),s=c.a.createContext((function(){return o.c})),u=function(e){return function(t){return Object(i.jsx)(s.Consumer,null,(function(n){return Object(i.jsx)(e,Object(r.a)({},t,{getUserType:n}))}))}};t.b=s},819:function(e,t,n){"use strict";var r=n(607),a=n.n(r),c=n(917),o=n.n(c),i=n(677),s=n.n(i),u=n(988),d=n(608),l=function(e){var t=e.shouldPlay,n=e.unreadCount,c=e.children,i=Object(u.b)().play,l=o()(n);return Object(r.useEffect)((function(){s()(l)||i&&t&&n>l&&i(u.a.MESSAGE)}),[n,i,l,t]),Object(d.jsx)(a.a.Fragment,null,c)};t.a=a.a.memo(l)},829:function(e,t,n){"use strict";var r=n(607),a=n(1231);t.a=function(){return Object(r.useContext)(a.a)}},830:function(e,t,n){var r=n(1667),a=n(199),c=n(1668);e.exports=function(e){return a(e)?c(e):r(e)}},832:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(135),a=n(667),c=n(800),o=n(797),i=n.n(o),s="/livechat/conversation";function u(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(s,"/chatUsers"),{p:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))}var d=function(e){return Object(a.__awaiter)(void 0,void 0,void 0,Object(r.a)().mark((function t(){var n;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.post("".concat(s,"/chatUser"),{p:i()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext","locale"])},{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))};function l(e){return Object(a.__awaiter)(this,void 0,void 0,Object(r.a)().mark((function t(){var n,a,o,i,s,u,d;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,a=void 0===n?"":n,o=e.size,i=void 0===o?10:o,s=e.pageNum,u=void 0===s?0:s,t.next=3,c.a.post("".concat("/livechat/user","/search-users?query=").concat(a,"&size=").concat(i,"&pageNum=").concat(u),void 0,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 3:return d=t.sent,t.abrupt("return",d.data);case 5:case"end":return t.stop()}}),t)})))}},833:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},834:function(e,t,n){"use strict";n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return E})),n.d(t,"g",(function(){return k}));var r=n(183),a=n(186),c=n.n(a),o=n(72),i=n.n(o),s=n(136),u=n.n(s),d=n(921),l=n.n(d),p=n(679),f=n(610),b=n(1035),O=n(801),v=n(1079),h=n(753),j={top:0,bottom:0,left:0,right:0},g=function(e){var t=Object(f.f)("proactivePrompt.align",Object(f.f)("frame.align")({theme:e}))({theme:e});return{alignType:t,xEdgeToAlign:"L"===t.slice(-1)?O.f.LEFT:O.f.RIGHT}},m=function(e){return g(e).xEdgeToAlign===O.f.LEFT},x=function(e){if(!e)return j;var t=c()(i()(e," "),p.b),n=Object(r.a)(t,4),a=n[0],o=n[1],s=n[2],u=n[3];return{top:Math.abs(u-o+s),bottom:u+o+s,left:Math.abs(u-a+s),right:u+a+s}},y=function(e,t){if(u()(t))return j;var n=t,r=n.buttons,a=n.additional;return r&&r.length>0?x(Object(f.f)("proactivePrompt.button.boxShadow")({theme:e})):!a||a&&!a.hideReplyBox?x(Object(f.f)("proactivePrompt.replyBox.boxShadow")({theme:e})):x(Object(f.f)("proactivePrompt.message.boxShadow")({theme:e}))},I=function(e){var t=e.theme,n=e.iframeWidth,r=e.triggerWidth,a=e.triggerHeight,c=e.triggerXpadding,o=e.triggerYpadding,i=e.visiblePrompt,s=e.promptBottomOffsetWhenOpenedAboveChatBox,u=Object(f.f)("proactivePrompt.paddingLeft")({theme:t}),d=Object(f.f)("proactivePrompt.paddingLeft")({theme:t}),l=Object(f.f)("proactivePrompt.align",Object(f.f)("frame.align")({theme:t}))({theme:t}),p="L"===l.slice(-1)?O.f.LEFT:O.f.RIGHT,b=function(e){var t=e.alignType,n=e.frameSXMargin,r=e.triggerWidth,a=e.triggerXpadding,c=e.proactiveLeftPadding,o=e.proactiveRightPadding;switch(t){case O.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT:case O.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_LEFT:return r+a+n-c;case O.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT:case O.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_RIGHT:return r+a+n-o;case O.b.TRIGGER_TOP_LEFT__BOX_BOTTOM_LEFT:return a+n-c;case O.b.TRIGGER_TOP_RIGHT__BOX_BOTTOM_RIGHT:default:return a+n-o}}({alignType:l,frameSXMargin:Object(f.f)("proactivePrompt.sXMargin",Object(f.f)("frame.sXMargin")({theme:t}))({theme:t}),triggerWidth:r,triggerXpadding:c,proactiveLeftPadding:u,proactiveRightPadding:d}),v=null!==s&&void 0!==s?s:function(e){var t=e.theme,n=e.visiblePrompt,r=e.alignType,a=e.frameSYMargin,c=e.triggerHeight,o=e.triggerYpadding;return r===O.b.TRIGGER_BOTTOM_LEFT__BOX_BOTTOM_RIGHT||r===O.b.TRIGGER_BOTTOM_RIGHT__BOX_BOTTOM_LEFT?o+a-y(t,n).bottom:c+o+a-y(t,n).bottom}({theme:t,alignType:l,visiblePrompt:i,frameSYMargin:Object(f.f)("proactivePrompt.sYMargin",Object(f.f)("frame.sYMargin")({theme:t}))({theme:t}),triggerHeight:a,triggerYpadding:o});return"\n    bottom: ".concat(v,"px;\n    ").concat(p,": ").concat(b,"px;\n    max-width: ").concat(n+u+d,"px;\n  ")},w=function(e){var t=e.theme,n=e.visiblePrompt,r=e.customTriggerPosition,a=e.iframeWidth,c=e.promptBottomOffsetWhenOpenedAboveChatBox,o="L"===Object(f.f)("proactivePrompt.align",Object(f.f)("frame.align")({theme:t}))({theme:t}).slice(-1)?O.f.LEFT:O.f.RIGHT;return I({theme:t,triggerHeight:r.height,triggerWidth:r.width,triggerYpadding:r.bottom,triggerXpadding:"left"===o?r.left:r.right,visiblePrompt:n,iframeWidth:a,promptBottomOffsetWhenOpenedAboveChatBox:c})},C=function(e){var t=e.theme,n=e.visiblePrompt,r=e.iframeWidth,a=e.promptBottomOffsetWhenOpenedAboveChatBox,c=Object(f.f)("trigger.size")({theme:t});return I({theme:t,triggerHeight:c,triggerWidth:c,triggerXpadding:Object(b.e)(t),triggerYpadding:Object(b.c)(t),visiblePrompt:n,iframeWidth:r,promptBottomOffsetWhenOpenedAboveChatBox:a})},E=function(e){var t=e.chatBoxFrameTop,n=e.theme,r=e.visiblePrompt;return t-Object(f.f)("proactivePrompt.sYMargin",Object(f.f)("frame.sYMargin")({theme:n}))({theme:n})+y(n,r).bottom},k=function(e){var t=e.prompt;if(!e.isLocked)return t;var n=t.buttons,r=function(e){return e.length&&l()(e,(function(e){return e.type!==v.b.NEW_CONVERSATION}))}(void 0===n?h.a:n);return r?t:void 0}},859:function(e,t,n){"use strict";var r=n(63),a=n(34),c=n(607),o=n(641),i=n.n(o),s=n(186),u=n.n(s),d=n(139),l=n.n(d),p=n(751),f=n.n(p),b=n(137),O=n.n(b),v=n(188),h=n.n(v),j=n(686),g=n(184),m=[],x=!1,y=function(){return Object(j.b)().history},I=function(){try{m.length>0&&setTimeout((function(){try{h()(m,(function(e){return e()}))}catch(e){Object(g.b)(e)}}),0)}catch(e){m=[],Object(g.b)(e)}},w=function(){var e=Object(j.b)();Object(j.c)(e)&&!x&&(!function(){if(!x){x=!0;var e=Object(j.b)(),t=y().pushState,n=y().replaceState;e.history.pushState=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var c=t.call.apply(t,[e.history].concat(r));return I(),c},e.history.replaceState=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var c=n.call.apply(n,[e.history].concat(r));return I(),c}}}(),e.addEventListener("popstate",I),e.addEventListener("hashchange",I))},C=function(){return Object(c.useCallback)((function(e){return function(e){O()(e)&&(m.push(e),w())}(e),function(){!function(e){O()(e)&&(m=f()(m,(function(t){return t!==e})))}(e)}}),[])},E=n(685);t.a=function(){var e=C(),t=Object(c.useRef)(Object(E.b)()),n=Object(c.useRef)({}),o=Object(c.useRef)(""),s=Object(c.useCallback)((function(){o.current=t.current,t.current=Object(E.b)(),o.current!==t.current&&u()(n.current,(function(e){e({currentUrl:t.current,previousUrl:o.current})}))}),[]);return{subscribe:Object(c.useCallback)((function(t,c){n.current=Object(a.a)(Object(a.a)({},n.current),{},Object(r.a)({},t,c));var o=null;return 1===l()(n.current).length&&(o=e(s)),function(){n.current=i()(n.current,t),0===l()(n.current).length&&null!==o&&o()}}),[]),getValue:Object(c.useCallback)((function(){return t.current}),[])}}},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(686),a=n(20),c=function(){return Object(a.K)()&&Object(r.d)()},o=function(){return Object(a.L)()&&Object(r.d)()}},871:function(e,t,n){"use strict";var r=i(n(1673)),a=i(n(1678)),c=i(n(1269)),o=i(n(1266));function i(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:o.default,TransitionGroup:c.default,ReplaceTransition:a.default,CSSTransition:r.default}},874:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=["video/mp4","video/quicktime"],a=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],c=[].concat(a,["audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"]),o=["image/jpeg","image/png","image/gif"],i=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},896:function(e,t,n){"use strict";var r=n(34),a=n(607),c=n(642),o=n.n(c),i=n(1259),s=n(63),u=n(859),d=n(633),l=function(){var e=Object(u.a)(),t=e.subscribe,n=e.getValue;return{subscribe:Object(a.useCallback)((function(e,n){var r=d.a.getId(e);return t(r,n)}),[t]),getValue:n}},p=n(641),f=n.n(p),b=n(658),O=n.n(b),v=n(275),h=n.n(v),j=n(709),g=n.n(j),m=n(188),x=n.n(m),y=n(764),I=n.n(y),w=(n(616),n(1261));n(608);var C=function(){return Object(a.useContext)(w.b)},E=n(634),k=function(e,t){return(g()(h()(e,t))||E.a).startTime||0},T=function(e){var t,n=e.startTime,r=e.expectedElapsedTime,a=e.onTimeout,c=r-(n?Date.now()-n:0);return c>0&&(t=window.setTimeout((function(){a()}),c)),t},_=function(){var e=C(),t=e.pagesMetaData,n=e.currentPageUrl,c=Object(a.useRef)(k(t,n));c.current=k(t,n);var o=Object(a.useRef)({}),i=Object(a.useCallback)((function(e,t){var n=d.a.getId(e),a=O()(d.a.getValues(e));return o.current=Object(r.a)(Object(r.a)({},o.current),{},Object(s.a)({},n,{timeoutId:T({startTime:c.current,expectedElapsedTime:a,onTimeout:t}),onChangeCallback:t,filterValue:a})),function(){clearTimeout(h()(o.current,"".concat(n,".timeoutId"))),o.current=f()(o.current,n)}}),[]);return I()((function(){x()(o.current,(function(e){var t=e.timeoutId,n=e.onChangeCallback,r=e.filterValue;clearTimeout(t),n(),e.timeoutId=T({startTime:c.current,expectedElapsedTime:r,onTimeout:n})}))}),[n]),{subscribe:i,getValue:Object(a.useCallback)((function(){return c.current?Date.now()-c.current:0}),[])}},S=n(612),A=n(917),R=n.n(A),N=n(186),L=n.n(N),D=n(677),M=n.n(D),P=n(635),U=n(622),B=n(624),F=n(659),G=n(710),W=function(e){return Object(P.t)(Object(P.p)(Object(U.c)(e)))},z={fetchOpenConversationCount:F.j,initPusherConnection:G.e},V=function(){var e=Object(a.useRef)(),t=Object(a.useRef)({}),n=Object(B.a)(z),c=n.fetchOpenConversationCount,o=n.initPusherConnection,i=Object(S.d)(W);e.current=i;var u=R()(i);return Object(a.useEffect)((function(){M()(e.current)&&c()}),[]),I()((function(){L()(t.current,(function(e){e()}))}),[e.current]),I()((function(){M()(u)&&i&&o()}),[i,u,o]),{subscribe:Object(a.useCallback)((function(e,n){var a=d.a.getId(e);return t.current=Object(r.a)(Object(r.a)({},t.current),{},Object(s.a)({},a,n)),function(){t.current=f()(t.current,a)}}),[]),getValue:Object(a.useCallback)((function(){return e.current}),[])}},H=n(799),Y=n(737),q=function(){var e=Object(a.useRef)(0),t=Object(H.a)();e.current=Y.a.getTimeToAvailability(t);var n=Object(a.useRef)({}),c=Object(a.useCallback)((function(){return e.current}),[]);return{subscribe:Object(a.useCallback)((function(t,a){var c,o=d.a.getId(t),i=h()(t,"details.timeToBusinessHours"),u=-1;return!M()(i)&&i>0?u=i:!M()(e.current)&&e.current>0&&(u=e.current),u>=0&&(c=window.setTimeout(a,u)),n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(s.a)({},o,c)),function(){clearTimeout(h()(n.current,"".concat(o,".timeoutId"))),n.current=f()(n.current,o)}}),[]),getValue:c}},K=function(){var e=Object(a.useRef)(0),t=Object(H.a)();e.current=Y.a.getNoOfAgentsAvailable(t);var n=Object(a.useRef)({});return I()((function(){L()(n.current,(function(e){e()}))}),[e.current]),{subscribe:Object(a.useCallback)((function(e,t){var a=d.a.getId(e);return n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(s.a)({},a,t)),function(){n.current=f()(n.current,a)}}),[]),getValue:Object(a.useCallback)((function(){return e.current}),[])}},X=function(){var e=Object(a.useRef)(0),t=Object(H.a)();e.current=Y.a.getNumberOfPendingCases(t);var n=Object(a.useRef)({});return I()((function(){L()(n.current,(function(e){e()}))}),[e.current]),{subscribe:Object(a.useCallback)((function(e,t){var a=d.a.getId(e);return n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(s.a)({},a,t)),function(){n.current=f()(n.current,a)}}),[]),getValue:Object(a.useCallback)((function(){return e.current}),[])}},Z=n(829),J=function(){var e=Object(Z.a)().device,t=Object(a.useRef)({}),n=Object(a.useRef)(e);n.current=e,I()((function(){L()(t.current,(function(e){e()}))}),[n.current]);var c=Object(a.useCallback)((function(e,n){var a=d.a.getId(e);return t.current=Object(r.a)(Object(r.a)({},t.current),{},Object(s.a)({},a,n)),function(){t.current=f()(t.current,a)}}),[]);return{getValue:Object(a.useCallback)((function(){return n.current}),[]),subscribe:c}},Q=n(713),$="city",ee="countryLong",te="region",ne=function(){var e=Object(a.useRef)(0),t=Object(H.a)();e.current=Y.a.getUserIPDetails(t);var n=Object(a.useRef)({});return I()((function(){L()(n.current,(function(e){e()}))}),[e.current]),{subscribe:Object(a.useCallback)((function(e,t){var a=d.a.getId(e);return n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(s.a)({},a,t)),function(){n.current=f()(n.current,a)}}),[]),getValue:Object(a.useCallback)((function(){return function(t){var n=d.a.getField(t),r=e.current||E.a;switch(n){case Q.a.USER_IP_DETAILS_CITY:return r[$];case Q.a.USER_IP_DETAILS_COUNTRY:return r[ee];case Q.a.USER_IP_DETAILS_REGION:return r[te];default:return}}}),[])}},re=n(765),ae=n(25),ce=n(20),oe=function(){var e=Object(ae.a)(),t=Object(a.useRef)(e.userContext),n=Object(a.useRef)({}),c=Object(a.useCallback)((function(e){t.current=e,L()(n.current,(function(e){e()}))}),[]);return Object(a.useEffect)((function(){return Object(ce.O)("userContext",c),function(){Object(ce.P)("userContext",c)}}),[]),{subscribe:Object(a.useCallback)((function(e,t){var a=e.id;return n.current=Object(r.a)(Object(r.a)({},n.current),{},Object(s.a)({},a,t)),function(){n.current=f()(n.current,a)}}),[]),getValue:Object(a.useCallback)((function(){return function(e){var n,r,a=e.field,c=Object(re.a)(a);return null===(n=t.current)||void 0===n||null===(r=n[c])||void 0===r?void 0:r[0]}}),[])}},ie=n(685),se=function(){var e=l(),t=e.getValue,n=e.subscribe,r=_(),c=r.getValue,o=r.subscribe,i=V(),u=i.getValue,p=i.subscribe,f=q(),b=f.getValue,O=f.subscribe,v=K(),h=v.getValue,j=v.subscribe,g=X(),m=g.getValue,x=g.subscribe,y=J(),I=y.getValue,w=y.subscribe,C=ne(),E=C.getValue,k=C.subscribe,T=oe(),S=T.getValue,A=T.subscribe;return{getValue:Object(a.useCallback)((function(){var e;return e={},Object(s.a)(e,Q.a.CURRENT_URL,t()),Object(s.a)(e,Q.a.TOTAL_TIME_SPENT,c()),Object(s.a)(e,Q.a.IS_CONVERSATION_OPEN,u()),Object(s.a)(e,Q.a.AVAILABLE_AGENTS,h()),Object(s.a)(e,Q.a.AGENT_OUT_OF_CAPACITY,m()),Object(s.a)(e,Q.a.BUSINESS_HOURS,b()),Object(s.a)(e,Q.a.DEVICE_TYPE,I()),Object(s.a)(e,Q.a.USER_IP_DETAILS_CITY,E()),Object(s.a)(e,Q.a.USER_IP_DETAILS_COUNTRY,E()),Object(s.a)(e,Q.a.USER_IP_DETAILS_REGION,E()),Object(s.a)(e,Q.a.USER_AGENT,Object(ie.e)()),Object(s.a)(e,Q.a.PROFILE_CUSTOM_FIELD,S()),e}),[t,c,u,b,h,m,I,E,S]),subscribe:Object(a.useCallback)((function(e,t){if(Object(re.d)(d.a.getField(e)))return A(e,t);switch(d.a.getField(e)){case Q.a.TOTAL_TIME_SPENT:return o(e,t);case Q.a.CURRENT_URL:return n(e,t);case Q.a.IS_CONVERSATION_OPEN:return p(e,t);case Q.a.AVAILABLE_AGENTS:return j(e,t);case Q.a.AGENT_OUT_OF_CAPACITY:return x(e,t);case Q.a.BUSINESS_HOURS:return O(e,t);case Q.a.DEVICE_TYPE:return w(e,t);case Q.a.USER_IP_DETAILS_CITY:case Q.a.USER_IP_DETAILS_COUNTRY:case Q.a.USER_IP_DETAILS_REGION:return k(e,t);default:return null}}),[n,o,p,O,j,x,w,k,A])}};t.a=function(e,t){var n=(t||E.a)._getStaticValueMap,c=void 0===n?o.a:n,s=se(),u=s.getValue,d=s.subscribe,l=Object(a.useCallback)((function(){return Object(r.a)(Object(r.a)({},c()),u())}),[u,c]);return Object(i.a)(e,Object(r.a)(Object(r.a)({},t),{},{getValue:l,subscribe:d}))}},900:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return T}));var r,a=n(183),c=n(63),o=n(607),i=n.n(o),s=n(1285),u=n.n(s),d=n(612),l=n(1279),p=n(989),f=n(275),b=n.n(f),O=n(623),v=n(637),h=function(){var e=Object(O.a)();return!!b()(v.a.getUserPreferences(e),"enableSoundNotification")},j=n(622),g=n(676),m=function(e){return Object(g.e)(Object(j.b)(e))},x=n(1284),y=n(629),I=n(650),w=n(608),C={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},E=i.a.createContext({}),k=(r={},Object(c.a)(r,C.MESSAGE,"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3"),Object(c.a)(r,C.AGENT_ASSIGNMENT,"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.mp3"),Object(c.a)(r,C.CALL,"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"),r),T=function(e){var t=e.children,n=Object(d.d)(y.h),r=Object(I.d)(n),c=Object(x.a)({category:"LIVE_CHAT",userId:r}),i=u()({src:"","data-testid":"messageAudio",preload:"none"}),s=Object(a.a)(i,4),f=s[0],b=s[2],O=s[3],v=u()({src:"","data-testid":"callPickedByAgentNotifAudio",preload:"none"}),j=Object(a.a)(v,4),g=j[0],T=j[2],_=j[3],S=u()({src:"",loop:!0,"data-testid":"callAudio",preload:"none"}),A=Object(a.a)(S,4),R=A[0],N=A[2],L=A[3],D=Object(p.a)(),M=function(){var e=Object(d.d)(m).enableSoundNotification.enabled,t=h();return e&&t}(),P=h(),U=Object(o.useCallback)((function(){O.current&&(O.current.src=k.MESSAGE),_.current&&(_.current.src=k.AGENT_ASSIGNMENT),L.current&&(L.current.src=k.CALL)}),[]),B=Object(o.useCallback)((function(e){switch(e){case C.MESSAGE:return M?b.play():Promise.resolve();case C.AGENT_ASSIGNMENT:return T.play();case C.CALL:return N.play()}return Promise.resolve()}),[b,T,N,M]),F=Object(o.useCallback)((function(e){var t;return null===(t=B(e))||void 0===t?void 0:t.catch((function(t){return c.warning("Sound Notification Failed for ".concat(e,":  ").concat(t))}))}),[B]),G=Object(o.useCallback)((function(e){switch(e){case C.MESSAGE:return b.pause();case C.AGENT_ASSIGNMENT:return T.pause();case C.CALL:return N.pause()}}),[b,T,N]),W=Object(o.useMemo)((function(){return{play:F,pause:G}}),[F,G]);return Object(w.jsx)(E.Provider,{value:W},Object(w.jsx)(l.b,{onClick:U},P&&f,D&&g,D&&R,t))};t.c=E},906:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var r=n(1056),a=function(e){var t=e.file,n=e.conversationId,a=e.sender,c=e.inReplyToChatMessageId;return{type:r.b,payload:{file:t,conversationId:n,chatUserId:a,inReplyToChatMessageId:c}}},c=function(e,t){var n=e.initialMessages,a=e.createCase,c=e.conversationContext,o=e.silent,i=e.assignToUser,s=e.additional;return{type:r.c,payload:{initialMessages:n,createCase:a,assignToUser:i,silent:o,conversationContext:c,additional:s},promise:t}},o=function(e,t){var n=e.conversationId;return{type:r.a,payload:{conversationId:n},promise:t}}},918:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,a=n(607),c=["title","titleId"];function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n=e.title,s=e.titleId,u=i(e,c);return a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",ref:t,"aria-labelledby":s},u),n?a.createElement("title",{id:s},n):null,r||(r=a.createElement("path",{d:"M7 14a7 7 0 10-7-7 7 7 0 007 7zm2.883-4.66a.332.332 0 010 .498.443.443 0 01-.597 0l-2.34-2.29-2.34 2.34a.332.332 0 01-.499 0 .39.39 0 010-.548L6.447 7l-2.34-2.34a.333.333 0 010-.498.39.39 0 01.548 0l2.29 2.34 2.29-2.39a.387.387 0 11.549.548L7.492 7z",fillRule:"evenodd"})))}var u=a.forwardRef(s);n.p},919:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(611),a=Object(r.g)({coBrowseControl:{id:"coBrowseControl",defaultMessage:"Co-browse control"},coBrowseInformation:{id:"coBrowseInformation",defaultMessage:"Co-browse information"},agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopScreenShare:{id:"stopScreenShare",defaultMessage:"Stop Screen Share"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},allowScreenShare:{id:"allowScreenShare",defaultMessage:"Allow Screen Share"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Accepting this will allow them to interact with your screen."},cobrowseFullScreenControlConfirmationMessage:{id:"cobrowseFullScreenControlConfirmationMessage",defaultMessage:"{agentName} is requesting you to share your screen. Accepting this will share your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},920:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"f",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return j})),n.d(t,"i",(function(){return g}));var r=n(977);function a(){return{type:r.m,payload:{}}}function c(e){var t=e.messageId,n=e.conversationId,a=e.agentId;return{type:r.i,payload:{messageId:t,conversationId:n,agentId:a}}}function o(){return{type:r.n,payload:{}}}function i(e){return{type:r.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:r.h,payload:e}}function u(e){return{type:r.c,payload:e}}function d(e){return{type:r.f,payload:e}}function l(e){return{type:r.a,payload:e}}function p(e){return{type:r.d,payload:e}}function f(e){return{type:r.b,payload:e}}function b(e){return{type:r.e,payload:e}}function O(e){return{type:r.o,payload:e}}function v(e){return{type:r.p,payload:e}}function h(e){return{type:r.k,payload:e}}function j(e){return{type:r.l,payload:e}}var g=function(e){return{type:r.j,payload:e}}},958:function(e,t,n){"use strict";var r=n(135),a=n(616),c=n(183),o=n(640),i=n(185),s=n(607),u=n(734),d=n.n(u),l=n(670),p=n(275),f=n.n(p),b=n(621),O=n(1264),v=n(609),h=n(610),j=Object(v.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(function(e){return!e.svgLoaded&&Object(h.b)("azure")(e)}),";"),g=n(608),m=["name","className","theme","window","css","onLoad"];function x(){return(x=Object(i.a)(Object(r.a)().mark((function e(t,n,a,c){var o,i,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.document.getElementById(n),e.next=3,Object(O.a)(a);case 3:i=e.sent,(s=i.documentElement.cloneNode(!0)).setAttribute("class","spa full-height full-width"),s.setAttribute("style","top:0px; left:0px"),o&&o.appendChild(s),c();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){var t=e.name,n=e.className,r=e.theme,i=e.window,u=e.css,l=e.onLoad,p=Object(o.a)(e,m),b=Object(s.useMemo)((function(){return"".concat(t,"_").concat(d()())}),[t]),O=Object(s.useState)(!1),v=Object(c.a)(O,2),h=v[0],y=v[1];return Object(s.useEffect)((function(){h&&l&&l()}),[h,l]),Object(s.useEffect)((function(){var e=f()(r,["icons",t]);!function(e,t,n,r){x.apply(this,arguments)}(i,b,e,(function(){y(!0)}))}),[b,t]),Object(g.jsx)(j,Object(a.a)({key:b,className:"spr ".concat(n),css:u,id:b,svgLoaded:h,"data-testid":"Custom header icon"},p))},I=function(e){var t=e.name,n=e.className,r=e.theme,a=e.css,c=e.onClick,o=e.onKeyPress,i=e.alt,u=e.onLoad,d=f()(r,"icons.".concat(t));if(Object(s.useEffect)((function(){!d&&u&&u()}),[d,u]),d)return Object(g.jsx)(y,e);var l=i;return Object(g.jsx)(l,{className:n,css:a,onClick:c,onKeyPress:o,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(s.memo)(Object(b.c)((function(e){return Object(g.jsx)(l.FrameContextConsumer,null,(function(t){var n=t.window;return Object(g.jsx)(I,Object(a.a)({},e,{window:n}))}))})))},964:function(e,t){e.exports=function(e){return null===e}},965:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n(1053).a)},966:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"a",(function(){return v}));var r=n(627),a=n(775),c=n.n(a),o=n(188),i=n.n(o),s=n(137),u=n.n(s),d=n(654),l=n.n(d),p=n(189),f={};function b(e,t){var n=t.topic,a=t.subscriber;if(l()(n)&&u()(a)){var c=f[n];f[n]=c?[].concat(Object(r.a)(c),[a]):[a]}}function O(e,t){var n=t.topic,r=t.subscriber;if(l()(n)&&u()(r)){var a=f[n],o=c()(a,(function(e){return e===r}));-1!==o&&(a.splice(o,1),f[n]=a)}}function v(e){var t=e.topic,n=e.payload,r=f[t];i()(r,(function(e,t){try{e(n)}catch(r){Object(p.a)(r)}}))}},967:function(e,t,n){var r=n(141),a=n(320),c=n(279),o=n(1229),i=n(1605),s=n(280),u=n(138);e.exports=function(e,t,n){if((e=u(e))&&(n||void 0===t))return a(e);if(!e||!(t=r(t)))return e;var d=s(e),l=s(t),p=i(d,l),f=o(d,l)+1;return c(d,p,f).join("")}},978:function(e,t,n){var r=n(278),a=n(1064),c=n(973),o=n(909),i=r((function(e,t){var n=o(t,c(i));return a(e,32,void 0,t,n)}));i.placeholder={},e.exports=i},980:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(183),a=n(607),c=n.n(a),o=n(612),i=n(774),s=n(904),u=n(690),d=n(20),l=n(608),p="sessionExpiryModal",f=c.a.createContext(null),b=Object(a.memo)((function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],b=n[1],O=Object(i.a)(p),v=Object(r.a)(O,2),h=v[0],j=v[1],g=Object(o.c)(),m=Object(d.L)();return Object(a.useEffect)((function(){var e=s.d.on((function(e){switch(e.type){case s.c:b(e.payload.targetDate);break;case s.b:b(null)}}));return function(){return e()}}),[m]),Object(a.useEffect)((function(){if(c)return m&&g({type:u.d}),void j(!0);h&&j(!1)}),[c]),Object(l.jsx)(f.Provider,{value:c},e.children)}));t.c=f},982:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={NEW:"NEW",EXISTING:"EXISTING",LAST:"LAST"}},983:function(e,t,n){"use strict";var r=function(){};e.exports=r},984:function(e,t,n){"use strict";var r=n(607),a=n(1279);t.a=function(){var e=Object(r.useContext)(a.a),t=Object(r.useRef)(null);return Object(r.useEffect)((function(){return function(){t.current&&e.removePublisher(t.current)}}),[]),Object(r.useCallback)((function(n){t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},987:function(e,t,n){"use strict";var r=n(183),a=n(607),c=n(768);t.a=function(e,t){var n=Object(a.useState)(),o=Object(r.a)(n,2),i=o[0],s=o[1],u=Object(c.a)(e,t);return Object(a.useEffect)((function(){var n=[];if(i)if(e.ResizeObserver){var r=new e.ResizeObserver(t);r.observe(i),n.push((function(){return r.disconnect()}))}else u(i);return function(){n.forEach((function(e){return e()}))}}),[i]),Object(a.useCallback)((function(e){e&&s(e)}),[])}},988:function(e,t,n){"use strict";var r=n(607),a=n(900);n.d(t,"a",(function(){return a.b})),t.b=function(){return Object(r.useContext)(a.c)}},989:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(643),a=n(657),c=function(){var e=Object(r.a)();return!!e&&!!a.a.getCallAccountId(e)}}}]);